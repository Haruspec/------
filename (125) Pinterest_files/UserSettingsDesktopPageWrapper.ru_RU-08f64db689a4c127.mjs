(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[83634,97776,1606],{849474:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(619013),l=i(13882);function a(e,t){(0,l.Z)(2,arguments);var i=(0,s.Z)(e),a=(0,s.Z)(t),n=i.getTime()-a.getTime();return n<0?-1:n>0?1:n}},31397:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(619013),l=i(13882);var a=i(849474);function n(e,t){(0,l.Z)(2,arguments);var i=(0,s.Z)(e),n=(0,s.Z)(t),o=(0,a.Z)(i,n),r=Math.abs(function(e,t){(0,l.Z)(2,arguments);var i=(0,s.Z)(e),a=(0,s.Z)(t);return i.getFullYear()-a.getFullYear()}(i,n));i.setFullYear("1584"),n.setFullYear("1584");var c=o*(r-((0,a.Z)(i,n)===-o));return 0===c?0:c}},364098:e=>{var t,i,s,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"updatedSettings"}],kind:"Fragment",metadata:null,name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"updatedSettings",variableName:"updatedSettings"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[l],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"7162348715dcaf7d8e559b82fdb2855ec99a3a7d15a86739a8ff186c6878a257",metadata:{},name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",operationKind:"mutation",text:null}};a.hash="d9bfbc19f803dd86d2747e77438af7d3",e.exports=a},61849:(e,t,i)=>{i.d(t,{CB:()=>h,y9:()=>_});var s=i(667294),l=i(583592),a=i(883119),n=i(970588),o=i(88622),r=i(536042),c=i(785893);const d=({onConfirm:e})=>{const t=(0,r.ZP)(),[i,l]=(0,s.useState)(!1),d=()=>{l(!0),(0,n.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(o.ZP,{accessibilityModalLabel:t.bt("Подтвердите свой адрес электронной почты", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,heading:t.bt("Подтвердите свой адрес электронной почты", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,c.jsxs)(a.kC,{justifyContent:"end",gap:{row:2,column:0},children:[i?(0,c.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t.bt("Сообщение отправлено", "Email sent", "Button text for verification email being sent", undefined, true),disabled:i,onClick:d}):(0,c.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t.bt("Отправить еще раз", "Resend email", "Button text for resending email verification email", undefined, true),disabled:i,onClick:d}),(0,c.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",text:t.bt("Понятно", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true),onClick:e})]}),role:"alertdialog",children:(0,c.jsx)(a.xu,{padding:8,children:(0,c.jsx)(a.xv,{align:"center",size:"300",children:t.bt("Защитите свой аккаунт, подтвердив свой адрес электронной почты. Поищите в почтовом ящике, связанном с этим аккаунтом, письмо от нас, чтобы и дальше использовать Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:u,useHook:_}=(0,l.Z)("EmailVerificationReminderModal");function h({children:e}){const[t,i]=(0,s.useState)(!1),l=(0,s.useMemo)((()=>({showEmailVerificationReminderModal:()=>{i(!0)}})),[]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(u,{value:l,children:e}),t&&(0,c.jsx)(d,{onConfirm:()=>{i(!1)}})]})}},36521:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(883119),l=i(536042),a=i(785893);function n({accessibilityLabel:e,fixedPosition:t,rounding:i}){const n=(0,l.ZP)();return(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(s.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new s.Ry(101),children:(0,a.jsx)(s.$j,{accessibilityLabel:e||n.bt("Загрузка", "Loading", "Label for loading spinner", undefined, true),show:!0})}),(0,a.jsx)(s.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new s.Ry(100),rounding:i})]})}},838642:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(883119),l=i(682126),a=i(88622),n=i(536042),o=i(549201),r=i(785893);const c=function({age:e,closeModal:t,onConfirm:i}){const c=(0,n.ZP)(),d=(0,o.HG)(),u=(0,l.ew)(e,c),_=c.bt("Закрыть модальное окно для подтверждения даты рождения", "Close Birthdate Confirmation Modal", "profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.CloseAccessibilityLabel", undefined, true);return(0,r.jsxs)(a.ZP,{mobileIsSlideUp:!0,mobileAccessibilityCloseIconLabel:_,isOpen:!0,accessibilityModalLabel:c.bt("Модальное окно для подтверждения даты рождения", "Birthdate Confirmation Modal", "profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.AccessibilityLabel", undefined, true),onDismiss:t,closeOnOutsideClick:!1,size:d?"sm":"lg",heading:d?(0,r.jsxs)(s.kC,{justifyContent:"between",children:[(0,r.jsx)(s.xu,{marginStart:6,flex:"grow",children:(0,r.jsx)(s.X6,{size:"500",align:"center",accessibilityLevel:1,children:u})}),(0,r.jsx)(s.hU,{accessibilityLabel:_,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"xs"})]}):null,footer:(0,r.jsx)(s.xu,{marginBottom:d?0:11,children:(0,r.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,r.jsx)(s.xu,{paddingX:d?1:5,width:"50%",justifyContent:d?"end":"center",display:"flex",children:(0,r.jsx)(s.zx,{text:c.bt("Редактирование информации", "Edit info", "profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.EditButton", undefined, true),onClick:t,size:"lg",fullWidth:!d})}),(0,r.jsx)(s.xu,{paddingX:d?1:5,width:"50%",justifyContent:d?"start":"center",display:"flex",children:(0,r.jsx)(s.zx,{color:"red",onClick:()=>{i()},text:c.bt("Подтвердить", "Confirm", "profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.ConfirmButotn", undefined, true),size:"lg",fullWidth:!d})})]})}),children:[d?null:(0,r.jsx)(s.xu,{marginBottom:4,paddingX:4,children:(0,r.jsx)(s.X6,{size:"600",align:"center",accessibilityLevel:"none",children:u})}),(0,r.jsx)(s.xu,{marginBottom:d?0:8,paddingX:4,children:(0,r.jsx)(s.kC,{justifyContent:"start",direction:"column",alignItems:"stretch",children:(0,r.jsx)(s.xv,{size:d?"300":"400",align:"center",children:(0,l.Pe)(c)})})})]})}},60933:(e,t,i)=>{i.d(t,{Z:()=>m});var s=i(883119),l=i(88622),a=i(536042),n=i(630089),o=i(814247),r=i(819079),c=i(837792),d=i(549201),u=i(802071),_=i(712968),h=i(785893);const m=function(){const e=(0,a.ZP)(),t=(0,o.aU)(),i=(0,d.HG)(),m=(0,u.Z)(),p=m.isAuth?m.id:"",g=(0,_.mN)()(p);(0,r.Z)({name:"UserSettingsResource"});const x=()=>{t({redirectUrl:"/",source:"underage_user_deactivation_logout"})};return(0,h.jsx)(l.ZP,{mobileIsSlideUp:!0,isOpen:!0,accessibilityModalLabel:e.bt("Модальное окно для деактивации аккаунта пользователя", "User Account Deactivation Modal", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AccessibilityLabel", undefined, true),onDismiss:x,closeOnOutsideClick:!1,size:i?"sm":"lg",heading:(0,h.jsx)(s.xu,{marginTop:i?0:6,marginBottom:4,paddingX:4,children:(0,h.jsx)(s.X6,{size:i?"500":"600",align:"center",accessibilityLevel:"none",children:e.bt("Мы деактивировали ваш аккаунт", "We've deactivated your account", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.Heading", undefined, true)})}),footer:(0,h.jsx)(s.xu,{marginBottom:i?0:11,children:(0,h.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:(0,h.jsx)(s.xu,{paddingX:5,width:i?"auto":"100%",justifyContent:"center",display:"flex",children:(0,h.jsx)(s.zx,{color:"red",onClick:x,text:e.bt("Закрыть", "Close", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmButotn", undefined, true),size:"lg",fullWidth:!0})})})}),children:(0,h.jsx)(s.xu,{marginBottom:i?0:8,paddingX:4,children:(0,h.jsxs)(s.kC,{justifyContent:"start",direction:"column",alignItems:"stretch",children:[(0,h.jsx)(s.xu,{marginBottom:4,children:(0,h.jsx)(s.xv,{size:"300",children:(0,n.nk)(e.bt("К сожалению, предоставленная вами дата рождения указывает на то, что вы не достигли допустимого возраста для владения аккаунтом Pinterest в соответствии с нашими {{ tosLink }}.", "Unfortunately the birthdate you provided means you're not old enough for a Pinterest account according to our {{ tosLink }}.", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmationMessage", undefined, true),{tosLink:(0,h.jsx)(s.rU,{href:c.F2,display:"inlineBlock",target:"blank",children:e.bt("Условиями предоставления услуг", "terms of service", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.TermsOfService", undefined, true)},"termsOfServiceLink")})})}),(0,h.jsx)(s.xu,{children:(0,h.jsxs)(s.aV,{label:(0,h.jsx)(s.xv,{size:"300",weight:"bold",children:e.bt("Что можно сделать", "What you can do now", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HeadingText", undefined, true)}),type:"unordered",spacing:"condensed",children:[(0,h.jsx)(s.aV.Item,{text:e.bt("Вы можете подать апелляцию, если считаете, что ваш аккаунт был деактивирован по ошибке", "You can file an appeal if you think your account was deactivated by mistake", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AppealText", undefined, true)}),(0,h.jsx)(s.aV.Item,{text:(0,h.jsx)(s.xv,{children:(0,n.nk)(e.bt("Подробные сведения и инструкции для подачи апелляции отправлены на этот адрес: {{ email }}", "What you can do now More information and instructions for an appeal have been sent to {{ email }}", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailText", undefined, true),{email:(0,h.jsx)(s.xv,{weight:"bold",inline:!0,children:null==g?void 0:g.email},"user-email-birthdate-verification-modal")})})}),(0,h.jsx)(s.aV.Item,{text:(0,h.jsx)(s.xv,{children:(0,n.nk)(e.bt("Если у вас больше нет доступа к этому электронному адресу, {{ helpLink }}", "If you no longer have access to that email address, {{ helpLink }}", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HelpText", undefined, true),{helpLink:(0,h.jsx)(s.rU,{href:c.MA,display:"inlineBlock",target:"blank",children:e.bt("мы можем помочь", "we can help", "profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailHelpLinkText", undefined, true)},"emailHelpLink")})})})]})})]})})})}},180306:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(883119),l=i(88622),a=i(536042),n=i(630089),o=i(549201),r=i(785893);const c=function({userEmail:e,closeModal:t}){const i=(0,a.ZP)(),c=(0,o.HG)(),d=i.bt("Нам нужна дополнительная информация", "We need more information", "profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.Header", undefined, true),u=c?i.bt("Закрыть модальное окно для подтверждения даты рождения", "Close Birthdate Verification Modal", "profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.CloseAccessibilityLabel", undefined, true):"",_=()=>{t()};return(0,r.jsx)(l.ZP,{mobileIsSlideUp:!0,mobileAccessibilityCloseIconLabel:u,isOpen:!0,accessibilityModalLabel:i.bt("Модальное окно для подтверждения даты рождения", "Birthdate Verification Modal", "profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.AccessibilityLabel", undefined, true),onDismiss:_,closeOnOutsideClick:!1,size:"sm",heading:c?(0,r.jsxs)(s.kC,{justifyContent:"between",children:[(0,r.jsx)(s.xu,{marginStart:6,flex:"grow",children:(0,r.jsx)(s.X6,{size:"500",align:"center",accessibilityLevel:1,children:d})}),(0,r.jsx)(s.hU,{accessibilityLabel:u,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"xs"})]}):(0,r.jsx)(s.xu,{marginBottom:4,marginTop:6,children:(0,r.jsx)(s.X6,{size:"500",align:"center",accessibilityLevel:"none",children:d})}),footer:(0,r.jsx)(s.xu,{marginBottom:c?0:11,children:(0,r.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:(0,r.jsx)(s.xu,{paddingX:5,width:c?"auto":"100%",justifyContent:"center",display:"flex",children:(0,r.jsx)(s.zx,{color:"red",onClick:_,text:i.bt("Понятно", "Got it", "profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.GotItButotn", undefined, true),size:"lg",fullWidth:!c})})})}),children:(0,r.jsx)(s.xu,{paddingX:4,marginBottom:c?0:8,children:(0,r.jsx)(s.xv,{align:"center",children:(0,n.nk)(i.bt("Изменения в вашей дате рождения еще не сохранены. Мы отправили вам письмо с запросом на дополнительную информацию на адрес {{ userEmail }}.", "The change to your birthdate hasn’t been saved yet. We’ve sent an email to {{ userEmail }} for more information.", "profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.ExplanationText", undefined, true),{userEmail:(0,r.jsx)(s.xv,{weight:"bold",inline:!0,children:e},"user-email-birthdate-verification-modal")})})})})}},563962:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(388011);const l=()=>(0,s.v)().logContextEvent},784964:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(667294);const l=()=>{const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(!0)}),[]),e}},33476:(e,t,i)=>{i.d(t,{Z:()=>d});var s=i(667294),l=i(702664),a=i(527386),n=i(216702),o=i(785893);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends s.Component{constructor(...e){super(...e),r(this,"state",{hasCompleted:[],hasDismissed:[]}),r(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:s,viewExperienceObject:l}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",l(e)):i?s(e.placement_id,e.experience_id,i):s(e.placement_id,e.experience_id))})),r(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:s,isBackendExperience:l,preventRemoval:a,targeting:n}=this.props,o=e||1;if(s&&!this.state.hasCompleted.includes(s.experience_id)){const{placement_id:e,experience_id:r}=s||{},c=a||2===o;(1===o||c)&&e&&r&&(l?i(s,c):n?t(e,r,c,n):t(e,r,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,r]}))))}})),r(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:s,preventRemoval:l,targeting:a}=this.props,{placement_id:n,experience_id:o}=i||{};i&&!this.state.hasDismissed.includes(o)&&(s?t(i):a?e(n,o,!!l,a):e(n,o,!!l),this.setState((e=>({hasDismissed:[...e.hasDismissed,o]}))))})),r(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:s,transitionType:l}=this.props,{experience_id:a,type:n}=e;if(t&&t.includes(a))return!0;if(null==t||!t.length){if(s&&s(e))return!0;if(i&&i.includes(n))return!0;if(l&&l===n)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):s.Children.only(e):null}}function d(e){const t=(0,l.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),i=(0,l.useDispatch)();return(0,o.jsx)(c,{...e,experience:t,completeExperience:(e,t,s,l)=>i((0,a.CK)(e,t,s,!1,{},l)),completeExperienceObject:(e,t)=>i((0,n.Tl)(e,t)),dismissExperience:(e,t,s,l)=>i((0,a.Qu)(e,t,s,void 0,l)),dismissExperienceObject:e=>i((0,n.CF)(e)),viewExperience:(e,t,s)=>i((0,a.UT)(e,t,!1,!1,void 0,s)),viewExperienceObject:e=>i((0,n.dy)(e))})}r(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},297776:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var s=i(667294),l=i(883119),a=i(33476),n=i(785893);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends s.PureComponent{constructor(...e){super(...e),o(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),o(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:i,idealDirection:s}=this.props,a=i.slice(-3);return(0,n.jsx)(l.J2,{anchor:e,color:"white",idealDirection:s,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,n.jsxs)(l.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,n.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,n.jsx)(l.xv,{color:"default",weight:"bold",children:t})}),(0,n.jsx)(l.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map((e=>(0,n.jsx)(l.xu,{height:60,width:50,paddingX:1,children:(0,n.jsx)(l.zd,{rounding:2,height:60,children:(0,n.jsx)(l.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var c=i(133149);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends s.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,s.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,i){return t&&e.text.replace("{boardName}",t),i?i(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:o,flyoutSize:d,fontSize:u,hasFullWidthButton:_=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:p,onClickComplete:g,onClickDismiss:x,placementId:f,positionRelativeToAnchor:b,shouldTimeoutDismiss:v,showCaret:P,textAlign:y,textOverflow:j,textOverrideFn:z,textWeight:A,customizedComplete:C,pulsarZIndex:k,advertiserId:E}=this.props,S=t||(({children:e})=>m?(0,n.jsx)(l.mh,{children:e}):e),w="blue";return(0,n.jsx)(a.Z,{eligibleIds:i,placementId:f,eligibleTypes:[8],targeting:E?{advertiserId:parseInt(E,10)}:null,children:({complete:t,dismiss:i,experience:a})=>{const{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:E=0,...M}}=a,T=f&&e,I=()=>{L(),setTimeout(i,1e3*E)},L=()=>{T&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I))},B=()=>{L(),t()};if(T&&(window.addEventListener("scroll",I),window.addEventListener("touchmove",I)),this.setDefaultPulsarTooltip(M),!M.has_pulsar&&!M.has_tooltip)return B(),null;v&&M.disappearTime&&M.disappearTime>0&&(this.timer=setTimeout((()=>(I(),null)),M.disappearTime));const O=501041===a.experience_id||505086===a.experience_id;return M.has_tooltip&&!M.has_pulsar&&(this.dismissRef.current=I,null==e||e.addEventListener("click",this.dismissCb)),(0,n.jsxs)(s.Fragment,{children:[M.has_pulsar&&(0,n.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(M.has_tooltip,B),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:k&&k.index()}),M.has_tooltip&&(!M.has_pulsar||this.state.paused)&&(M.thumbnail_urls?(0,n.jsx)(r,{anchor:e,dismiss:I,idealDirection:h||"down",text:M.text,thumbnails:M.thumbnail_urls}):(0,n.jsx)(S,{children:(0,n.jsx)(l.J2,{anchor:e,color:"deprecatedBlue",idealDirection:h||"down",onDismiss:p?()=>{}:I,positionRelativeToAnchor:!m&&b,shouldFocus:!1,_deprecatedShowCaret:P,size:d,children:(0,n.jsxs)(l.xu,{column:12,padding:3,children:[(0,n.jsxs)(l.xv,{align:"right"===y?"end":y,color:"inverse",overflow:j,size:u,weight:A||"bold",children:[this.getText(M,o,z),M.secondary_cta_link&&(0,n.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,n.jsx)(l.xv,{size:u,weight:"bold",color:"inverse",children:(0,n.jsx)(l.rU,{display:"inlineBlock",target:"blank",href:M.secondary_cta_link.url,underline:"hover",children:M.secondary_cta_link.text})})})]}),M.sub_text&&(0,n.jsx)(l.xu,{paddingY:2,children:(0,n.jsx)(l.xv,{color:"inverse",size:u,children:M.sub_text})}),(M.dismiss_button_text||M.complete_button_text)&&(0,n.jsxs)(l.xu,{display:"flex",alignItems:"center",marginTop:2,children:[M.dismiss_button_text&&(0,n.jsx)(l.xu,{marginEnd:1,column:6,children:(0,n.jsx)(l.zx,{fullWidth:_,color:w,onClick:()=>{x&&x(),I()},size:"md",text:M.dismiss_button_text})}),M.complete_button_text&&(0,n.jsx)(l.xu,{column:M.dismiss_button_text?6:12,children:C?(0,n.jsx)(l.iP,{fullHeight:!0,onTap:()=>{B(),g&&g()},rounding:2,children:(0,n.jsx)(l.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,n.jsx)(l.xv,{color:"shopping",weight:"bold",children:M.complete_button_text})})}):(0,n.jsx)(l.kC,{justifyContent:"center",children:(0,n.jsx)(l.zx,{fullWidth:_,color:"white",href:M.complete_button_cta_url,role:M.complete_button_cta_url?"link":"button",size:"md",target:M.complete_button_cta_url?"blank":null,text:M.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),B(),g&&g()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},527386:(e,t,i)=>{i.d(t,{CK:()=>h,N:()=>f,Qu:()=>m,UT:()=>_,YX:()=>x,d9:()=>p,fO:()=>c,kd:()=>g,pz:()=>d});var s=i(40660),l=i(690108),a=i(703688),n=i(256558),o=i(970588);let r;const c=(e,t)=>i=>{const s=t?{extra_context:e,targeting:t}:{extra_context:e};return l.Z.create("UserExperiencePlatformResource",s).callGet().then((e=>e.resource_response?i((0,n.OD)(e.resource_response.data)):void 0))},d=(e,t,i,s)=>(o,c)=>{if(t)return Promise.resolve();if(s&&(r=s),1===e.length){const t=e[0],s=c().experiences[t],l=(null==s?void 0:s.extraContext)||null;if(JSON.stringify(l)===JSON.stringify(i)||(0,a.E3)(s)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:s}).callGet().then((e=>e.resource_response?o((0,n.cL)(e.resource_response.data)):void 0))},u=(e,t)=>(i,s,a,o=!1,d,u)=>(_,h)=>{const{experiences:m,experiencesMulti:p}=h();let g=null,x=!0;var f;o||(x=m[i]&&m[i].experience_id===s,g=x?m[i]:Array.isArray(p[i])&&(null===(f=p[i])||void 0===f?void 0:f.find((e=>e.experience_id===s))));if(g&&g.experience_id===s||o&&i&&s){const o=l.Z.create(e,{placed_experience_id:`${i}%3A${s}`,extra_context:null!=d?d:{},targeting:u}),h=x?n.Yb:n.xW;switch(t){case"dismissed":return o.callDelete().then((()=>{_(h(i,s,t)),_(c(void 0,r))}));case"completed":return o.callUpdate().then((()=>{a||(_(h(i,s,t)),_(c(void 0,r)))}));case"viewed":return _(h(i,s,t)),o.callUpdate().then((()=>{1000162===i&&_(c())}));case"completedWithoutHomefeed":return o.callUpdate().then((()=>{a||_(h(i,s,t))}));default:return Promise.resolve()}}return Promise.resolve()},_=u("UserExperienceViewedResource","viewed"),h=u("UserExperienceCompletedResource","completed"),m=u("UserExperienceResource","dismissed"),p=u("UserExperienceCompletedResource","completedWithoutHomefeed"),g=(e,t)=>(i,l)=>{const{experiences:a}=l(),n=a[e];n&&n.triggerable_placed_exps&&n.triggerable_placed_exps.length&&n.triggerable_placed_exps.forEach((i=>{const[,l]=i.split(":");let a=t;n.metadata&&n.metadata[l]&&(a={...t,...n.metadata[l]}),(0,o.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then((()=>{((e,t,i={})=>{s.Z.increment(`${e}.${t}`,1,i)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:l})}))}))},x=e=>(t,i)=>{t(g(e));const{experiences:s}=i();return s[e]},f=(e,t,i)=>s=>{i&&(r=i),s(g(e,t)),t&&Object.keys(t).length>0&&s(d([e],!1,t,i))}},216702:(e,t,i)=>{i.d(t,{CF:()=>o,Tl:()=>n,dy:()=>r});var s=i(690108),l=i(527386);const a=(e,t)=>(i,a)=>n=>{if(i&&i.id){const o=s.Z.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":o.callDelete().then((()=>{n((0,l.fO)())}));break;case"completed":o.callUpdate().then((()=>{a||n((0,l.fO)())}));break;case"viewed":o.callUpdate()}}},n=a("UserExperienceCompletedResource","completed"),o=a("UserExperienceResource","dismissed"),r=a("UserExperienceViewedResource","viewed")},703688:(e,t,i)=>{function s(e){return!!e&&0!==e.type}i.d(t,{A0:()=>a,E3:()=>s,MQ:()=>l});const l=(e,t,i)=>{const l=e[i];return t[i]&&s(l)?l:null};function a(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},488897:(e,t,i)=>{i.d(t,{$S:()=>s,V$:()=>l,_4:()=>n,iY:()=>o,mR:()=>a});const s="REFRESH_ALL_EXPERIENCES_MULTI",l="UPDATE_EXPERIENCE_MULTI",a="FETCH_EXPERIENCES",n="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},256558:(e,t,i)=>{i.d(t,{NW:()=>n,OD:()=>r,Yb:()=>o,cL:()=>c,xW:()=>a});var s=i(690108),l=i(488897);const a=(e,t,i)=>({type:l.V$,payload:{placementId:e,experienceId:t,status:i}}),n=e=>t=>s.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((i=e.resource_response.data,{type:l.$S,payload:{experiencesMulti:i}})):void 0;var i})),o=(e,t,i)=>({type:l.iY,payload:{placementId:e,experienceId:t,status:i}}),r=e=>({type:l._4,payload:{experiences:e}}),c=e=>({type:l.mR,payload:{experiences:e}})},133149:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(883119),l=i(667294),a=i(785893);const n=(e,t,i,s)=>({horizontalOffset:-(s/2-t/2),verticalOffset:-(i/2-e/2)});function o({anchor:e,children:t,zIndex:i,leftOverride:o,topOverride:r}){const c=(0,l.useRef)(null),[d,u]=(0,l.useState)(0),[_,h]=(0,l.useState)(0),{height:m,width:p}=e.getBoundingClientRect();(0,l.useEffect)((()=>{const{current:t}=c;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:s,verticalOffset:l}=n(m,p,e,i);u(s),h(l)}}));const g=o||d,x=r||_;return(0,a.jsx)(s.xu,{position:"absolute",zIndex:i?new s.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:x}},ref:c,children:t})}const r=function(e){const{anchor:t,leftOverride:i,onTouch:l,onMouseEnter:n,paused:r,size:c,topOverride:d,zIndex:u}=e;return t?(0,a.jsx)(o,{anchor:t,leftOverride:i,topOverride:d,zIndex:u,children:(0,a.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>l(e),onMouseEnter:n,rounding:"circle",children:(0,a.jsx)(s.o3,{paused:r,size:c})})}):null}},394760:(e,t,i)=>{i.d(t,{A:()=>v,J:()=>b});var s=i(667294),l=i(616550),a=i(563962),n=i(583592),o=i(883119),r=i(88622),c=i(536042),d=i(630089),u=i(36521),_=i(900379),h=i(837792),m=i(549201),p=i(392881),g=i(785893);function x({onClose:e,handleSubmit:t,errorMessage:i,currentViewParameter:n,currentComponent:x}){const f=(0,c.ZP)(),b=(0,a.Z)(),v=(0,m.HG)(),P=(0,l.useLocation)(),{getSingleValidator:y}=(0,_.Z)(""),j=y("passcode"),[z,A]=(0,s.useState)(!1),[C,k]=(0,s.useState)(!1),[E,S]=(0,s.useState)({value:"",error:void 0}),[w,M]=(0,s.useState)(),T=f.bt("Кнопка закрытия модального окна", "Dismiss modal button", "settings.parentalPasscodeValidateModal.dismissIconButton", undefined, true),I=f.bt("Родительский код доступа обязателен", "Parental passcode required", "settings.parentalPasscodeValidateModal.heading", undefined, true),L=(0,d.nk)(f.bt("Введите 4-значный код доступа для изменения этого параметра. Забыли код? {{ visitHelpCenter }}", "Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}", "settings.parentalPasscodeValidateModal.subHeading", undefined, true),{visitHelpCenter:(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(o.rU,{display:"inlineBlock",href:h.a$,target:"blank",underline:"hover",onClick:({event:e})=>{e.stopPropagation(),n&&x&&b({event_type:102,view_type:7,view_parameter:n,element:12765,component:x})},children:f.bt("Посетите наш Справочный центр.", "Visit our help center.", "settings.parentalPasscodeModal.subHeading.learnMore", undefined, true)})},"learnMore")});(0,s.useEffect)((()=>{n&&x&&b({event_type:13,view_type:7,view_parameter:n,component:x})}),[n,x,b]),(0,s.useEffect)((()=>{A(!!E.value&&!E.error)}),[E]);const B=(0,s.useCallback)((()=>{b({event_type:14590,view_type:7,view_parameter:n,component:14374})}),[n,b]);(0,s.useEffect)((()=>{const e=P.pathname.replace(/\/$/,"");i&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(B(),k(!1)),M(i)}),[i,B,P.pathname]);const O=()=>{C||(n&&x&&b({event_type:v?101:102,view_type:7,view_parameter:n,component:x,element:11925}),e())};return(0,g.jsx)(r.ZP,{accessibilityModalLabel:f.bt("Модальное окно для проверки родительского кода доступа", "Parental Passcode Validate Modal", "settings.parentalPasscodeValidateModal.accessibilityLabel", undefined, true),mobileAccessibilityCloseIconLabel:T,align:"start",size:656,mobileIsFullscreen:!0,mobileIsSlideUp:!0,closeOnOutsideClick:!C,onDismiss:O,heading:v?(0,g.jsxs)(o.kC,{justifyContent:"between",children:[(0,g.jsxs)(o.kC,{direction:"column",gap:{row:0,column:2},alignItems:"start",children:[(0,g.jsx)(o.X6,{size:"500",align:"start",accessibilityLevel:1,children:I}),(0,g.jsx)(o.xv,{children:L})]}),(0,g.jsx)(o.hU,{accessibilityLabel:T,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:O,size:"lg"})]}):(0,g.jsx)(o.X6,{size:"300",align:"center",accessibilityLevel:"none",children:f.bt("Родительский код доступа", "Parental passcode", "settings.parentalPasscodeValidateModal.headingMobile", undefined, true)}),footer:(0,g.jsxs)(o.kC,{alignItems:"center",justifyContent:v?"end":"center",children:[v?(0,g.jsx)(o.xu,{paddingX:1,children:(0,g.jsx)(o.zx,{disabled:C,onClick:O,text:f.bt("Закрыть", "Close", "settings.parentalPasscodeValidateModal.closeButton", undefined, true),size:"lg"})}):null,(0,g.jsx)(o.xu,{paddingX:v?1:4,flex:v?"shrink":"grow",children:(0,g.jsx)(o.zx,{disabled:!z||C,color:"red",onClick:()=>{k(!0),n&&x&&b({event_type:v?101:102,view_type:7,view_parameter:n,component:x,element:12019}),t(E.value),k(!1)},text:f.bt("Ввести", "Enter", "settings.parentalPasscodeValidateModal.enterButton", undefined, true),size:"lg",fullWidth:!v})})]}),children:(0,g.jsx)(o.xu,{paddingX:v?6:4,paddingY:3,children:(0,g.jsxs)(o.kC,{justifyContent:v?"start":"center",direction:"column",alignItems:"center",children:[v?null:(0,g.jsx)(o.xu,{marginBottom:7,maxWidth:325,children:(0,g.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,g.jsx)(o.xu,{marginBottom:6,children:(0,g.jsx)(o.X6,{size:"500",align:"center",accessibilityLevel:2,children:I})}),(0,g.jsx)(o.xv,{align:"center",children:L})]})}),(0,g.jsxs)(o.xu,{position:"relative",width:"100%",marginBottom:v?0:4,children:[(0,g.jsx)(o.nv,{id:"passcode",label:f.bt("Введите 4-значный код", "Enter a 4-digit code", "settings.parentalPasscodeValidateModal.passcodeLabel", undefined, true),name:"passcode",onChange:({value:e})=>(e=>{const t=e.replace(/\s/g,"");if(e.length>4)return;const i=(0,p.a3)(t,j);w&&M(void 0),S({value:e,error:i})})(e),type:"text",size:"lg",value:E.value,errorMessage:E.error||w,placeholder:"XXXX",labelDisplay:v?"visible":"hidden"}),C?(0,g.jsx)(u.Z,{accessibilityLabel:f.bt("Проверка родительского кода доступа", "Validating Parental passcode", "settings.parentalPasscodeModal.loadingI18nLabel", undefined, true)}):null]})]})})})}const{Provider:f,useHook:b}=(0,n.Z)("ParentalPasscodeValidateModal"),v=({children:e})=>{const t=(0,a.Z)(),i=(0,l.useLocation)(),[n,o]=(0,s.useState)(!1),[r,c]=(0,s.useState)(),[d,u]=(0,s.useState)(),[_,h]=(0,s.useState)(void 0),[m,p]=(0,s.useState)([]),b=i.pathname.replace(/\/$/,""),v="/parental-passcode"===b||"/settings/account-settings"===b;(0,s.useEffect)((()=>{if(n){const e=(e=>{let t;const i={"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860};return t=e.startsWith("/settings/messages")?3709:i[e],t})(b),t=((e,t)=>t?14456:14374)(0,v);u(e),c(t)}}),[n,b,v]);const P=(0,s.useCallback)((e=>{h(void 0),m.map((t=>t(e)))}),[m]),y=(0,s.useCallback)((({handlePasscodeSent:e})=>{p((t=>[...t,e])),o(!0)}),[]),j=(0,s.useCallback)((e=>{h(e)}),[]),z=(0,s.useCallback)((()=>{u(void 0),c(void 0),p([]),h(void 0),o(!1)}),[]),A=(0,s.useCallback)((e=>{e&&!v&&t({event_type:14591,view_type:7,view_parameter:d,component:14374}),z()}),[z,d,t,v]),C=(0,s.useMemo)((()=>({handleSubmit:P,errorMessage:_,onClose:z,currentViewParameter:d,currentComponent:r})),[P,_,z,d,r]),k=(0,s.useMemo)((()=>({getModalProps:C,closeModal:A,isModalOpen:n,setErrorMessage:j,setModalPropsAndOpen:y})),[C,A,n,j,y]);return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(f,{value:k,children:e}),n?(0,g.jsx)(x,{...C}):null]})}},900379:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(536042),l=i(392881);const a=4;function n(e){const t=(0,s.ZP)(),i=(0,l.aH)({message:t.bt("Обязательно", "Required", "parentalPasscodeValidators.requiredField", undefined, true)}),n=(0,l.GT)({message:t.bt("Укажите действительный адрес электронной почты", "Please enter a valid email address", "parentalPasscodeValidators.enterValidEmail", undefined, true)}),o=(0,l.qA)({message:t.bt("Используйте только цифры", "Please only use numbers", "parentalPasscodeValidators.enterNumbers", undefined, true)}),r=t.bt("Введите четыре цифры", "Please enter four digits", "parentalPasscodeValidators.enterFourDigits", undefined, true),c=(0,l.Gy)({min:a,max:a,minErrorString:r,maxErrorString:r}),d={passcode:[i,o,c],confirmPasscode:[i,o,c],backupEmail:[i,n,i=>{const s=[];i===e&&s.push(t.bt("Этот адрес электронной почты уже используется для этого аккаунта Pinterest.", "This email address is already used for this Pinterest account.", "parentalPasscodeValidators.enterNotCurrentEmail", undefined, true));return{errors:s,warnings:[]}}],confirmBackupEmail:[i,n]},u=(e,i)=>{switch(e){case"confirmPasscode":return(0,l.sG)({targetValue:i.passcode.value,message:t.bt("Убедитесь, что секретные коды совпадают", "Please make sure your passcodes match", "parentalPasscodeValidators.enterMatchingPasscodes", undefined, true)});case"confirmBackupEmail":return(0,l.sG)({targetValue:i.backupEmail.value,message:t.bt("Убедитесь, что адреса электронной почты совпадают", "Please make sure your email addresses match", "parentalPasscodeValidators.enterMatchingEmails", undefined, true)});default:return()=>({errors:[],warnings:[]})}};return{getSingleValidator:e=>d[e],getValidators:(e,t)=>[...d[e],u(e,t)],getMatchingValidator:u}}},814247:(e,t,i)=>{i.d(t,{aU:()=>o,hq:()=>n,o_:()=>l});var s=i(583592);const{Provider:l,useHook:a}=(0,s.Z)("AuthenticationContext");function n(){return a().loginContext}function o(){return a().logout}},453972:(e,t,i)=>{i.d(t,{i:()=>s});const s={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},589665:(e,t,i)=>{i.d(t,{L1:()=>a,Rz:()=>r,WZ:()=>n,cI:()=>l,fe:()=>o,hu:()=>s});const s=64,l=80,a=22,n="HeaderContent",o=671,r={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},712968:(e,t,i)=>{i.d(t,{Tt:()=>u,cm:()=>d,kW:()=>r,kY:()=>_,mN:()=>c});var s=i(702664),l=i(583592),a=i(802071),n=i(785893);const{Provider:o,useHook:r}=(0,l.Z)("Users");function c(){const e=r();return t=>e[t]}function d(){const e=r();return t=>{const i=Object.keys(e).find((i=>e[i].username===t));return e[null!=i?i:""]}}function u(){const{id:e}=(0,a.Z)();return r()[null!=e?e:""]}function _({children:e}){const t=(0,s.useSelector)((({users:e})=>e),s.shallowEqual);return(0,n.jsx)(o,{value:t,children:e})}},101606:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var s=i(667294),l=i(167912),a=i(616550),n=i(31397),o=i(883119),r=i(690108),c=i(838642),d=i(60933),u=i(180306),_=i(682126),h=i(388011),m=i(784964),p=i(61849),g=i(550140),x=i(536042),f=i(630089),b=i(394760),v=i(315219),P=i(245410),y=i(819079),j=i(664334),z=i(626389),A=i(453972),C=i(860438),k=i(63262),E=i(802071),S=i(392881),w=i(764344),M=i(297776),T=i(589665),I=i(785893);const L=690;function B({index:e,isSelected:t,label:i,onClick:l,url:a,dataTestId:n,anchorRef:r}){const[c,d]=(0,s.useState)(!1);return(0,I.jsx)(o.xu,{alignSelf:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:c?"rgba(0, 0, 0, 0.06)":void 0}},marginBottom:2,role:"listitem",rounding:2,children:(0,I.jsx)(o.iP,{role:"link",href:a,onBlur:()=>d(!1),onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onTap:l,children:(0,I.jsx)(o.xu,{"data-group-id":"settings-menu-item","data-test-id":n||`settings-menu-item-${e}-${i}`,direction:"row",display:"flex",padding:2,ref:r,children:(0,I.jsxs)(o.xu,{display:"inlineBlock",position:"relative",children:[(0,I.jsx)(o.xv,{color:"default",size:"300",weight:"bold",children:i}),t&&(0,I.jsx)(o.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{borderRadius:5,bottom:-9}},height:3,left:!0,position:"absolute",right:!0})]})},`${e}-${i}`)})})}function O({activeItem:e,items:t,onClick:i,anchorRef:s}){return Object.keys(t).map(((l,a)=>{const{label:n,url:o,dataTestId:r}=t[l];return(0,I.jsx)(B,{index:a,isSelected:e===l,label:n,onClick:({event:e})=>i({activeItem:l,event:e}),url:o,dataTestId:r,anchorRef:"PrivacyAndData"===l?s:null},a)}))}function Z({items:e,activeItem:t,onClick:i}){const l=(0,a.useLocation)(),n=(0,a.useHistory)(),r=(0,s.useRef)(),c=(0,s.useRef)(),d=(0,s.useRef)(),u=(0,I.jsx)(O,{items:e,activeItem:t,onClick:i,anchorRef:r}),_=(0,I.jsx)(O,{items:e,activeItem:t,onClick:i,anchorRef:c}),[h,m]=(0,s.useState)(0),[p,g]=(0,s.useState)(!0),x=()=>{m(window.innerHeight),d.current&&g("flex"===window.getComputedStyle(d.current).display)};(0,s.useEffect)((()=>(x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x))),[]);const f=d.current&&!l.pathname.startsWith("/settings/privacy");return(0,I.jsxs)(s.Fragment,{children:[(0,I.jsx)(o.xu,{display:"none",mdDisplay:"flex",ref:d,children:(0,I.jsx)(o.xu,{display:"flex",direction:"column",role:"list",position:h<L?"static":"fixed",maxWidth:200,"data-test-id":"settings-menu",children:_})}),(0,I.jsx)(o.xu,{display:"flex",mdDisplay:"none",children:(0,I.jsx)(o.xu,{display:"flex",direction:"column",role:"list","data-test-id":"settings-menu",children:u})}),f&&(0,I.jsx)(o.mh,{zIndex:new o.Ry(T.fe-1),children:(0,I.jsx)(M.default,{anchor:p?c.current:r.current,experienceIds:[505283],placementId:1000458,showCaret:!0,textWeight:"bold",textAlign:"center",flyoutSize:"md",idealDirection:"right",positionRelativeToAnchor:!1,onClickComplete:()=>{n.push("/settings/privacy/")}})})]})}var D=i(88622),R=i(729522);function V({email:e,onHide:t}){const i=(0,x.ZP)(),s=i.bt("Почти готово!", "You’re almost done!", " - ", undefined, true);return(0,I.jsx)(D.ZP,{accessibilityModalLabel:s,heading:s,onDismiss:t,role:"alertdialog",size:"sm",footer:(0,I.jsx)(o.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:(0,I.jsx)(o.xu,{padding:1,children:(0,I.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:t,size:"lg",text:i.bt("ОК", "Okay", " - ", undefined, true)})})}),children:(0,I.jsx)(o.xu,{paddingX:4,paddingY:2,children:(0,I.jsx)(o.xv,{children:(0,R.Z)(i.bt("Чтобы завершить смену адреса, вам понадобится письмо с подтверждением, которое мы выслали на {{ currentEmail }}.", "To finish updating your address, look for the confirmation email we sent to {{ currentEmail }}.", " - ", undefined, true),{currentEmail:e})})})})}function U(e){const{description:t,title:i}=e;return(0,I.jsx)(o.xu,{"data-test-id":"settings-header",children:(0,I.jsx)(o.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:(0,I.jsx)(o.sg,{span:12,children:(0,I.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,I.jsx)(o.xu,{tabIndex:0,children:(0,I.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:i})}),(0,I.jsx)(o.xu,{marginTop:2}),(0,I.jsx)(o.xv,{overflow:"normal",size:"300",children:t})]})})})})}var H,F=i(926820),N=i(73603),W=i(619277);const X={newSaveState:null,evt:void 0,overrides:void 0,isOpen:!1,age:0},G=()=>{const e=void 0!==H?H:H=i(364098),[t]=(0,l.useMutation)(e);return async e=>{const i=e.notifications_settings||{},s=[];Object.keys(i).forEach((e=>{Object.keys(i[e]).forEach((t=>{Object.keys(i[e][t]).forEach((l=>{const{dirty:a,value:n}=i[e][t][l];a&&s.push({type:e,section:t,option:l,value:n})}))}))}));const l={updatedSettings:JSON.stringify(s)};return await new Promise(((e,i)=>{t({variables:{...l},onCompleted:(t,s)=>{s&&i(s[0]),e()},onError:e=>i(e)})}))}};function $(e){const{data:t}=(0,j.Z)({name:"UserSettingsResource"}),{data:l}=(0,y.Z)({name:"UserResource",options:{user_id:null==t?void 0:t.id,field_set_key:"user_tax_forms",noCache:!1}}),{logContextEvent:M}=(0,h.v)(),{checkExperiment:T}=(0,P.F)(),L=(0,x.ZP)(),B=(0,E.Z)(),O=(0,F.Z)({enableBizEmailValidator:Boolean(B.partner&&B.partner.is_linked_business),i18n:L}),D=(0,m.Z)(),R=(null==t?void 0:t.email)||"",H=(null==l?void 0:l.has_tax_forms)||!1,$=(0,s.useMemo)((()=>({EditProfile:{icon:"edit",label:L.bt("Изменение профиля", "Edit profile", "userSettingsPage.editProfile.label", undefined, true),toastLabel:L.bt("Профиль", "Profile", "toast label for profile", undefined, true),url:"/settings/edit-profile",dataTestId:"settings-menu-item-public-profile"},PersonalInformation:{icon:"",label:L.bt("Персональные данные", "Personal information", "menu item for personal information", undefined, true),toastLabel:L.bt("Персональные данные", "Personal information", "toast label for personal information", undefined, true),url:"/settings/personal-information",dataTestId:"settings-menu-item-personal-info"},AccountSettings:{icon:"person",label:L.bt("Управление аккаунтом", "Account management", "userSettingsPage.accountManagement.label", undefined, true),toastLabel:L.bt("Управление аккаунтом", "Account management", "userSettingsPage.accountManagement.toastLabel", undefined, true),url:"/settings/account-settings",dataTestId:"settings-menu-item-account-settings"},ProfileVisibility:{icon:"",label:L.bt("Видимость профиля", "Profile visibility", "userSettingsPage.MenuList.MenuItem.ProfileVisibility", undefined, true),toastLabel:L.bt("Видимость профиля", "Profile visibility", "userSettingsPage.MenuList.MenuItem.ProfileVisibility.toastLabel", undefined, true),url:"/settings/profile-visibility"},HomeFeedTuner:{icon:"",label:L.bt("Настроить ленту", "Tune your home feed", "userSettingsPage.MenuList.MenuItem.HomeFeedTuner", undefined, true),toastLabel:"",url:"/edit"},Claim:{icon:"globe-checked",label:L.bt("Подтвержденные аккаунты", "Claimed accounts", "userSettingsPage.claimedAccounts.label", undefined, true),toastLabel:L.bt("Подтвердите аккаунты", "Claim accounts", "userSettingsPage.claimedAccounts.toastLabel", undefined, true),url:"/settings/claim",dataTestId:"settings-menu-item-claim"},BulkCreatePins:{icon:"publish",label:L.bt("Массовое создание пинов", "Bulk create Pins", "Menu item label on profile page for bulk importing", undefined, true),toastLabel:L.bt("Массовое создание пинов", "Bulk create Pins", "toast label for bulk importing", undefined, true),url:"/settings/bulk-create-pins",dataTestId:"settings-menu-item-bulk-create-pins"},Permissions:{icon:"",label:L.bt("Разрешения для сообщества", "Social permissions", "userSettingsPage.socialPermissions.label", undefined, true),toastLabel:L.bt("Разрешения для сообщества", "Social permissions", "userSettingsPage.socialPermissions.toastLabel", undefined, true),url:"/settings/permissions",dataTestId:"settings-menu-item-permissions"},Notifications:{icon:"bell",label:L.bt("Уведомления", "Notifications", "menu item for notifications", undefined, true),toastLabel:L.bt("Уведомления", "Notifications", "toast label for Notifications", undefined, true),url:"/settings/notifications",dataTestId:"settings-menu-item-notifications"},PrivacyAndData:{icon:"lock",label:L.bt("Конфиденциальность и данные", "Privacy and data", "menu item for privacy and data", undefined, true),toastLabel:L.bt("Конфиденциальность и данные", "Privacy and data", "toast label for Privacy & data", undefined, true),url:"/settings/privacy",dataTestId:"settings-menu-item-privacy"},Security:{icon:"security",label:L.bt("Безопасность", "Security", "userSettingsPage.securityAndLogins.labelV2", undefined, true),toastLabel:"",url:"/settings/security",dataTestId:"settings-menu-item-security"},BrandedContent:{icon:"",label:L.bt("Контент бренда", "Branded Content", "userSettingsPage.brandedContent.label", undefined, true),toastLabel:L.bt("Контент бренда", "Branded Content", "userSettingsPage.brandedContent.toastLabel", undefined, true),url:"/settings/branded-content",dataTestId:"settings-menu-item-branded-content"},TaxDocuments:{icon:"",label:L.bt("Налоговые документы", "Tax documents", "userSettingsPage.taxDocuments.label", undefined, true),toastLabel:L.bt("Налоговые документы", "Tax documents", "userSettingsPage.taxDocuments.toastLabel", undefined, true),url:"/settings/tax-documents",dataTestId:"settings-menu-item-tax-document"}})),[L]),{showToast:K}=(0,k.F9)(),Y=(0,a.useHistory)(),q=(0,s.useRef)(),[J,Q]=(0,s.useState)(null),[ee,te]=(0,s.useState)(!1),[ie,se]=(0,s.useState)(X),[le,ae]=(0,s.useState)(!1),[ne,oe]=(0,s.useState)(!1),[re,ce]=(0,s.useState)(null),{isModalOpen:de,setErrorMessage:ue,setModalPropsAndOpen:_e,closeModal:he}=(0,b.J)(),me=G(),pe=(0,s.useRef)();pe.current=de;const[ge,xe]=(0,s.useState)(e.activeItem),{showEmailVerificationReminderModal:fe}=(0,p.y9)(),{isPartner:be,isAnyWebsiteVerified:ve}=B.isAuth?B:{},Pe=Boolean(null==t?void 0:t.video_upload_allowed)||be&&!!ve,ye=B.isAuth;(0,s.useEffect)((()=>()=>{q.current&&clearTimeout(q.current)}),[q]);const je=()=>{window.location.reload()},ze=(0,s.useCallback)(((e,t)=>{let i;if(Object.keys(O).includes(e)){const s=O[e];i={[`${e}Errors`]:(0,S.FU)(s,t)}}return{[e]:t,...i}}),[O]),Ae=(0,s.useCallback)(((e,t,s)=>{e&&void 0!==e.video_autoplay_setting_on&&(C.Z.setItem(W._e,e.video_autoplay_setting_on?1:0),M({event_type:101,aux_data:{desktop_video_autoplay_setting_on:String(e.video_autoplay_setting_on||!1)}}));const{video_autoplay_setting_on:l,...a}=e||{};if(e&&e.birthday&&e.birthday instanceof Date){const i=e.birthday,l=(0,_.IA)(i.toString()),o=(0,n.Z)(new Date,i),{country:r}=B,c=(0,_.yo)(r);if(!(0,_.Cd)(l,c)&&!e.birthdayConfirmed)return void se({newSaveState:e,evt:t,overrides:s,isOpen:!0,age:o});re&&ce(null),a.birthdate=l,delete a.birthday}if(e&&e.notificationsSettingsUpdated){const t={notifications_settings:e.notifications_settings};T("graphql_migration_notifications_settings").anyEnabled?me(t):r.Z.create("NotificationSettingsResource",t).callUpdate()}B.partner&&B.partner.is_linked_business&&r.Z.create("BusinessOwnershipResource",{email:a.biz_email||void 0}).callUpdate({showError:!1}).catch((e=>{D&&Q(e)})),e&&e.third_party_marketing_tracking_enabled&&(async()=>{const{getGPCSignalState:e,getThirdPartyMarketingTrackingEnabledAfterGPC:t,setThirdPartyMarketingTrackingEnabledAfterGPC:s}=await i.e(85225).then(i.bind(i,685225));if(!(await e()))return;await t()||s()})();r.Z.create("UserSettingsResource",{...a,surface_tag:A.i.SETTINGS}).callUpdate({showError:!1}).then((e=>a&&(a.locale||a.country)?(0,z.D)("settings").then((()=>Promise.resolve(e))):Promise.resolve(e))).then((e=>{pe.current&&he(!0);let t="";switch(ge){case"AccountSettings":t=L.bt("Настройки управления аккаунтом сохранены.", "Account management settings saved!", "userSettingsPage.accountManagementSettingsToast", undefined, true);break;case"Notifications":t=L.bt("Уведомления сохранены.", "Notifications saved!", "userSettingsPage.notificationsToast", undefined, true);break;default:t=(0,f.nk)(L.bt("Сохранено: {{section}}", "{{section}} saved!", " - ", undefined, true),{section:$[ge].toastLabel}).join("")}if(K((({hideToast:e})=>(0,I.jsx)(o.xu,{"data-test-id":"save-settings-toast",children:(0,I.jsx)(g.ZP,{text:t,onHide:e})}))),!e.resource_response.error){const t=e.resource_response.data;t.email_changing_to&&t.email_changing_to!==R?te(!0):D&&(s&&s.navigateTo?window.location.replace(s.navigateTo):q.current=setTimeout(je,1500))}})).catch((e=>{switch(e.api_error_code){case v.H9:fe();break;case v.RR:ue(e.message);break;case v.mX:_e({handlePasscodeSent:e=>{const t={...a,passcode:e};Ae(t)}}),Q(null);break;case v.E:se(X),ce(e.message);break;case v.O:ie.isOpen&&se(X),oe(!0);break;case v.Jw:se(X),ae(!0);break;default:Q(e)}}))}),[ge,ie.isOpen,re,he,L,D,M,$,ue,_e,fe,K,R,B,me,T]),Ce=(0,s.useMemo)((()=>({getNewFieldSets:ze,handleSave:Ae,birthdateFieldErrorMessage:re})),[ze,Ae,re]);return(0,I.jsxs)(o.xu,{marginTop:5,display:"flex",direction:"row",justifyContent:"start",children:[(0,I.jsxs)(o.xu,{children:[J?(0,I.jsx)(w.Z,{error:J,onHide:()=>{Q(null)}}):null,ee?(0,I.jsx)(V,{email:R,onHide:je}):null,ne?(0,I.jsx)(u.Z,{userEmail:R,closeModal:()=>oe(!1)}):null,ie.isOpen?(0,I.jsx)(c.Z,{age:ie.age,onConfirm:()=>{Ae({...ie.newSaveState,birthdayConfirmed:!0},ie.evt,ie.overrides)},closeModal:()=>{se(X)}}):null,le?(0,I.jsx)(d.Z,{}):null]}),(0,I.jsx)(o.xu,{column:12,mdColumn:12,children:(0,I.jsxs)(o.xu,{display:"flex",direction:"column",marginTop:5,marginBottom:5,mdDirection:"row",paddingX:5,"data-test-id":"accountSettingsContainer",children:[(0,I.jsx)(o.xu,{column:12,mdColumn:3,children:(0,I.jsx)(Z,{items:(ke=Pe,Object.keys($).filter((e=>(ke||"BulkCreatePins"!==e)&&(ye||"BrandedContent"!==e))).filter((e=>H||"TaxDocuments"!==e)).filter((e=>"PersonalInformation"!==e)).reduce(((e,t)=>(e[t]=$[t],e)),{})),activeItem:ge,onClick:({activeItem:e,event:t})=>{t.preventDefault(),xe(e);$[e]&&Y.replace($[e].url)}})}),(0,I.jsxs)(o.xu,{column:12,maxWidth:488,mdColumn:9,padding:2,mdPadding:0,marginTop:5,mdMarginTop:0,children:[(0,I.jsx)(U,{description:e.settingsHeaderDescription||"",title:$[ge].label}),(0,I.jsx)(N.j,{value:Ce,children:e.children}),(0,I.jsx)(o.xu,{height:80})]})]})})]});var ke}},73603:(e,t,i)=>{i.d(t,{j:()=>l,u:()=>a});var s=i(583592);const{Provider:l,useHook:a}=(0,s.Z)("UserSettingsPageContext")},764344:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(883119),l=i(88622),a=i(536042),n=i(785893);function o({error:e,onHide:t}){const i=(0,a.ZP)(),o=i.bt("Ой!", "Oops!", " - ", undefined, true);return(0,n.jsx)(l.ZP,{accessibilityModalLabel:o,role:"alertdialog",heading:o,onDismiss:t,size:"sm",footer:(0,n.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:(0,n.jsx)(s.zx,{color:"red",onClick:t,size:"lg",text:i.bt("ОК", "Okay", " - ", undefined, true)})}),children:(0,n.jsx)(s.xu,{paddingX:8,children:(0,n.jsx)(s.xv,{align:"center",children:e.message})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/UserSettingsDesktopPageWrapper.ru_RU-08f64db689a4c127.mjs.map