(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[86058],{777849:(e,i,o)=>{o.d(i,{U:()=>r,Z:()=>n});var l=o(883119),t=o(785893);const r=", ";function n(){return(0,t.jsx)(l.xu,{display:"visuallyHidden",children:r})}},808067:(e,i,o)=>{o.d(i,{Z:()=>A});var l=o(667294),t=o(616550),r=o(883119),n=o(563962),a=o(62152),s=o(536042),d=o(734417),c=o(630089),u=o(282802),h=o(98736),_=o(777849),g=o(910717),x=o(549201),m=o(802071),v=o(561445),p=o(455900),b=o(41669),f=o(785893);const y=16,w=24,j=210,C=14;function z(e,i){const{full_name:o,username:l}=e,t=(0,f.jsx)(r.rU,{href:`/${l}`,display:"inlineBlock",underline:"hover",children:o},"linkToUser");return(0,c.nk)(i.bt("{{ linkToUser }} приглашает вас на эту доску", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:t})}const P=({children:e})=>{const i=(0,m.Z)(),o=(0,x.HG)(),l=i&&i.isAuth;return o&&l?(0,f.jsx)(r.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,f.jsx)(r.xv,{lineClamp:1,weight:"bold",children:e})};function A({archivedDate:e,boardUrl:i,canEdit:o,collaborators:m,collaboratorsCount:A=0,containerBackgroundColor:S,coverPhoto:B,followedByMe:k,fullSizeDrawer:I,sensitivityScreen:Z,handleInviteResponse:T,hideMeta:F,id:E,invite:D,imagesLego:L=[],isBoardInviteAccepted:U,isActive:W,isAuthenticated:H,isCollaborative:R,isCollaborator:G,isOwner:M,isProtected:q,isSecret:O,isTemporarilyDisabled:X,lastModifiedDate:N,layout:$,locale:J,name:Y,numCols:K,onEditClick:Q,onFollow:V,onUnfollow:ee,owner:ie,pinCount:oe=0,sectionCount:le,showFollowButton:te,viewParameter:re,viewType:ne,viewerId:ae}){const se=(0,s.ZP)(),de=(0,a.Z)(),ce=(0,d.Z)(),{pathname:ue}=(0,t.useLocation)(),he=(0,n.Z)(),_e=(0,x.HG)(),{isRTL:ge}=(0,u.B)(),xe=_e&&H,me="square"===$?v.M0:v.z9,ve=!/\/search\/boards\//.test(ue),pe=L.map((e=>({url:e.url,name:Y}))),be=!!ie&&!o&&te,fe=!M&&!G&&!(null==Z||!Z.show_warning),ye={board_id:E,reason:null==Z?void 0:Z.reason};(0,l.useEffect)((()=>{fe&&he({event_type:13,component:13861,view_type:215,aux_data:ye})}),[]);const we=ie?ie.id:void 0,je=[...m.filter((({id:e})=>e===we)),...m.filter((({id:e})=>e===ae&&e!==we)),...m.filter((({id:e})=>![we,ae].includes(e)))].map((e=>{var i,o;return{name:null!==(i=xe?e.full_name:e.username)&&void 0!==i?i:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let Ce=A>=je.length?A-je.length:0;Ce=Ce>99?100:Ce;const ze=[...je,...Array(Ce).fill({name:"",src:""})],Pe=xe?w:y,Ae=Pe/3*(2*(je.length>2?3:je.length)+1),{cardWithFollowCalculated:Se}=(0,l.useMemo)((()=>{let i=0;return!e&&ve&&(i+=1),le&&(i+=1),e&&!_e&&(i+=1),{cardWithFollowCalculated:j+i*C}}),[e,_e,ve,le]);return(0,f.jsxs)(r.xu,{"data-test-id":`boardCard-${Y}`,position:"relative",height:be?`max(calc(25vh + 10px), ${Se}px)`:"100%",width:xe?me:"100%",children:[(0,f.jsx)(p.Z,{canEdit:o,containerBackgroundColor:S,coverPhoto:B,images:pe,isProtected:q,isSecret:O,fullSize:I,showSensitivityScreen:fe,isActive:W,onEditClick:Q,layout:$,isTemporarilyDisabled:X}),!F&&(0,f.jsx)(l.Fragment,{children:D&&!X?(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(r.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsxs)(r.xu,{width:"100%",children:[(0,f.jsx)(r.rU,{href:null!=i?i:"",children:(0,f.jsx)(r.xu,{marginTop:0,marginBottom:1,children:(0,f.jsx)(P,{children:Y})})}),U?(0,f.jsx)(r.xv,{size:"200",lineClamp:1,children:se.bt("Вы присоединились.", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,f.jsx)(r.xv,{size:"200",children:z(D.invited_by_user,se)})]}),(0,f.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ae,minWidth:Ae,height:Pe,children:(0,f.jsx)(r.HE,{accessibilityLabel:_.U+(se.bt("Доска имеет соавторов", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:ze})})]}),U?(0,f.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,f.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,f.jsx)(r.ZP,{href:null!=i?i:"",fullWidth:!0,size:"lg",text:se.bt("Просмотреть доску", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,f.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,f.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(r.zx,{fullWidth:!0,onClick:()=>{null==T||T(!1)},size:"lg",text:se.bt("Отклонить", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,f.jsx)(r.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(r.zx,{fullWidth:!0,color:"red",onClick:()=>{null==T||T(!0)},size:"lg",text:se.bt("Принять", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,f.jsxs)(r.xu,{height:xe?void 0:v.s0,marginTop:xe?0:1,paddingX:2,paddingY:xe?2:0,children:[(0,f.jsxs)(r.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsx)(P,{children:Y}),R&&!X&&(0,f.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:Ae,minWidth:Ae,height:Pe,children:(0,f.jsx)(r.HE,{accessibilityLabel:_.U+(se.bt("Доска имеет соавторов", "Board has collaborators", "BoardCard.AvatarGroup.Collaborators", undefined, true)),collaborators:ze})})]}),(0,f.jsxs)(r.xu,{alignItems:_e?"center":"start",direction:_e?"row":"column",display:"flex",marginTop:1,children:[(0,f.jsxs)(r.xv,{size:"100",lineClamp:1,children:[(0,f.jsx)(_.Z,{}),(0,c.nk)(se.nbt(["{{ count }} пин", "{{ count }} пина", "{{ count }} пинов"], oe, "profile.ProfilePage.board.BoardCard.PinsCount", true),{count:ce(J,oe,{})})]}),!!le&&(0,f.jsx)(r.xv,{size:"100",children:(0,f.jsxs)(l.Fragment,{children:[_e?(0,f.jsx)(g.Z,{ariaHidden:!0}):void 0,(0,f.jsx)(_.Z,{}),(0,c.nk)(se.nbt(["{{ count }} раздел", "{{ count }} раздела", "{{ count }} разделов"], le, "profile.ProfilePage.board.BoardCard.SectionsCount", true),{count:le})]})}),!e&&ve&&(0,f.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:xe?"inline-flex":"inline",paddingLeft:_e?7:0,paddingRight:ge?7:0}},children:(0,f.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(_.Z,{}),de(N,!0)]})}),e&&!_e&&(0,f.jsxs)(r.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(_.Z,{}),se.bt("Архивированная", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]})]}),be&&(0,f.jsx)(r.xu,{marginTop:2===K?3:void 0,column:2===K?12:void 0,flex:"none",children:(0,f.jsx)(b.Z,{disabled:null==ie?void 0:ie.blocked_by_me,followEventType:26,id:E,isFollowed:k,onFollow:e=>{H||(0,h.NC)("press_follow_board"),V&&V(e)},onUnfollow:e=>{H||(0,h.NC)("press_unfollow_board"),ee&&ee(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:re,viewType:ne})})]})})]})}},586058:(e,i,o)=>{o.d(i,{Z:()=>p});var l=o(702664),t=o(883119),r=o(245410),n=o(282802),a=o(98736),s=o(618569),d=o(802071),c=o(808067),u=o(122686),h=o(13260),_=o(736595),g=o(107877),x=o(785893);const m=["thumbnail","imageOnly"],v="write";function p({boardId:e,containerBackgroundColor:i,forwardedRef:o,fullSize:p,showFollowButton:b=!0,showPinCount:f=!0,type:y,viewParameter:w,viewType:j}){var C,z,P;const A=(0,d.Z)(),S=A&&A.isAuth,B=(0,l.useDispatch)(),{locale:k}=(0,n.B)(),I=(0,s.Z)(),Z=(0,g.gC)()(e),T=(0,u.Z)(),{checkExperiment:F}=(0,r.F)(),E=A.isAuth?A.id:"";if(!Z)return null;const{owner:D}=Z,L=[D,...Z.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:i,username:o})=>({id:e,image_medium_url:i,username:o}))),U=(null==D?void 0:D.id)===E,W=L.filter((({id:e})=>e===E)).length>0;if("secret"===Z.privacy&&!W)return null;const H="grid"===y||"thumbnail"===y?2:4,R=T(Z,H),G={isCustom:Z.has_custom_cover,url:R,position:(0,h.Bw)(Z.cover_pin)},M=(0,h.Jx)(Z,R).map((({url:e})=>({name:(0,h.po)(e),url:e}))),q=!!Z.is_temporarily_disabled&&(F("mweb_hide_u16_group_board").anyEnabled||F("unauth_hide_u16_group_board").anyEnabled),O=(0,x.jsx)(c.Z,{archivedDate:null!==(C=Z.archived_by_me_at)&&void 0!==C?C:void 0,canEdit:!!Z.access&&Z.access.includes(v),collaborators:L,collaboratorsCount:Z.collaborator_count,containerBackgroundColor:i,coverPhoto:R?G:null,followedByMe:Z.followed_by_me,fullSizeDrawer:p,hideMeta:m.includes(y),id:Z.id,imagesLego:M,isAuthenticated:S,isCollaborative:Z.is_collaborative,isCollaborator:W,isOwner:U,isProtected:"protected"===Z.privacy,isSecret:"secret"===Z.privacy,isTemporarilyDisabled:q,lastModifiedDate:"full"===y?Z.board_order_modified_at:"",locale:k,name:null!==(z=Z.name)&&void 0!==z?z:"",numCols:H,onFollow:e=>B((0,_.Z)(e)),onUnfollow:e=>B((0,_.f)(e)),owner:D,pinCount:f&&Z.pin_count?Z.pin_count:void 0,sectionCount:null!==(P=Z.section_count)&&void 0!==P?P:0,sensitivityScreen:Z.sensitivity_screen,showFollowButton:b,viewParameter:w,viewType:j,viewerId:E});return!m.includes(y)&&Z.url?(0,x.jsx)(t.iP,{role:"link",href:Z.url,rounding:2,tapStyle:"compress",onTap:()=>{S||((0,a.NC)("click_go_to_board"),I({action:"click",item:"board-card"}))},children:(0,x.jsx)(t.xu,{ref:o,paddingY:3,children:O})}):O}},456660:(e,i,o)=>{o.d(i,{Z:()=>r});var l=o(883119),t=o(785893);function r({customCover:e,height:i,imgUrl:o,imgPos:r,width:n}){const a=i/n;let s="center center";if(e&&r){let e=1;e=r.height/r.width>a?n/r.width:i/r.height;s=`-${r.x*e}px -${r.y*e}px`}const d={backgroundImage:`url(${o})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,t.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{height:i,width:n}},children:(0,t.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,t.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},455900:(e,i,o)=>{o.d(i,{Z:()=>_});var l=o(883119),t=o(536042),r=o(282802),n=o(549201),a=o(561445),s=o(456660),d=o(548637),c=o(785893);const u=188,h={portrait4x3:"133%",square:"100%"};function _(e){var i,o;const _=(0,t.ZP)(),{containerBackgroundColor:g="white",coverPhoto:x,fullSize:m,images:v,isProtected:p,isSecret:b,isTemporarilyDisabled:f,showSensitivityScreen:y,isActive:w,canEdit:j,onEditClick:C,layout:z}=e,P=(0,n.HG)(),{isRTL:A,isAuthenticated:S}=(0,r.B)(),B=P&&S,k=v[0],I=!x&&(null===(i=v[0])||void 0===i?void 0:i.name)||_.bt("Изображение обложки", "Cover image", "DrawerImageGroup", undefined, true),Z=Array(2).fill(),T=new l.Ry(1),F="square"===z?a.M0:a.z9,E="square"===z?a.FP:a.FC,D=null!=k&&k.url?(0,c.jsx)(l.Ee,{alt:I,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:k.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),L=f||y?{filter:"blur(20px)"}:{};return(0,c.jsx)(l.zd,{height:m?"100%":void 0,rounding:4,width:"100%",wash:w,children:(0,c.jsxs)(l.xu,{"aria-hidden":!0,display:"flex",height:B?E:"100%",direction:"row",children:[(0,c.jsx)(l.sg,{span:8,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:L},position:"relative",height:m?"100%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:h.square}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(l.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(p||b)&&(0,c.jsx)(l.xu,{left:!A,right:A,margin:2,position:"absolute",top:!0,zIndex:T,children:(0,c.jsx)(d.Z,{backgroundColor:"default",iconColor:"default",privacy:b?"secret":"protected",size:B?32:24})}),P&&null!=x&&x.url?(0,c.jsx)(s.Z,{customCover:x.isCustom,imgPos:x.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=x.url)&&void 0!==o?o:"",width:Math.floor(F/3*2),height:E}):D]})})})}),(0,c.jsx)(l.sg,{span:4,children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:L},height:"100%",children:[j&&w&&(0,c.jsx)(l.xu,{left:A,right:!A,margin:2,position:"absolute",bottom:!0,zIndex:T,children:(0,c.jsx)(l.hU,{accessibilityLabel:_.bt("Изменить", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==C?void 0:C(e),size:"sm"})}),Z.map(((e,i)=>{const o=v[P?i:i+1];return(0,c.jsx)(l.xu,{position:"relative",height:m?"50%":void 0,children:(0,c.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:h.square}},overflow:"hidden",width:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderColor:g,borderStyle:"solid",borderWidth:0===i?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=o&&o.url?(0,c.jsx)(l.Ee,{alt:o&&o.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:o.url}):(0,c.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},i)}))]})}),(f||y)&&(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:f?(0,c.jsx)(l.xu,{maxWidth:u,children:(0,c.jsx)(l.xv,{align:"center",color:"light",weight:"bold",size:"200",children:_.bt("Эта доска сейчас недоступна", "This board is currently unavailable", "drawerImageGroup.unavailableBoard.heading", undefined, true)})}):(0,c.jsx)(l.X6,{align:"center",color:"light",size:"400",children:_.bt("Эта доска может содержать откровенные материалы", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]})})}},561445:(e,i,o)=>{o.d(i,{FC:()=>a,FP:()=>r,M0:()=>t,Xq:()=>s,s0:()=>l,z9:()=>n});const l=44,t=236,r=157,n=320,a=213,s=7},548637:(e,i,o)=>{o.d(i,{Z:()=>n});var l=o(883119),t=o(536042),r=o(785893);function n({backgroundColor:e="darkGray",iconColor:i="inverse",iconSize:o,privacy:n,size:a=20}){const s=(0,t.ZP)();return(0,r.jsx)(l.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:a,height:a,rounding:"circle",justifyContent:"center",children:(0,r.jsx)(l.JO,{accessibilityLabel:s.bt("Значок секретной доски", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:i,icon:"secret"===n?"lock":"security",size:null!=o?o:a/2})})}},122686:(e,i,o)=>{o.d(i,{Z:()=>r});var l=o(549201),t=o(802071);function r(){const e=(0,l.HG)(),i=(0,t.Z)(),o=i&&i.isAuth;if(e&&o){return e=>{var i,o;const l=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,t=null!==(i=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==i?i:l,r=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return t||r}}return(e,i)=>{var o,l;const t=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!t)return"";const r=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,n=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(o=null!==(l=null!=r?r:n)&&void 0!==l?l:a)&&void 0!==o?o:"",d=e.image_cover_url||"";return t||(i&&i>2&&s?s:"")||d}}},13260:(e,i,o)=>{o.d(i,{Bw:()=>a,Jx:()=>n,po:()=>l});const l=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),t=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;const i=l(e);return e=>{var o;return"string"==typeof e?l(e)!==i:l(null!==(o=e.url)&&void 0!==o?o:"")!==i}},n=(e,i)=>e.images&&e.images["170x"]?e.images["170x"].filter(r(i)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(r(i)).map(t):[],a=e=>{var i;return null!==(i=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==i?i:{x:0,y:0,width:0,height:0}}},736595:(e,i,o)=>{o.d(i,{Z:()=>n,f:()=>a});var l=o(690108),t=o(911767);function r(e){return l.Z.create("BoardFollowResource",{board_id:e})}function n(e){return i=>{r(e).callCreate().catch((()=>{i((0,t.md)(e,!1))})),i((0,t.md)(e,!0))}}function a(e){return i=>{r(e).callDelete().catch((()=>{i((0,t.md)(e,!0))})),i((0,t.md)(e,!1))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86058.ru_RU-ec36c17339043b05.mjs.map