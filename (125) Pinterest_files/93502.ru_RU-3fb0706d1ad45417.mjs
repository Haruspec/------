(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[93502],{991102:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},441959:e=>{var i,n,a,l,t,r,o,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,t,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(s)},182964:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=i},24789:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},256468:e=>{var i,n,a,l,t,r,o,s,d,c,u,p,m,g,_,h,y,v,x={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p=[d,c,l,u],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,t,r,m={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g=[n,t,r,m,o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[t,r,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n,l],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},t,r,m,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:y=[h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[h,a,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:y,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},c,u,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};x.hash="f3cd3f20b9c697799f25e2cbf1cbc26b",e.exports=x},788536:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=n},599271:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=i},937711:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=i},823722:e=>{var i,n,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesUrlsFragment_pin"}],type:"Pin",abstractKey:null};l.hash="bc20288ea74e1d8ef595707db3aeb8ce",e.exports=l},143453:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=i},717988:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=i},298262:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};a.hash="dda341dce5f1fa956d1837dec35496de",e.exports=a},782194:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=i},172803:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesUrlsFragment_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="410a7880516268b381d4d03bb7a09fc3",e.exports=n},101789:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(667294),l=n(883119),t=n(536042),r=n(245410),o=n(282802),s=n(549201),d=n(785893);function c({children:e,heading:i}){const[n,c]=(0,a.useState)(!1),u=(0,s.ml)(),{checkExperiment:p}=(0,r.F)(),{isAuthenticated:m}=(0,o.B)(),g=u&&p(m?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").anyEnabled,_=()=>{c(!n)},h=(0,t.ZP)();return g?(0,d.jsxs)(l.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(l.kC,{flex:"grow",justifyContent:"between",alignItems:"center",children:[(0,d.jsx)(l.X6,{size:"400",accessibilityLevel:2,children:(0,d.jsx)(l.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:i})}),(0,d.jsx)(l.xu,{"data-test-id":"collapse-button",display:"inlineBlock",children:(0,d.jsx)(l.hU,{accessibilityLabel:h.bt("Показать раскрывающийся список дополнительных сведений", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:n?"arrow-forward":"arrow-down",onClick:_,size:"md"})})]}),!n&&(0,d.jsx)(a.Fragment,{children:e})]}):(0,d.jsxs)(l.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(l.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,d.jsx)(l.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:i}),(0,d.jsx)(l.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,d.jsx)(l.hU,{accessibilityLabel:h.bt("Показать раскрывающийся список дополнительных сведений", "Show more details drop-down", "Closeup.common.CollapsibleLayout", undefined, true),icon:n?"arrow-forward":"arrow-down",onClick:_,size:"md"})})]}),!n&&(0,d.jsx)(a.Fragment,{children:e})]})}},342693:(e,i,n)=>{n.d(i,{n:()=>a});const a="300"},44081:(e,i,n)=>{n.d(i,{Z:()=>s});var a=n(667294),l=n(883119),t=n(342693),r=n(536042),o=n(785893);function s({children:e,maxLines:i=10}){const n=(0,a.useRef)(null),[s,d]=(0,a.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,r.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,a.useEffect)((()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,o.jsxs)(l.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,o.jsx)(l.xv,{ref:n,lineClamp:u||p?i:0,inline:!0,children:e}),p&&(0,o.jsx)(l.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,o.jsxs)(l.kC,{flex:"grow",children:[(0,o.jsx)(l.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,o.jsx)(l.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,o.jsx)(l.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,o.jsx)(l.xv,{inline:!0,size:t.n,weight:"bold",children:c.bt(" Больше", " … more", "closeup.TruncatedTextContent.moreLabel", undefined, true)})})}),(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},793085:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(667294),l=n(883119),t=n(563962),r=n(536042),o=n(262600),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:i,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,r.ZP)(),[g,_]=(0,a.useState)(!1),{dangerousInlineStyle:h,iconColor:y}=(0,o.W)(!!e),v=(0,t.Z)();return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(l.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,s.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:h,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(l.JO,{accessibilityLabel:e?m.bt("Значок подтвержденного продавца", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):m.bt("Изображение значка", "Badge icon", "merchantVerification.badge.icon", undefined, true),icon:"workflow-status-ok",color:y,inline:!0,size:d[i]}),n&&!c&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:m.bt("Подтвержденный продавец", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!c)&&(0,s.jsx)(o.Z,{showModal:g,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,i,n)=>{n.d(i,{W:()=>u,Z:()=>p});var a=n(667294),l=n(883119),t=n(770130),r=n(563962),o=n(88622),s=n(536042),d=n(837792),c=n(785893);const u=e=>{const i=e?"shopping":"error";return{iconColor:i,dangerousInlineStyle:{__style:{color:i}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:i,showModal:n,setShowModal:p}){const m=(0,s.ZP)(),[g,_]=(0,a.useState)(!0),{dangerousInlineStyle:h,iconColor:y}=u(!0),v=(0,r.Z)();return(0,a.useEffect)((()=>{n&&g&&(_(!1),v({event_type:13,component:13534}))}),[n]),(0,c.jsx)(o.ZP,{accessibilityModalLabel:m.bt("Информация о подтвержденном продавце", "Verified merchant information", "creator.verifiedMerchant.accessibilityModalLabel", undefined, true),isOpen:n,mobileAccessibilityCloseIconLabel:m.bt("Закрыть", "Close", "Close modal window", undefined, true),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(l.xu,{padding:3,children:(0,c.jsxs)(l.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:h,justifyContent:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:m.bt("Значок подтвержденного продавца", "Merchant verification badge icon", "creator.verifiedMerchant.modalIcon", undefined, true),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(l.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:h,children:m.bt("Подтвержденный продавец", "Verified merchant", "creator.verifiedMerchant.modalHeader", undefined, true)})})}),(0,c.jsx)(l.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:m.bt("Этот магазин отвечает требованиям Pinterest к продавцам", "This retailer meets Pinterest's Merchant Guidelines", "creator.verifiedMerchant.modalText.", undefined, true)})}),e.map((e=>(0,c.jsxs)(l.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(l.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(l.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,t.ym)(i)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(l.xu,{marginTop:2,children:(0,c.jsx)(l.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(l.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(l.ZP,{accessibilityLabel:m.bt("Подробнее", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true),target:"blank",size:"lg",href:d.vB,text:m.bt("Подробнее", "Learn more", "creator.verifiedMerchant.buttonText", undefined, true)})})]})})})}},387977:(e,i,n)=>{function a(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(i,{Z:()=>a})},770130:(e,i,n)=>{n.d(i,{Bu:()=>g,Dm:()=>o,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>_,hm:()=>h,yQ:()=>s,ym:()=>x});var a=n(9507);const l=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),t=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),o=[...Object.keys(l).map((e=>l[e])),...Object.keys(t).map((e=>t[e]))],s=[...Object.keys(r).map((e=>r[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function g({verifiedMerchant:e}){var i,n;const a=null==e?void 0:e.isVerifiedMerchant,l=null==e||null===(i=e.inspirational_signal)||void 0===i?void 0:i.is_inspirational,t=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(a&&l&&t)}function _(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function h(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,i,n){return i&&n?i.map((e=>n.find((i=>i.id===e.trim())))).filter(Boolean):[]}function v(e){const i=(0,a.oo)(e);if(!i)return"white";const[n,l,t]=i;return(0,a.DW)(n,l,t)<=a.I?"white":"black"}function x(e){const i=e||c[0];return{backgroundColor:i,color:v(i)}}},9507:(e,i,n)=>{n.d(i,{DW:()=>t,I:()=>l,oo:()=>a,zI:()=>r});const a=e=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i&&[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]},l=.18,t=(e,i,n)=>.2126*(e/255)**2.2+.7151*(i/255)**2.2+.0721*(n/255)**2.2,r=e=>{const i=e.replace("#","");return(299*parseInt(i.substr(0,2),16)+587*parseInt(i.substr(2,2),16)+114*parseInt(i.substr(4,2),16))/1e3<155}},117651:(e,i,n)=>{function a(e){const i=Math.round(e/1e3),n=i%60;return Math.floor(i/60)+":"+(n<10?"0":"")+n}n.d(i,{Z:()=>a})},391670:(e,i,n)=>{n.d(i,{Mi:()=>l,lO:()=>t});var a=n(583592);const{Provider:l,useMaybeHook:t}=(0,a.Z)("pageContext")},765456:(e,i,n)=>{n.d(i,{_:()=>d,a:()=>c});var a=n(667294),l=n(702664),t=n(618446),r=n.n(t),o=n(527386),s=n(282802);const d=({extraContext:e,id:i,shouldUsePlacedExperience:n=!0})=>{const t=(0,a.useRef)(),d=(0,l.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,l.useSelector)((e=>e.experiences[i]));return(0,a.useEffect)((()=>{d((0,o.kd)(i))}),[d,u,i]),(0,a.useEffect)((()=>{n||r()(t.current,e)||(d((0,o.pz)([i],c,e)),t.current=e)}),[d,e,c,i,n]),u},c=e=>(d(e),(0,l.useSelector)((i=>i.experiencesMulti[e.id])))},894121:(e,i,n)=>{n.r(i),n.d(i,{default:()=>y});var a=n(667294),l=n(883119),t=n(387977),r=n(467105),o=n(536042),s=n(906215),d=n(282802),c=n(455788),u=n(98736),p=n(549201),m=n(886365),g=n(785893);const _=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},h=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:i="center",allowScroll:n=!1,children:y,closeOnOutsideClick:v=!0,footer:x,heading:b,mobileAccessibilityCloseIconLabel:f,mobileHideCloseIcon:k,mobileIsFullscreen:P,isOpen:S,mobileIsSlideUp:w,mobileIsFooter:I,onDismiss:T,zIndex:j,subHeading:A,type:C}){const D=(0,o.ZP)(),{isRTL:L}=(0,d.B)(),F=(0,a.useRef)(!1),[z,M]=(0,a.useState)(!1),{setAppFocusState:K}=(0,m.I)(),R=(0,p.ZP)();(0,a.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,C]),(0,a.useEffect)((()=>(F.current=(0,t.Z)((()=>{F.current&&M(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)})),[]),(0,a.useEffect)((()=>(S?(s.Z.pause(),K(!1)):(s.Z.resume(),K(!0)),()=>{S&&(s.Z.resume(),K(!0))})),[K,S]),(0,a.useEffect)((()=>{const e=S&&!n;return e&&_(),()=>{e&&h()}}),[S,n]);return S?(0,g.jsx)(c.Z,{children:(0,g.jsx)(l.mh,{children:(0,g.jsxs)(l.xu,{"aria-label":e,display:"inlineBlock",zIndex:j||r.ZM,position:"relative",role:"dialog",children:[(0,g.jsx)(l.iP,{accessibilityLabel:D.bt("Маска модального окна регистрации для мобильных устройств", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&T()},tapStyle:"none",children:(0,g.jsx)(l.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,g.jsxs)(l.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:w?(0,r.Vf)({isFullscreen:P,isTablet:"tablet"===R,isShowing:z,isRelatedInterestsModal:"related_interests_modal"===C}):(0,r.JN)({variant:P?"fullscreen":"tablet"===R?"tablet":I?"footer":"signup"===C?"signup":void 0}),children:[(0,g.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[f&&!k?(0,g.jsx)(l.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,g.jsx)(l.hU,{accessibilityLabel:f,iconColor:"darkGray",icon:"cancel",onClick:T,padding:4,size:"sm"})}):null,b?(0,g.jsx)(l.kC.Item,{flex:"grow",children:(0,g.jsx)(l.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:f&&!k?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},children:[P?b:(0,g.jsx)(l.xv,{align:i,weight:"bold",size:"400",children:b}),A?(0,g.jsx)(l.xv,{align:i,children:A}):null]})})}):null]}),(0,g.jsxs)(l.xu,{overflow:"auto",children:[y,x]})]})]})})}):null}},870243:(e,i,n)=>{n.d(i,{qE:()=>o,u_:()=>s.ZP});var a=n(883119),l=n(785893);const t=(e,i)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&i)};function r({accessibilityLabel:e,name:i,outline:n,size:r,src:o,verified:s}){return(0,l.jsx)(a.qE,{accessibilityLabel:e,name:i,outline:n,size:r,src:t(o,i)?void 0:o,verified:s})}r.displayName="Avatar";const o=r;var s=n(88622);n(550140)},448709:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(667294),l=n(497088),t=n(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:i}){const n=({children:i,data:n})=>i({enabled:!0,data:e(n)}),r=({children:e,data:n})=>e({enabled:!1,data:i(n)});return function({children:e,input:i}){var o;const s=i.enabled?(0,t.jsx)(n,{data:i.data,children:e}):(0,t.jsx)(r,{data:i.data,children:e}),d=null!==(o=i.suspense)&&void 0!==o&&o.dangerouslyServerRender?a.Suspense:l.Z;return i.suspense?(0,t.jsx)(d,{fallback:i.suspense.fallback,children:s}):s}}},265259:(e,i,n)=>{n.d(i,{Z:()=>s});var a=n(883119),l=n(24286),t=n(319689),r=n(549201),o=n(785893);const s=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,r.ZP)()&&i;return(0,t.V)()?(0,o.jsx)(a.xu,{marginStart:-l.D6,marginEnd:-l.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,o.jsx)(t.C,{value:!1,children:e})}):e}},740494:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(465991);const l=e=>(e||"").trim().replace(/\s+/g," "),t=({storyPinDataId:e,pinDescription:i,richMetadataDescription:n,richSummaryDisplayName:t,closeupDescription:r,closeupUnifiedDescription:o,seoDescription:s,seoNoindexReason:d})=>{if(d&&a.eg.has(d))return l(s);return!!e?l(i):l((0,a.eK)({richMetadataDescription:n,richSummaryDisplayName:t,closeupUnifiedDescription:o}).description)||l(o||"")||l(r)||l(i)||l(n)||""}},465991:(e,i,n)=>{n.d(i,{eg:()=>r,kt:()=>g,rw:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>m,bN:()=>_,RC:()=>o,EU:()=>s});const a=/\s\s+/g,l=e=>e.replace(a," ");var t=n(371362);const r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),o=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,s=(e,i)=>e?e.trim().length>i?(0,t.ZP)(e.trim(),i).trim():e.trim():"",d=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})=>{const r=t||e,o=s(i,200);return o||(n||(a||(l&&r?r:null)))},c=e=>{const{richSummaryDisplayName:i}=e,n=e.pinJoinVisualAnnotation||[],a=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",o=e.closeupUnifiedDescription||"",s=n.map((e=>(a||{})[e]||{name:e,url:""}));let d="";const c=(i||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=o.toLocaleLowerCase().trim();return o&&o.length>3&&p!==c?d=o:r&&r.length>3&&u!==c&&(d=r),d&&(d=l((0,t.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t,pinJoinVisualAnnotation:o,seoNoindexReason:s,seoTitle:c})=>r.has(null!=s?s:"")?c:d({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:a,storyPinDataId:l,storyPinDataMetadataPinTitle:t})||(null==o?void 0:o[0])||e,p=(e,i,n,a,l)=>{const t=(r=e,"string"==typeof r?r:"").trim();var r;let o="";const s=(e,i)=>i&&i.length>0?`${e} ${i.join(", ")}`:e;return o=a&&a.trim().length?s(a.trim(),n):l&&l.trim().length?l.trim():t?s(t,n):n?n.join(", "):"",o},m=e=>`/pin/${e}/`,g=(e,i)=>{const n=`Pinterest video from ${i}: `.concat(e);return""===i?e:n},_=({pinId:e,seoUrl:i})=>i&&"string"==typeof i?i:m(e)},895200:(e,i,n)=>{function a({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function l(e){const i=Math.floor(e/3600);return a({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>a,u:()=>l})},792953:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({accessibilityLabel:e}){return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},643183:(e,i,n)=>{n.d(i,{Z:()=>a});const a=n(497088).Z},649715:(e,i,n)=>{function a(e){return(e||"").trim().replace(/\s+/g," ")}n.d(i,{Z:()=>a})},671915:(e,i,n)=>{n.d(i,{Z:()=>s,t:()=>d});var a=n(667294),l=n(167912),t=n(690108);function r(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const o={};class s extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((i=>{if(i&&i.resource_response){const n=i.resource_response.data;o[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e,relayEnvironment:i,inviteQuery:n}=this.props;(0,l.fetchQuery)(i,n,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){const i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},938818:(e,i,n)=>{n.d(i,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var a=n(616550),l=n(883119),t=n(282802),r=n(739425),o=n(802071),s=n(785893);const d=()=>{const e=(0,o.Z)(),{isInternalIP:i}=(0,t.B)(),n=(0,a.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(n.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(l.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(l.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},105314:(e,i,n)=>{n.d(i,{M:()=>r,Q:()=>t});var a=n(667294);const l=(0,a.createContext)(null),t=()=>(0,a.useContext)(l),r=l.Provider},348672:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(105314);const l=()=>{var e;return(null===(e=(0,a.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},724097:(e,i,n)=>{n.d(i,{Z:()=>d});var a=n(883119),l=n(460914),t=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},o={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:g,pressState:_,shape:h,text:y})=>{const v=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(i),x=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...r.__style,...o}}:r)({color:i,icon:c}),b=(0,t.jsx)(a.xu,{position:"relative",children:(0,t.jsx)(a.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===h?(f=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...f}}):x,children:(0,t.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,t.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,t.jsx)(a.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,t.jsx)(a.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var f;return g?(0,t.jsx)(l.Z,{onTouch:g,rounding:"pill"===h?"pill":2,pressState:_||"none",children:(0,t.jsx)(a.xu,{ref:d,children:b})}):b}},843843:(e,i,n)=>{n.d(i,{MZ:()=>z,di:()=>K,Ai:()=>M});var a=n(667294),l=n(616550),t=n(883119),r=n(865173),o=n(563962),s=n(525571),d=n(988014),c=n(245410),u=n(617285),p=n(500797),m=n(282802),g=n(611756),_=n(173085),h=n(98736),y=n(802071),v=n(700453),x=n(277192),b=n(799006),f=n(724097),k=n(250307),P=n(354428),S=n(28630),w=n(204926);const I=({children:e,external:i,externalQueryParams:n,target:a,href:t})=>{const r=(0,l.useHistory)();if(!t)return null;const o=(0,k.Z)(t);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:o})||i?"undefined"!=typeof window&&window.Windows?(0,w.Z)(o):(0,P.Gj)(o,{queryParams:n}):(0,P.G3)({event:e,href:t,history:r,target:"blank"===a?"blank":null})}})};var T=n(785893);const j=({accessibilityLabel:e,children:i,external:n,externalQueryParams:a,inline:l=!1,newTab:r,nofollow:o,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:m})=>(0,T.jsx)(I,{external:n,target:r?"blank":null,externalQueryParams:a,href:m,children:({navigate:n})=>(0,T.jsx)(t.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,k.Z)(m),display:l?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==s||s(e),e.defaultPrevented||n(e)},rel:o?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:i})}),A=({external:e,externalQueryParams:i,newTab:n,onTouch:a,to:l,...t})=>(0,T.jsx)(I,{external:e,target:n?"blank":null,externalQueryParams:i,href:l,children:({navigate:e})=>(0,T.jsx)(f.Z,{onTouch:i=>{null==a||a(i),i.defaultPrevented||e(i)},...t})});var C=n(951599),D=n(352865),L=n(712968);const F=(e,i=!1)=>function({isAppUpsellDisabled:n,...f}){const{children:k,clientTrackingParams:P,deeplinkUri:S,external:w,onTouch:I,refresh:j,to:A,viewParameter:F,viewType:z}=f,M=(0,b.Z)(),[K,R]=(0,a.useState)(!1),[E,U]=(0,a.useState)(!1),[N,O]=(0,a.useState)(!1),{isAuth:Z}=(0,y.Z)(),{userAgent:{platform:B,browserName:q},locale:H}=(0,m.B)(),V=(0,L.Tt)(),W=(0,o.Z)(),{checkExperiment:G}=(0,c.F)(),$=(0,l.useLocation)(),J=(0,u.Z)();(0,a.useEffect)((()=>{!async function(){if(r.v){O(!0);(await(0,r.Z)()).length>0&&U(!0)}}()}),[]),(0,a.useEffect)((()=>{Z||(0,h.My)(`unauth.app_upsell.has_app.${E.toString()}`,{browser:q,platform:B})}),[q,E,Z,B]);const Y=()=>{W({event_type:1701,view_type:z,view_parameter:F}),K&&R(!1)};return(0,T.jsxs)(t.xu,{"data-test-id":"deeplink-wrapper",children:[K&&(0,T.jsx)(x.Z,{clientTrackingParams:P,deepLinkUri:S,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:z||202,view_parameter:F,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,g.Nh)("deeplinkBehavior","branchfallback"),Y()},shouldTrackDismiss:!0,to:A,viewParameter:F,viewType:z,within:"deep-link-app-upsell-modal"}),(0,T.jsx)(C.Z,{children:a=>(0,T.jsx)(e,{...f,onTouch:e=>{const l=M&&!n&&Z&&!w&&!j&&!(0,p.FP)(window)&&!("ios"===B&&(H||"").startsWith("ar"))&&(0,D.kp)((0,s.Z)(null==V?void 0:V.created_at));if(l){let i=!0,n=!1;"string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)($)||(0,d.am)($)||(0,d.C$)($))?N&&E&&S&&"android"===B&&G("mweb_auth_deep_link_app_installed_user").anyEnabled&&(J(),i=!1):(i=!1,n=!0),i?(e.stopPropagation(),e.preventDefault(),R(!0)):n||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),a(null!=S?S:(0,v.B)($),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,g.qn)("deeplinkBehavior")||(0,_.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,_.Nh)("fallbackAttempt",1),a(S,"deep-link-app-upsell-modal",`${window.location.origin}${t=A,"string"==typeof t?t:`${t.pathname||""}${t.search?`?${t.search}`:""}`}`),Y());var t;i&&l||!I||I(e)},children:k})})]})},z=F(j),M=F(A),K=F(f.Z,!0)},328939:(e,i,n)=>{n.d(i,{fv:()=>y,Hs:()=>x,Mv:()=>_,uc:()=>h,dL:()=>g,qS:()=>v,Y4:()=>k,HE:()=>f,Cy:()=>b});var a=n(667294),l=n(973935),t=n(388011),r=n(906215),o=n(785893);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class d extends a.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return a.Children.only(this.props.children)}}function c(e){const{logImpression:i}=(0,t.v)();return(0,o.jsx)(d,{...e,logImpression:i})}var u=n(521262),p=n(245410);function m({auxData:e,component:i,eventData:n,eventType:l,impressionType:o,isPaused:s,objectIdStr:d,viewData:c,viewType:m,viewParameter:g}){const _=(0,a.useRef)(null),{logImpression:h}=(0,t.v)(),{checkExperiment:y}=(0,p.F)(),v=(0,a.useCallback)((()=>{const a=a=>{var t,r,s,p;h({viewData:c||{},viewType:m,viewParameter:g,eventType:l,impressionType:o,auxData:e,component:i,objectIdStr:d,eventData:{endTime:a.endTime,time:a.startTime,pinCellWidth:(null===(t=_.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=_.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(p=window)||void 0===p?void 0:p.innerHeight,...n}});const{isPromoted:v,attributionSourceId:x,link:b}=n;"pinImpressions"===o&&v&&y("m10n_ara_view_web_mobile").anyEnabled&&(0,u.ZP)(o,v,null!=x?x:null,b)};try{if(_.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;r.Z.start(_.current).onExitViewport(a).setDebugId(e||i||"unknown")}}catch(t){window.console.error('Can only track impressions for type "HTMLElement"')}}),[_.current]);return(0,a.useEffect)((()=>{s||v();const{current:e}=_;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[s,v]),_}const g=e=>{const i=m({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},_=e=>{const i=m({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},h=e=>{const i=m({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},y=e=>(0,o.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const i=m({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},x=e=>(0,o.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),b=e=>{const i=m({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>{const i=m({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},k=e=>{const i=m({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},460914:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({children:e,onMouseEnter:i,onMouseLeave:n,onTouch:t,rounding:r,fullWidth:o=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,l.jsx)(a.iP,{fullWidth:o,onMouseEnter:i&&(({event:e})=>i(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:t&&(({event:e})=>t(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},593502:(e,i,n)=>{n.r(i),n.d(i,{default:()=>qi,pinRepPaddingInBoint:()=>zi});var a,l=n(667294),t=n(702664),r=n(167912),o=n(616550),s=n(883119),d=n(563962),c=n(117651),u=n(402833),p=n(604094),m=n(765456),g=n(825389),_=n(536042),h=n(630089),y=n(525571),v=n(300657),x=n(958083),b=n(624417),f=n(740494),k=n(465991),P=n(245410),S=n(950695),w=n(895200),I=n(282802),T=n(643183),j=n(446077),A=n(98736),C=n(618569),D=n(938818),L=n(549201),F=n(272109),z=n(873610),M=n(768865),K=n(843843),R=n(328939),E=n(480462),U=n(348597),N=n(230910),O=n(836),Z=n(261453),B=n(411224),q=n(493214),H=n(870243),V=n(988014),W=n(460914),G=n(107877),$=n(951202),J=n(341027),Y=n(785893);const Q=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:n,price:a},domain:t}})=>(0,Y.jsxs)(l.Fragment,{children:[t&&(0,Y.jsx)(s.xv,{color:"default",size:"100",children:t}),(0,Y.jsx)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,Y.jsx)($.Z,{textSize:"100",currentPrice:(0,J.Z)({maxPrice:e,minPrice:i,price:a}),originalPrice:n})})]}),X=void 0!==a?a:a=n(788536);function ee(e){var i,n,a,l;const{data:t}=(0,g.Nd)(X,null!==(i=e.pinGraphqlRef)&&void 0!==i?i:e.pinId,(e=>{var i,n;return{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(i=e.rich_metadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(n=e.rich_summary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}));if(!t)return null;const r=(0,N.kb)({hasLinkDomain:!!t.linkDomain,richMetadata:t.richMetadata&&{recipe:t.richMetadata.recipe&&{fromAggregatedData:t.richMetadata.recipe.fromAggregatedData},products:(null!==(n=t.richMetadata.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:t.richSummary&&{products:(null!==(a=t.richSummary.products)&&void 0!==a?a:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return r&&r.price?(0,Y.jsx)(Q,{data:{pinProduct:r,domain:null===(l=t.richSummary)||void 0===l?void 0:l.siteName}}):null}var ie,ne=n(510336),ae=n(333741);const le=void 0!==ie?ie:ie=n(991102),te=(0,l.lazy)((()=>n.e(21326).then(n.bind(n,121326)))),re=({title:e})=>{const i=(0,L.HG)(),n=(0,C.Z)();return(0,Y.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,Y.jsx)(q.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},oe=({credits:e,data:i,hasAffiliatedProducts:n,hidePinMetadata:a,isPromotedPin:t,isSponsoredPin:r,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:m,pinId:g,pinnedToBoardId:h,pinReactionCounts:y,recipeReview:v,shouldShowReactions:x,showPriceIndicatorInPinCardDetails:b,title:f,type:k})=>{var P,S,w,j,D,F,z,M,K;const R=(0,_.ZP)(),E=(0,o.useLocation)(),U=(0,C.Z)(),{isAuthenticated:N}=(0,I.B)(),O=(0,L.HG)(),Z=(0,o.useHistory)(),B=f||u||"oneTap"===k,{pinner:q}=i,$=(0,G.gC)()(h||String(null===(P=i.board)||void 0===P?void 0:P.entityId)),J=t&&(null===(S=i.promoter)||void 0===S?void 0:S.entityId)===(null===(w=i.nativeCreator)||void 0===w?void 0:w.entityId),Q=V.Q0?2:c||(B&&!a?1:0),X=!b;return(0,Y.jsxs)(s.xu,{flex:"grow",children:[(0,Y.jsx)(s.xu,{display:"flex",marginTop:a?0:c||1,children:(0,Y.jsxs)(s.xu,{flex:"grow",children:[(r||n)&&!J&&(0,Y.jsx)(s.xu,{marginBottom:1,children:(0,Y.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,Y.jsx)(ne.Z,{hasAffiliatedProducts:n,isPromoted:t,sponsorName:i.sponsorship?(0,Y.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=i.sponsorship)||void 0===j?void 0:j.status})})}),f&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!a&&(0,Y.jsx)(re,{title:f})}),O&&!N&&u&&!(0,V.$Y)(E)&&!(0,V.E0)(E)&&(0,Y.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,Y.jsx)(s.iP,{onTap:()=>{U({action:"click",item:"related-pins-description"})},children:(0,Y.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),b&&(0,Y.jsx)(ee,{pinId:g,pinGraphqlRef:m}),v]})}),x&&y&&Object.keys(y).length>0&&(0,Y.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,Y.jsx)(T.Z,{children:(0,Y.jsx)(te,{pinReactionCounts:y})})})}),X&&e?(0,Y.jsx)(W.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&Z.push(e.link),d()},pressState:"none",children:(0,Y.jsx)(s.xu,{children:(!a||r||J)&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:Q,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{U({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(H.qE,{accessibilityLabel:e.title||e.subtitle||R.bt("Аватар автора", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,Y.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,Y.jsx)(s.iP,{onTap:()=>{U({action:"click",item:"related-pins-name"})},children:(0,Y.jsxs)(l.Fragment,{children:[e.title&&(0,Y.jsx)(s.xv,{lineClamp:1,size:"100",weight:r&&!J||n?"normal":"bold",children:e.title===(null==q?void 0:q.fullName)&&(null!=q&&q.isVerifiedMerchant||null!=q&&null!==(D=q.verifiedIdentity)&&void 0!==D&&D.verified)?(0,Y.jsx)(ae.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:q.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!r&&!a||J)&&(0,Y.jsx)(s.xv,{lineClamp:r||n?void 0:1,size:O?"200":"100",weight:O?"bold":"normal",children:e.subtitle}):!N&&$&&"protected"!==$.privacy?(0,Y.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(F=$.url)&&void 0!==F?F:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_profile"),U({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:$.name})})}):null]})})})]})})}):O&&!!q&&((0,V.L6)(E)||(0,V.cD)(E)||(0,V.$Y)(E))&&(0,Y.jsxs)(s.xu,{display:"flex",marginTop:B?2:0,children:[(0,Y.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,Y.jsx)(s.iP,{onTap:()=>{U({action:"click",item:"related-pins-avatar-image"})},children:(0,Y.jsx)(H.qE,{name:q.username||"",size:"sm",src:null!==(z=q.imageSmallUrl)&&void 0!==z?z:void 0})})}),(0,Y.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,Y.jsx)(s.rU,{underline:"hover",href:`/${q.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_board"),U({action:"click",item:"related-pins-name"})},children:(0,Y.jsx)(s.xv,{size:"200",weight:"bold",children:q.fullName||q.username})}),$&&"protected"!==$.privacy?(0,Y.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,Y.jsx)(s.rU,{underline:"hover",href:null!==(M=$.url)&&void 0!==M?M:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,A.NC)("click_board_pin_attribution_profile"),U({action:"click",item:"related-pin-text-below-name"})},children:(0,Y.jsx)(s.xv,{size:"200",children:null!==(K=$.name)&&void 0!==K?K:""})})}):null]})]})]})},se=e=>{const{pinId:i,pinGraphqlRef:n}=e,{data:a,childRef:l}=(0,g.Nd)(le,null!=n?n:i,(e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})));return a&&(0,Y.jsx)(oe,{...e,data:a,pinGraphqlRef:l})};var de,ce=n(792953),ue=n(671915);const pe=void 0!==de?de:de=n(441959),me=(e,i)=>{const{checkExperiment:n}=(0,P.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{const n=(0,r.useRelayEnvironment)();return(0,Y.jsx)(ue.t,{invite_code:e,relayEnvironment:n,inviteQuery:pe,children:e=>{const n=null!=e&&e.data?e.data.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,h.nk)(i.bt("Пользователь {{ name }} поделился с вами этой идеей", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(H.qE,{name:a,src:l})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})})(e,i):((e,i)=>(0,Y.jsx)(ue.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,h.nk)(i.bt("Пользователь {{ name }} поделился с вами этой идеей", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:a});return(0,Y.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Y.jsx)(s.zd,{height:32,width:32,children:(0,Y.jsx)(H.qE,{name:a,src:l})}),(0,Y.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Y.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}))(e,i)},ge=({inviteCode:e})=>{const i=(0,_.ZP)();return(0,Y.jsx)(s.xu,{minHeight:82,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,Y.jsx)(T.Z,{fallback:(0,Y.jsx)(ce.Z,{accessibilityLabel:i.bt("Загрузка компонента приглашения", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:me(e,i)})})})};var _e=n(388011),he=n(781493),ye=n(448709),ve=n(898252),xe=n(176172),be=n(348672),fe=n(550140),ke=n(63262),Pe=n(739425),Se=n(726425),we=n(994405),Ie=n(169492),Te=n(624524),je=n(471819),Ae=n(527386),Ce=n(724097),De=n(922204),Le=n(260070),Fe=n(712968),ze=n(648575),Me=n(252315);const Ke=new s.Ry(1);function Re({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:a,experience:r,inline:c=!0,minWidth:u,onTouch:p,onUnsave:m,pinId:g,pinnedToBoardId:h,shape:y,shouldShowSavedButton:v,viewType:x,viewParameter:b,showSaveHandoffExperience:f}){var k;const S=(0,_.ZP)(),w=(0,t.useDispatch)(),I=(0,o.useHistory)(),T=(0,o.useLocation)(),j=(0,Me.M)(),A=T.pathname.startsWith("/pin"),D=(0,t.useSelector)((({session:e})=>e.hasSavedUnauthPin)),L=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),F=null===(k=(0,Fe.Tt)())||void 0===k?void 0:k.pin_count,z=(0,d.Z)(),M=(0,C.Z)(),{checkExperiment:R}=(0,P.F)(),E=(0,Se.N)(),U=e=>I.push(e),{showToast:N,showRepinConfirmation:O}=(0,De.Z)(),Z=()=>{var e;w((0,ze.Z)({checkExperiment:R,isNativeAppInstalledContext:E,history:I,i18n:S,logContextEvent:z,onSuccess:()=>{r&&w((0,Ae.CK)(r.placement_id,r.experience_id))},originalPinId:g,pinId:g,trackingParams:{clientTrackingParams:i,pinnedToBoardId:h},showRepinConfirmation:f&&!A?()=>{}:O,disableRepinAnimation:L===g,pinCount:F,historyPush:U,savePinId:null!==(e=null==j?void 0:j.save)&&void 0!==e?e:()=>{}})).catch((e=>N((({hideToast:i})=>(0,Y.jsx)(fe.ZP,{type:"error",text:e.message||S.bt("К сожалению, произошла ошибка.", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),onHide:i})))))},B=(0,l.useRef)(null),q=f&&!D,H=(0,je.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),p&&p(e),v?v&&m&&m():Z()},modalHeader:(0,Te.Bx)(S)});(0,l.useEffect)((()=>{q&&!B.current&&(M({action:"trigger",item:"unauth-save-button-quicksave"}),z({event_type:14581}),Z(),w((0,Le.e2)())),B.current=q}));const V=()=>S.bt("Пин", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),W=()=>e||S.bt("Сохранить", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return D&&!A?null:(0,Y.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:Ke,children:a?(0,Y.jsx)(K.di,{accessibilityLabel:V(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:c,minHeight:48,minWidth:u,onTouch:H,pressState:["compress","background"],shape:y,size:"lg",text:W(),to:I.location.pathname,upsellType:"save",viewType:x,viewParameter:b}):(0,Y.jsx)(Ce.Z,{accessibilityLabel:V(),color:n,customStyles:{padding:"14px 16px"},inline:c,minHeight:48,minWidth:u,onTouch:H,pressState:"compress",shape:y,size:"300",text:W()})})}var Ee=n(86829),Ue=n(540459),Ne=n(77875);function Oe(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class Ze extends l.PureComponent{constructor(...e){var i;super(...e),i=this,Oe(this,"state",{saveState:void 0}),Oe(this,"legoFixedZIndex",new s.Ry(2)),Oe(this,"onAddPin",(async function(){const{clientTrackingParams:e,checkExperiment:n,dispatch:a,i18n:l,isNativeAppInstalledContext:t,oneTapSave:r,pinId:o,pinnedToBoardId:s,showToast:d,viewType:c,historyPush:u,repinContext:p}=i.props;try{var m;const l=await a((0,Ne.w)({checkExperiment:n,isNativeAppInstalledContext:t,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==r?void 0:r.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==r?void 0:r.section,showToast:d,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:c,historyPush:u,savePinId:null!==(m=null==p?void 0:p.save)&&void 0!==m?m:()=>{}}));i.setState({saveState:"saved"}),a((0,Ee.a)({boardId:null==r?void 0:r.boardId,localPinId:l.id,pinId:o}))}catch(g){d((({hideToast:e})=>(0,Y.jsx)(fe.ZP,{type:"error",text:g.message||l.bt("Похоже, произошла ошибка. Просим прощения!", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),onHide:e}))),i.setState({saveState:void 0})}})),Oe(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:a,pinId:l,savedInfo:t,showToast:r,repinContext:o}=i.props;if(t){e((0,Ee.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:l})),null==o||o.unsave(l);try{await e((0,Ue.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:n})),r((({hideToast:e})=>(0,Y.jsx)(fe.ZP,{text:a.bt("Пин удален", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e}))),i.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,Y.jsx)(fe.ZP,{type:"error",text:a.bt("К сожалению, при удалении пина произошла ошибка.", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e}))),i.setState({saveState:"saved"})}}})),Oe(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:a,isOneTapExploreLocalTab:l,pinnedToBoard:t,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(i)||l&&t||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l||!o&&s?n.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,Te.Bx)(this.props.i18n)})),Oe(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{checkExperiment:e,children:i,clientTrackingParams:n,directSaveExpGroup:a,homepageExperience:t,i18n:r,isBoardIdeas:o,isOneTapExploreLocalTab:d,isRTL:c,oneTapSave:u,pinId:p,pinnedToBoard:m,pinnedToBoardId:g,savedInfo:_,shouldShowSaveHandoffExp:h,useSmallSaveIcon:y}=this.props,v=a.includes("overlay");if(!(u||d||h||v))return i;const x=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!d,pinnedToBoard:m,savedInfo:_}),b="#000",f="rgba(255, 255, 255, 0.8)",k="light",P="dark",{group:S}=o?e("mweb_align_save_icon"):{},w=S&&S.includes("label"),I=S&&S.includes("all_surfaces"),T=()=>{if(S&&I){if(S.includes("pin"))return"angled-pin";if(S.includes("bookmark"))return"save-outline"}return"add"},j=x?(0,Y.jsx)(s.xv,{weight:"bold",color:"light",children:r.bt("Сохраненные", "Saved", "button for saving quickly with one click", undefined, true)}):(0,Y.jsx)(s.xv,{weight:"bold",color:"dark",children:r.bt("Сохранить", "Save", "button for saving quickly with one click", undefined, true)});let A=null;const C=a.includes("uselabel");return h?A=(0,Y.jsx)(Re,{buttonText:m?r.bt("Сохраненные", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:n,color:m?"default":"primary",deeplinkUri:"deeplinkUri",experience:t,inline:!0,pinnedToBoardId:g,minWidth:54,pinId:p,shape:"pill",shouldShowSavedButton:!!m,showSaveHandoffExperience:h}):u?A=(0,Y.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:x?b:f}},paddingX:w?3:2,paddingY:2,rounding:w?"pill":"circle",children:(0,Y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[w&&j,!w&&(0,Y.jsx)(s.JO,{accessibilityLabel:x?r.bt("сохранено", "saved", "checkmark icon to show pin has been saved", undefined, true):r.bt("сохранить", "save", "button for saving quickly with one click", undefined, true),icon:x?"check":T(),color:x?k:P,size:y||I?16:24})]})})}):v&&(A=(0,Y.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:x?b:f}},paddingX:C?3:2,paddingY:2,rounding:C?"pill":"circle",children:(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:C?j:(0,Y.jsx)(s.JO,{accessibilityLabel:x?r.bt("сохранено", "saved", "checkmark icon to show pin has been saved", undefined, true):r.bt("сохранить", "save", "button for saving quickly with one click", undefined, true),icon:x?"saved":"save-outline",color:x?k:P,size:16})})})})),(0,Y.jsxs)(l.Fragment,{children:[i,(0,Y.jsx)(s.xu,{bottom:!0,left:c,padding:2,position:"absolute",right:!c,zIndex:this.legoFixedZIndex,children:A})]})}}function Be(e){const{showToast:i}=(0,ke.F9)(),n=(0,o.useLocation)(),a=(0,_.ZP)(),r=(0,d.Z)(),s=(0,je.Z)(),c=(0,t.useDispatch)(),u=(0,o.useHistory)(),{isRTL:p,isAuthenticated:m}=(0,I.B)(),g=(0,Me.M)(),h=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),y=m&&!!h&&h===e.pinId,{pins:v,clear:x}=(0,Ie.Z)(),b=(0,l.useRef)(!1),f=(0,Pe.mB)(n.search).ideas_referrer,k=(0,L.HG)(),{checkExperiment:S}=(0,P.F)(),w=(0,we.J1)(),T=(0,Se.N)(),j=!k&&f===String(25),C=e=>u.push(e),D=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo)),z=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board)),M=(0,t.useSelector)((e=>e.experiences[40001]));return(0,F.Z)((()=>{m&&!b.current&&v.length>0&&(b.current=!0,r({event_type:14577,aux_data:{num_unauth_saved_pins:v.length}}),[...v,...h&&S(w).anyEnabled?[{id:h}]:[]].forEach((({id:i})=>{var n;c((0,ze.Z)({checkExperiment:S,isNativeAppInstalledContext:T,history:u,i18n:a,logContextEvent:r,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:C,savePinId:null!==(n=null==g?void 0:g.save)&&void 0!==n?n:()=>{}})).catch((e=>{(0,A.My)(`error.unauth_profile_pin_merge.${e}`)}))})),x())})),(0,Y.jsx)(Ze,{...e,checkExperiment:S,isNativeAppInstalledContext:T,i18n:a,requireAuthForLimitedLogin:s,history:u,logContextEvent:r,showToast:i,shouldShowSaveHandoffExp:y,isRTL:p,historyPush:C,useSmallSaveIcon:j,repinContext:g,savedInfo:D,pinnedToBoard:z,homepageExperience:M,dispatch:c})}Be.displayName="OneTapSave";const qe=Be;var He=n(371362);function Ve({boardUrl:e,boardName:i,directSaveExpGroup:n,isQuicksave:a,sectionName:l,sectionSlug:t}){const r=(0,_.ZP)(),d=(0,o.useHistory)(),c=new s.Ry(1),u=!!t&&`${e}${t}/`;let p=null;return p=n.includes("footer")?(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Y.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)},children:(0,Y.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,Y.jsxs)(s.xu,{position:"relative",children:[(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(s.xv,{color:"light",children:r.bt("Сохранено!", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true)})}),(0,Y.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,Y.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,Y.jsx)(s.xv,{color:"light",children:l?(0,h.nk)(r.bt("{{sectionName}}", "{{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(l,22)},`pincard-${l}`)}):(0,h.nk)(r.bt("{{boardName}}", "{{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:a?r.bt("Профиль", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,He.ZP)(i,22)},`pincard-${i}`)})})}),(0,Y.jsx)(s.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,Y.jsx)(s.JO,{accessibilityLabel:r.bt("Сохранено!", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):n.includes("overlay")?(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Y.jsx)(s.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)}})})}):(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Y.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)},children:(0,Y.jsx)(s.xv,{color:"light",children:l?(0,h.nk)(r.bt("Сохранено на доске «{{sectionName}}»", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,He.ZP)(l,22)},`pincard-${l}`)}):(0,h.nk)(r.bt("Сохранено на доске «{{boardName}}»", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,Y.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:a?r.bt("Профиль", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,He.ZP)(i,22)},`pincard-${i}`)})})})})}),p}var We=n(391670),Ge=n(51536);const $e=({clickLoggingOptions:e,domain:i,link:n,onClick:a})=>{var l;const t=null===(l=(0,We.lO)())||void 0===l?void 0:l.logging,r=(0,_.ZP)(),o=(0,d.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((i=>({component:0,element:162,view_type:null==t?void 0:t.viewType,view_parameter:null==t?void 0:t.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,Y.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>o(e))),a(e)},children:(0,Y.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,Y.jsx)(s.xu,{marginEnd:1,children:(0,Y.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r.bt("Ссылка", "Link", "unauth.pin.domain.link", undefined, true)})}),(0,Y.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),c().forEach((e=>o(e))),a(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,Y.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,Ge.Z)(i,27)})})]})})},Je=({domainLinkData:e})=>{const i=(0,_.ZP)(),n=(0,u.g)();return(0,Y.jsxs)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,Y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,Y.jsx)(s.X6,{size:"400",align:"center",color:"light",children:i.bt("Открыть", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,Y.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,Y.jsx)($e,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var Ye,Qe=n(698303),Xe=n(525104),ei=n(935340),ii=n(738162);const ni=void 0!==Ye?Ye:Ye=n(182964),ai=({width:e,height:i,minY:n,maxY:a})=>{const l=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":l(-1*n*i),bottom:a>=1?"0%":l(-1*(1-a)*i)}},li=({children:e,margin:i,disableRounding:n})=>(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,Y.jsx)(s.zd,{wash:!0,rounding:n?0:xe.mv,children:e})}),ti=({clientTrackingParams:e,color:i,data:n,description:a,directSaveExpGroup:t,domainLinkData:r,image:d,imageAltText:u,imageCrop:p,isBoardIdeas:m,isOneTapExploreLocalTab:g,isSquarePin:h,lazyLoadImage:y,onError:v,oneTapSave:x,onLoad:b,pinId:f,priorityFetchImage:k,disableDefaultContextMenu:S,pinnedToBoardId:w,productPrice:T,disableRounding:j,storyDataExists:D,title:F,type:z,videoDuration:M,viewType:K,slotIndex:R,isPromotedPin:E})=>{var U,N,O,Z,B,q,H,W,G,$,J,Q;const X=(0,_.ZP)(),ee=(0,be.Z)(),{checkExperiment:ie}=(0,P.F)(),[ne,ae]=(0,l.useState)(!1),{isAuthenticated:le}=(0,I.B)(),te=(0,L.ZP)(),re="desktop"===te,oe=(0,Me.M)(),se=w&&!(null==oe||!oe.isSaved(f)),de=r&&r.link?"with-link":"without-link",ce=!le&&!re,ue=(0,l.useRef)(Date.now()),pe=(0,l.useRef)(null),me=(0,C.Z)(),{shouldOpenInStream:ge}=n,ye=(0,ii.I)(),{logContextEvent:xe}=(0,_e.v)(),fe=ie("ads_mweb_idea_ad").anyEnabled;(0,l.useEffect)((()=>{ne&&!le&&me({action:"view",item:"unauth-video-autoplay-on-hover"})}),[ne,me,le]),(0,l.useEffect)((()=>{var e,i;const n="board-image-preload-"+(R-1),a=null!==(e=null===(i=document.getElementById(n))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";ye&&5===K&&a&&(0,ei.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:le,deviceType:te,isEqual:a===d.url}})}),[]);const ke=(0,Y.jsx)(he.Z,{alt:u||F||a||"",color:i,naturalHeight:null!==(U=d.height)&&void 0!==U?U:1,naturalWidth:null!==(N=d.width)&&void 0!==N?N:1,onError:v,onLoad:b,src:null!==(O=d.url)&&void 0!==O?O:"",fit:h?"cover":void 0,loading:y?"lazy":"auto",fetchPriority:k?"high":"auto"}),Pe=(0,o.useLocation)(),Se=()=>(0,V.C$)(Pe)?"homefeed":(0,V.L6)(Pe)?"related_pins":(0,V.En)(Pe)?"search":"unknown",we=t.includes("enabled"),Ie=we?!w&&!(null==oe||!oe.isSaved(f)):"quick_saves"===(null===(Z=n.board)||void 0===Z?void 0:Z.layout),Te=we?le&&(se||Ie):le&&se;return(0,Y.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,Y.jsxs)(s.xu,{onContextMenu:e=>{if("desktop"!==te){const i=Se();(0,A.My)((le?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),le||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==te&&((0,A.My)("unauth.mweb.related_pin.image.touch.start"),le||null==S||S(),ue.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(pe.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==te){const i=Se();(0,A.My)("unauth.mweb.related_pin.image.touch.end");const n=Date.now()-ue.current>500,a=pe.current;if(e.changedTouches&&e.changedTouches.length>0&&a){const l=e.changedTouches.item(0);if(l&&Math.pow(l.pageX-a.x,2)+Math.pow(l.pageY-a.y,2)>100)return;!n||le||"related_pins"!==i&&!ie("pcons_enable_context_menu_all_feeds").anyEnabled?n&&le&&xe({event_type:103,view_parameter:(0,V.C$)(Pe)?92:(0,V.L6)(Pe)?140:(0,V.En)(Pe)?43:void 0}):(null==S||S(),ee({pinId:f,location:"related-pins-long-press"}),e.stopPropagation())}}},"data-test-id":`pincard-${z}-${de}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ce||ie("prevent_open_on_hover").anyEnabled?void 0:()=>ae(!0),onMouseLeave:ce?void 0:()=>ae(!1),position:"relative",rounding:j?0:4,children:[(0,Y.jsxs)(qe,{clientTrackingParams:e||"",oneTapSave:x,isBoardIdeas:m,isOneTapExploreLocalTab:g,pinId:f,directSaveExpGroup:t,pinnedToBoardId:w,viewType:K,children:[(()=>{if("gif"===z&&!se)return(0,Y.jsx)(Qe.Z,{text:X.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===z&&M&&!se)return(0,Y.jsx)(Qe.Z,{text:M});if("storyPin"===z&&D&&!se&&!1!==ge){var e,i,a;const l=(null===(e=n.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(i=n.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,r=(null===(a=n.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(r>0){const e=r+t*ve.oN;return(0,Y.jsx)(Qe.Z,{text:(0,c.Z)(e)})}if("number"==typeof l&&l>0)return(0,Y.jsx)(Qe.Z,{icon:"idea-pin",text:l.toString()})}if(fe&&D&&!se&&!1!==ge&&E){var l,t;const e=(null===(l=n.storyPinData)||void 0===l?void 0:l.staticPageCount)||0,i=(null===(t=n.storyPinData)||void 0===t?void 0:t.totalVideoDuration)||0;if(i>0){const n=i+e*ve.oN;return(0,Y.jsx)(Qe.Z,{text:(0,c.Z)(n)})}}return"product"===z&&T?(0,Y.jsx)(Qe.Z,{text:T}):null})(),(0,Y.jsx)(li,{disableRounding:j,margin:p?ai({width:null!==(B=d.width)&&void 0!==B?B:1,height:null!==(q=d.height)&&void 0!==q?q:1,minY:p.minY,maxY:p.maxY}):void 0,children:h?(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,Y.jsx)(s.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:ke})}):ke})]}),ne&&!le&&(0,Y.jsx)(Je,{domainLinkData:r}),Te&&(0,Y.jsx)(Ve,{boardName:null!==(H=null===(W=n.board)||void 0===W?void 0:W.name)&&void 0!==H?H:"",boardUrl:null!==(G=null===($=n.board)||void 0===$?void 0:$.url)&&void 0!==G?G:"",directSaveExpGroup:t,sectionName:null==x||null===(J=x.section)||void 0===J?void 0:J.title,sectionSlug:null==x||null===(Q=x.section)||void 0===Q?void 0:Q.slug,isQuicksave:Ie})]})})},ri=(0,ye.Z)({useGraphQLAdapter:e=>{const i=(0,r.useFragment)(ni,e);return{pin:i,pinGraphqlRef:i}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var n;const a=(0,Xe.S6)()(e),l=(0,G.gC)();if(!a)return null;const t=l(i||String(null===(n=a.board)||void 0===n?void 0:n.id));return{pin:{board:t&&{layout:t.layout,name:t.name,url:t.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{pageCount:a.story_pin_data.page_count,staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),oi=e=>(0,Y.jsx)(ri,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,Y.jsx)(ti,{...e,data:i.pin,pinGraphqlRef:i.pinGraphqlRef})});var si=n(649796);const di={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ci=(e,i,n)=>(0,Y.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:n})},e);function ui({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:t}){const r=(0,_.ZP)(),[o,d]=(0,l.useState)(a?"fadeIn":"initial"),c=(0,l.useRef)(null);(0,l.useEffect)((()=>("initial"===o&&a&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[o,d,a]);const{subTitle:u,title:p,unfollow:m}=i(ci);let g=p,h=u;m&&t&&(g=m.title,h=m.subTitle);const y=()=>m?(0,si.t)(m.action,m.actionOptions,n):void 0;return a&&(0,Y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...di[o]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,Y.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,Y.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,Y.jsxs)(s.xu,{children:[(0,Y.jsx)(s.X6,{size:"400",color:"light",children:g}),!!h&&(0,Y.jsxs)(s.xu,{marginTop:1,children:[(0,Y.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:h}),(0,Y.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,Y.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r.bt("Настроить ленту", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!t&&m&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt("Отписаться", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]}),!t&&m&&(0,Y.jsx)(s.xu,{paddingY:1,children:(0,Y.jsx)(s.zx,{fullWidth:!0,color:"white",text:r.bt("Отписаться", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true),onClick:y})})]})})}var pi=n(187768);function mi(e){const i=(0,_.ZP)(),{pinId:n,clientTrackingParams:a,directSaveExpGroup:l}=e,r=(0,Me.M)(),d=(0,o.useHistory)(),{showToast:c}=(0,ke.F9)(),u=(0,t.useSelector)((e=>e.pins[n]&&e.pins[n].savedInfo)),p=!(null==r||!r.isSaved(n))||u,m=(0,t.useDispatch)(),g=l.includes("uselabel"),h=async e=>{if(e.stopPropagation(),e.preventDefault(),p){if(!u)return;m((0,Ee.k)({boardId:u.boardId,localPinId:u.localPinId,pinId:n})),null==r||r.unsave(n);try{await m((0,Ue.q)({pinId:u.localPinId||"",boardId:u.boardId,clientTrackingParams:a})),c((({hideToast:e})=>(0,Y.jsx)(fe.ZP,{text:i.bt("Пин удален", "Pin deleted!", "User deleted their pin", undefined, true),onHide:e})))}catch(l){c((({hideToast:e})=>(0,Y.jsx)(fe.ZP,{type:"error",text:i.bt("К сожалению, при удалении пина произошла ошибка.", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),onHide:e})))}}else d.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}})},y=p?(0,Y.jsx)(s.xv,{weight:"bold",size:"100",children:i.bt("Сохраненные", "Saved", "button for saving quickly with one click", undefined, true)}):(0,Y.jsx)(s.xv,{weight:"bold",size:"100",children:i.bt("Сохранить", "Save", "button for saving quickly with one click", undefined, true)});return g?(0,Y.jsx)(s.iP,{onTap:({event:e})=>{h(e)},rounding:"circle",children:(0,Y.jsx)(s.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,Y.jsx)(s.xu,{children:y})})}):(0,Y.jsx)(s.hU,{icon:p?"saved":"save-outline",size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:p?i.bt("Отменить сохранение", "Undo save", "PinFooterSaveButton.Unsave", undefined, true):i.bt("Сохранить", "Save", "PinFooterSaveButton.Save", undefined, true),onClick:({event:e})=>{h(e)}})}var gi=n(31407);function _i({maxRating:e,rating:i,text:n}){return(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,Y.jsx)(gi.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,Y.jsx)(l.Fragment,{children:(0,Y.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}var hi,yi=n(190253),vi=n(141418);const xi=void 0!==hi?hi:hi=n(937711);function bi({dedupeVisualAnnotations:e,description:i,gridTitle:n,pinId:a,richMetadataTitle:l,richSummaryDisplayName:t,storyPinDataId:o,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,r.useFragment)(xi,u);return(0,Y.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,Y.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,k.fs)({pinTitle:c,gridTitle:n,richSummaryDisplayName:t,richMetadataTitle:l,storyPinDataId:o,storyPinDataMetadataPinTitle:d})||i})}),(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(vi.Z,{pinId:a,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var fi,ki=n(117918),Pi=n(204722);const Si=void 0!==fi?fi:fi=n(143453),wi=({attribute:e,deviceType:i,location:n})=>{const a=(0,C.S)(n);(0,A.My)("unauth.product_attribution.click",{item:e,page:a,device:i})},Ii=({isSquarePin:e,price:i,shouldDisplayMerchant:n})=>i&&e?n?90:68:void 0,Ti=({maxPrice:e,minPrice:i,price:n})=>e&&i?`${i}-${e}`:n;function ji({dedupeVisualAnnotations:e,description:i,domain:n,graphqlRef:a,gridTitle:t,isSquarePin:r,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:m,storyPinDataMetadataPinTitle:g,title:_}){const h=(0,L.ZP)(),y=(0,o.useLocation)(),v=c&&(c.price||c.standardPrice||Ti(c)),x=(0,l.useMemo)((()=>r?2:v?3:2),[r,v]);if(!d)return null;const b=(0,k.fs)({pinTitle:_,gridTitle:t,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:m,storyPinDataMetadataPinTitle:g})||i,f=`/pin/${d}/`;return(0,Y.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:Ii({isSquarePin:r,price:v}),children:(0,Y.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,Y.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,Y.jsxs)(K.MZ,{to:f,accessibilityLabel:b,deeplinkUri:f,children:[v&&(0,Y.jsx)(s.iP,{onTap:()=>wi({deviceType:h,attribute:"price",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>wi({deviceType:h,attribute:"title",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:x,children:b})})}),n&&v&&(0,Y.jsx)(s.xu,{marginTop:1,children:(0,Y.jsx)(s.iP,{onTap:()=>wi({deviceType:h,attribute:"merchant",location:y}),children:(0,Y.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}),"desktop"!==h&&(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(vi.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:a})})]})})}const Ai=(0,ye.Z)({useGraphQLAdapter:({queryRef:e})=>(0,r.useFragment)(Si,e),useLegacyAdapter:()=>null});function Ci({queryRef:e,...i}){return(0,Y.jsx)(Ai,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,Y.jsx)(ji,{...i,graphqlRef:e})})}var Di,Li=n(197838);const Fi=void 0!==Di?Di:Di=n(256468),zi=({isDesktop:e})=>e?0:1,Mi=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Ki=e=>{const{attribution:i,embed:n,isEligibleForWebCloseup:a,richSummary:l,videos:t,storyPinDataId:r}=e,o=n||(null==i?void 0:i.embed);return a?"oneTap":t||"video"===(null==o?void 0:o.type)?"video":"gif"===(null==o?void 0:o.type)?"gif":"product"===(null==l?void 0:l.typeName)?"product":"recipe"===(null==l?void 0:l.typeName)?"recipe":r?"storyPin":"image"},Ri=e=>{const{adDestinationUrl:i,link:n,trackedLink:a}=e;return i||a||n||""},Ei=e=>{var i,n,a;const l=null===(i=e.videos)||void 0===i?void 0:i.videoList;return l?(0,c.Z)(null!==(n=null===(a=l[Object.keys(l)[0]])||void 0===a?void 0:a.duration)&&void 0!==n?n:0):""},Ui=e=>{var i;const[n]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!n)return null;const{offerSummary:a}=n;return a&&(a.price||a.maxPrice)},Ni=e=>e&&e.includes("/user/default")?void 0:e,Oi=(0,l.lazy)((()=>Promise.all([n.e(68138),n.e(10536)]).then(n.bind(n,91822))));function Zi({auxData:e,componentType:i,debugInfo:n,disableAppUpsell:a,disableReaction:r,disableRounding:c,duploConversationPin:g,duploDedupeVisualAnnotations:D,duploDisablePinCardPadding:q,duploFeedItemProps:H,duploIsSquarePin:V,duploLazyLoadImage:W,duploOneTapSave:G,duploPinCardDetailsMargin:$,duploPriorityFetchImage:J,duploQueryRef:Q,duploShouldAddNiiSearchParamToImageUrls:X,duploShouldAllowProductPriceIndicator:ee,feedback:ie,imageOnlyOption:ne,impressionData:ae,objectIdStr:le,pin:te,slotIndex:re,topLevelTrafficSource:oe,topLevelTrafficSourceDepth:de,trackingParams:ce,trafficSource:ue,viewData:pe,viewParameter:me,viewType:_e}){var he,ye,ve,xe,be,fe,ke,Pe,Se,we,Ie,Te,je,Ae,Ce,De,Le;const Fe=(0,_.ZP)(),ze=(0,u.g)(),Me=(0,o.useLocation)(),Ke=(0,L.HG)(),Re=(0,B.Z)(),Ee=(0,S.yz)(),Ue=(0,m._)({id:1000107}),Ne=(0,d.Z)(),Oe=(0,C.Z)(),{country:Ze,isAuthenticated:Be,isBot:qe,isSocialBot:He}=(0,I.B)(),{viewedSharedPins:Ve}=(0,t.useSelector)((({session:e})=>e)),We=(0,t.useSelector)((({experiences:e})=>{const i=e[1000107];return!!i&&500678===i.experience_id})),Ge=(0,t.useSelector)((({session:e,users:i})=>(0,y.Z)(i[e.userId].created_at))),{getPinFeedbackStatus:$e,setPinFeedbackStatus:Je}=(0,pi.K)(),[Ye,Qe]=(0,l.useState)(!1),[Xe,ei]=(0,l.useState)(!1),ii=(0,l.useRef)(),ni=(0,v.t)(),ai=te.entityId,li=!!te.storyPinDataId&&!1===te.shouldOpenInStream,ti=e=>X&&e?{...e,url:e.url&&(0,j.H5)(e.url)}:e,ri=ti(te.imageSpec_136x136),si=ti(te.imageSpec_170x),di=ti(te.imageSpec_236x),ci=ti(te.imageSpec_474x),gi=ti(te.imageSpec_736x),hi=ti(te.imageSpec_orig),vi={...[["136x136",ri],["170x",si],["236x",di],["474x",ci],["736x",gi],["orig",hi]].reduce(((e,[i,n])=>{var a,l,t,r;return n?(e[i]={dominant_color:null!==(a=n.dominantColor)&&void 0!==a?a:void 0,height:null!==(l=n.height)&&void 0!==l?l:void 0,url:null!==(t=n.url)&&void 0!==t?t:void 0,width:null!==(r=n.width)&&void 0!==r?r:void 0},e):e}),{})},{checkExperiment:xi}=(0,P.F)(),fi=Be?xi("web_auth_exclude_original_images").anyEnabled:xi("web_unauth_exclude_original_images").anyEnabled,Si=Object.keys(vi).reduce(((e,i)=>{var n;return i&&null!==(n=vi[i])&&void 0!==n&&n.url?{...e,[i]:vi[i].url}:e}),{}),wi=e=>{var i,n;return(0,b.Z)({embedSrc:null===(i=te.embed)||void 0===i?void 0:i.src,embedType:null===(n=te.embed)||void 0===n?void 0:n.type,imagesUrls:Si,preferredResolution:e,excludeOriginals:!qe&&!He&&fi})},Ii=Ki(te),Ti=(0,E.Z)({isEligibleForPdp:te.isEligibleForPdp,isOosProduct:te.isOosProduct,isStaleProduct:te.isStaleProduct,pinShoppingFlags:null!==(he=te.shoppingFlags)&&void 0!==he?he:void 0}),ji=(0,z.z)();(0,F.Z)((()=>{if(ji&&!Ke&&"image"===Ii){const n=vi["236x"]||vi["136x136"],a=wi("736x");if(a){var e,i;const l={pin:{board:te.board&&{entityId:te.board.entityId},category:te.category,closeupAttribution:te.closeupAttribution&&{fullName:te.closeupAttribution.fullName,imageMediumUrl:te.closeupAttribution.imageMediumUrl,username:te.closeupAttribution.username},closeupUnifiedDescription:te.closeupUnifiedDescription,domain:te.domain,dominantColor:te.dominantColor,embed:te.embed&&{src:te.embed.src,type:te.embed.type},entityId:te.entityId,gridTitle:te.gridTitle,imageSignature:te.imageSignature,isDownstreamPromotion:te.isDownstreamPromotion,isEligibleForAggregatedComments:te.isEligibleForAggregatedComments,link:te.link,linkDomain:te.linkDomain&&{officialUser:te.linkDomain.officialUser&&{fullName:te.linkDomain.officialUser.fullName,imageMediumUrl:te.linkDomain.officialUser.imageMediumUrl,imageSmallUrl:te.linkDomain.officialUser.imageSmallUrl}},mobileLink:te.mobileLink,nativeCreator:te.nativeCreator&&{fullName:te.nativeCreator.fullName,imageMediumUrl:te.nativeCreator.imageMediumUrl,imageSmallUrl:te.nativeCreator.imageSmallUrl},originPinner:te.originPinner&&{fullName:te.originPinner.fullName,imageMediumUrl:te.originPinner.imageMediumUrl,imageSmallUrl:te.originPinner.imageSmallUrl},pinJoin:te.pinJoin&&{visualAnnotation:te.pinJoin.visualAnnotation},pinnedToBoard:te.pinnedToBoard&&{entityId:te.pinnedToBoard.entityId,url:te.pinnedToBoard.url},pinner:te.pinner&&{entityId:te.pinner.entityId,fullName:te.pinner.fullName,imageMediumUrl:te.pinner.imageMediumUrl,imageSmallUrl:te.pinner.imageSmallUrl,username:te.pinner.username},promoter:te.promoter&&{__typename:"User"},richMetadata:te.richMetadata&&{__typename:"RichPinDataView",title:te.richMetadata.title,article:te.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:te.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=te.richMetadata.products)||void 0===e?void 0:e.map((()=>({__typename:"RichPinProductMetadata"}))),tutorial:(null===(i=te.richMetadata)||void 0===i?void 0:i.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:te.richSummary&&{displayName:te.richSummary.displayName},section:te.section&&{entityId:te.section.entityId},storyPinDataId:te.storyPinDataId,storyPinData:te.storyPinData&&{metadata:te.storyPinData.metadata&&{pinTitle:te.storyPinData.metadata.pinTitle}},seoNoindexReason:te.seoNoindexReason,seoTitle:te.seoTitle,title:te.title,trackedLink:te.trackedLink,trackingParams:te.trackingParams},derived:{commerceData:Ti,homefeedRecommendationReason:92===me&&te.recommendationReason?{reason:te.recommendationReason.reason,reasonId:te.recommendationReason.reasonId}:null,imagesUrls:Si,imageUrl:a,placeholder:n&&{width:n.width,height:n.height,url:n.url}}};ji.setData(ai,l)}}})),(0,F.Z)((()=>{if(!Be&&0===re&&3070===me){var e,i,n;const a=Me.pathname,{imageSignature:l,entityId:t,imageSpec_236x:r,description:o}=te;(0,Z.H$)(a,l,t,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=r.height)&&void 0!==i?i:void 0,url:r.url,width:null!==(n=r.width)&&void 0!==n?n:void 0},o)}}));const Ai=92===me&&(null===(ye=Ve&&Ve[ai])||void 0===ye?void 0:ye.inviteCode),Di=V?{height:136,url:null==di?void 0:di.url,width:136}:[di,si,ri,gi,ci,hi].find((e=>e&&e.url))||{width:1,height:1,url:""},Fi=null===(ve=te.videos)||void 0===ve||null===(xe=ve.videoList)||void 0===xe?void 0:xe.v720P,Zi=$e({pinId:ai}),Bi=Mi(te),qi=!!(te.isEligibleForPdp&&te.nativeCreator&&!Bi)&&xi("web_hide_product_attribution").anyEnabled,Hi=()=>{var e,i,n,a,l,t,r;const o=({user:e,linkToBoard:i})=>{var n;return{link:i?(null===(n=te.board)||void 0===n?void 0:n.url)||`/pin/${te.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:Ni(null==e?void 0:e.imageMediumUrl)||Ni(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,m,g;if(Mi(te))return te.sponsorship&&(null===(s=te.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=te.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=te.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=te.promoter)||void 0===u?void 0:u.fullName,...o({user:te.nativeCreator})}:{title:Fe.bt("Рекламодатель:", "Promoted by", "Grid pin annotation", undefined, true),subtitle:null===(p=te.promoter)||void 0===p?void 0:p.fullName,...o({user:te.promoter})};if(null!==(e=te.sponsorship)&&void 0!==e&&e.creator)return{title:null===(m=te.nativeCreator)||void 0===m?void 0:m.fullName,subtitle:null===(g=te.sponsorship.sponsor)||void 0===g?void 0:g.fullName,...o({user:te.nativeCreator})};if(!qi||!te.isEligibleForPdp){if(te.nativeCreator)return{title:te.nativeCreator.fullName,subtitle:"",...o({user:te.nativeCreator})};switch(me){case 3375:if(null===(i=te.linkDomain)||void 0===i||null===(n=i.officialUser)||void 0===n||!n.isPrimaryWebsiteVerified)return;const e=null!==(a=te.storyPinData)&&void 0!==a&&a.hasProductPins?te.nativeCreator:te.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...o({user:e})};case 0:case 3173:return null!==(l=te.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(t=te.nativeCreator)||void 0===t?void 0:t.fullName,...o({user:te.nativeCreator,linkToBoard:!0})}:{title:te.board&&"protected"===te.board.privacy?Fe.bt("Сохранено:", "Saved by", "Grid pin annotation", undefined, true):(null===(r=te.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...o({user:te.pinner,linkToBoard:!0})};default:return}}},Vi=(0,x.hP)({boardFollowedByMe:!(null===(be=te.board)||void 0===be||!be.followedByMe),feedbackType:null==ie?void 0:ie.type,viewParameter:me,promotion:te&&te.promoter&&{isDownstreamPromotion:!!te.isDownstreamPromotion},pinnerFollowedByMe:!(null===(fe=te.pinner)||void 0===fe||!fe.explicitlyFollowedByMe),recommendationReason:te.recommendationReason&&{hasBoard:!!te.recommendationReason.board,reason:null!==(ke=te.recommendationReason.reason)&&void 0!==ke?ke:void 0}}),Wi=e=>{var i,n,a;const l={i18n:Fe,makeNavigateLink:e};switch(Vi){case"pfy":return(0,x.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,x.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=te.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(n=te.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(a=te.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,x.Ud)({...l,feedback:{type:"topic",sourceInterest:te.sourceInterest&&te.sourceInterest.name&&te.sourceInterest.urlName?{name:te.sourceInterest.name,url_name:te.sourceInterest.urlName}:null}});case"followed":return(0,x.Ud)({...l,feedback:{type:"followed",followed:te.pinner&&te.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:te.pinner.fullName&&te.pinner.username?{full_name:te.pinner.fullName,username:te.pinner.username}:null}:{type:"board",board:te.board&&te.board.name&&te.board.url?{name:te.board.name,url:te.board.url}:null}}});case"promoted":return(0,x.Ud)({...l,feedback:{type:"promoted",promoter:!te.adMatchReason&&te.promoter&&te.promoter.fullName?{full_name:te.promoter.fullName,username:te.promoter.username}:null}});default:return null}},{category:Gi,linkDomain:$i,description:Ji,gridTitle:Yi,imageSignature:Qi,richMetadata:Xi,richSummary:en,title:nn,sponsorship:an,storyPinData:ln}=te,[tn,rn]="string"==typeof Yi?[Yi,""]:[null==en?void 0:en.displayName,Ji],on=null==ln?void 0:ln.isDeleted,sn=(0,U.Z)((Me&&Me.state||{}).trackingParams||ce,te.trackingParams),dn="product"===Ii&&!Be,{experimentsClient:cn}=(0,I.B)(),un=We&&!(3375===me)&&(cn.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||cn.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),pn=We&&!(en&&43===me&&!Ge||3375===me)||un;let mn=null===(Pe=te.pinJoin)||void 0===Pe?void 0:Pe.visualAnnotation;D&&mn&&(mn=D({pinId:ai,visualAnnotations:mn}));const gn=(0,k.rw)(null!==(Se=te.description)&&void 0!==Se?Se:"",te.descriptionHtml||"",mn,te.altText||"",te.autoAltText||""),_n=Be?rn:(0,f.Z)({storyPinDataId:te.storyPinDataId,pinDescription:te.description,richMetadataDescription:null!==(we=null===(Ie=te.richMetadata)||void 0===Ie?void 0:Ie.description)&&void 0!==we?we:"",richSummaryDisplayName:null!==(Te=null===(je=te.richSummary)||void 0===je?void 0:je.displayName)&&void 0!==Te?Te:"",closeupDescription:null!==(Ae=te.closeupDescription)&&void 0!==Ae?Ae:"",closeupUnifiedDescription:null!==(Ce=te.closeupUnifiedDescription)&&void 0!==Ce?Ce:""});let hn;hn="oneTap"===Ii?te.trackedLink||te.link:Be?(0,k.BY)(ai):(0,k.bN)({pinId:ai,seoUrl:te.seoUrl});const yn={accessibilityLabel:gn||tn||rn||Fe.bt("Пин", "Pin", "Pin accessibility label", undefined, true),country:Ze,deeplinkUri:hn,external:"oneTap"===Ii,externalQueryParams:{pin:ai,client_tracking_params:ce},isAppUpsellDisabled:a,onTouch:n=>{var a;if((()=>{const n=(0,U.Z)(ce,te.trackingParams);if((0,A.My)(`unauth_pin_rep.click.${String(me)}`),Ne({view_type:_e,view_parameter:me,element:te.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ai,clientTrackingParams:n,aux_data:{commerce_data:Ti,grid_index:re,image_signature:te.imageSignature,...e}}),"oneTap"!==Ii&&Ne({event_type:8948,view_type:_e,view_parameter:me,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:te.imageSignature,commerce_data:Ti,closeup_navigation_type:"click",grid_index:re,cosmic_ray_count:"3",...e}}),!Be)switch(Oe({action:"click",item:"pin"}),_e){case 3:(0,A.NC)("click_pin_related_image");break;case 5:(0,A.NC)("click_board_pin_image");break;case 210:(0,A.NC)("click_topic_pin_image");break;case 605:(0,A.NC)("click_shopping_category_pin_image");break;case 606:(0,A.NC)("click_videos_category_pin_image")}"oneTap"===Ii&&(Ne({event_type:8948,view_type:_e,view_parameter:me,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:te.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,O.jC)({view_type:_e,view_parameter:me,element:te.storyPinDataId?12372:35,component:i,object_id_str:ai,aux_data:{commerce_data:Ti,grid_index:re,image_signature:te.imageSignature,...e},clientTrackingParams:n}),Ne({component:i,event_type:13,view_type:3,clientTrackingParams:n,aux_data:{closeup_navigation_type:"web_closeup",image_signature:te.imageSignature},object_id_str:ai}),xi("m10n_ara_click_web_mobile").anyEnabled&&ni({attributionSourceId:te.attributionSourceId,auxData:e,campaignId:te.campaignId,clientTrackingParams:n,href:Ri(te),isPromoted:Mi(te),pinId:ai,pinPromotionId:te.pinPromotionId}))})(),null==H||null===(a=H.onPinClick)||void 0===a||a.call(H),Ke){const e=494===_e;if(n.metaKey||e)(0,A.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(me)}`),n.preventDefault(),window.open(`/pin/${ai}/`,"_blank").focus();else if(!Be&&ze){const{pinImageClickHandler:e}=ze;e({event:n,pinId:ai,linkTarget:"duploClientNav",seoUrl:te.seoUrl})}}else if(!Be&&((0,A.My)("unauth_mweb_pin_rep.click",{viewType:_e}),[3,2].includes(_e))){const{group:e}=xi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!e)return;let i=!1;switch(_e){case 3:(e.includes("view_type_closeup")||e.includes("view_type_all"))&&(i=xi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(e.includes("view_type_search")||e.includes("view_type_all"))&&(i=xi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,A.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:_e,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:e,enabled:i}),i&&(n.preventDefault(),n.stopPropagation(),window.open(hn,"_blank").focus())}},pinCategory:te.category,pressState:"none",rounding:4,title:Fe.bt("Просмотреть этот пин", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:hn,state:{trackingParams:ce,trafficSource:ue,topLevelTrafficSource:oe,topLevelTrafficSourceDepth:de}},upsellType:"direct",viewParameter:me,viewType:_e,clientTrackingParams:sn},vn=(0,N.kb)({hasLinkDomain:!!$i,richMetadata:Xi&&{recipe:Xi.recipe&&{fromAggregatedData:Xi.recipe.fromAggregatedData},products:null===(De=Xi.products)||void 0===De?void 0:De.map((({__typename:e,...i})=>i))},richSummary:en&&{products:en.products}}),xn=!ee&&["shop_feed"].includes(ue),bn=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),fn=!Be||Be&&!!bn&&bn===ai||G?"":xi("mweb_direct_save_from_grid_v2").group||xi("mweb_direct_save_from_grid_v2_new_user").group||"",kn=fn.includes("footer");return(0,Y.jsx)(R.dL,{auxData:{commerce_data:Ti,pwa_type:Ee,...e},component:i,impressionData:{richTypes:te.shoppingFlags||[],imageURL:Di.url||"",isPromoted:Mi(te),attributionSourceId:te.attributionSourceId,link:Ri(te),...Fi?{isNativeVideoAndWatchable:!!(Fi&&Fi.url&&Fi.height&&Fi.width)||void 0,videoIdStr:Fi&&(null===(Le=te.videos)||void 0===Le?void 0:Le.entityId)||void 0}:{},...ae},isPaused:!Ye,loggingId:te.entityId,objectIdStr:le,slotIndex:re,trackingParams:ce,viewData:pe,viewParameter:me,viewType:_e,children:({impressionTrackerRef:e})=>{var a,t,o,d,u,m,_,y,v,b,f,k,P,S,I,j,C,L,F,z,R,E,N,O,Z,B,X,ae;return(0,Y.jsx)(s.xu,{ref:e,children:(0,Y.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":ai,marginBottom:Ke?0:2,children:[(0,Y.jsxs)(s.xu,{"data-test-id":gn||tn||rn?"pin-with-alt-text":"pin-missing-alt-text",padding:q?0:zi({isDesktop:Ke}),marginBottom:0,onContextMenu:Ke&&(te.nativeCreator||te.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Re((0,Y.jsx)(Pi.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:ai,graphqlRef:Q})),(0,A.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:Xe?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,Y.jsxs)(K.MZ,{...yn,children:[!!Ai&&(0,Y.jsx)(ge,{inviteCode:Ai}),on?(0,Y.jsx)(ki.Z,{isPinRep:!0}):(0,Y.jsx)(oi,{pinGraphqlRef:Q,clientTrackingParams:sn,color:null!==(a=te.dominantColor)&&void 0!==a?a:"",description:!rn||pn&&0!==me?void 0:rn.trim(),domainLinkData:te.domain&&te.link?{clickLoggingOptions:{auxData:{objectId:ai,grid_index:re,sanitized_url:te.link}},domain:te.domain,link:te.link,onClick:null==H?void 0:H.onPinLinkClick}:void 0,disableRounding:c,image:Di&&{dominant_color:null!==(t=Di.dominantColor)&&void 0!==t?t:void 0,height:null!==(o=Di.height)&&void 0!==o?o:void 0,url:null!==(d=Di.url)&&void 0!==d?d:void 0,width:null!==(u=Di.width)&&void 0!==u?u:void 0},imageAltText:gn,imageCrop:!V&&te.imageCrop&&"number"==typeof te.imageCrop.minY&&"number"==typeof te.imageCrop.maxY?{minY:te.imageCrop.minY,maxY:te.imageCrop.maxY}:void 0,isBoardIdeas:3173===me||13184===i,isSquarePin:V,lazyLoadImage:W,onError:()=>Qe(!1),oneTapSave:G,onLoad:()=>Qe(!0),priorityFetchImage:J,disableDefaultContextMenu:()=>ei(!0),pinId:ai,pinnedToBoardId:null!==(m=null===(_=te.pinnedToBoard)||void 0===_?void 0:_.entityId)&&void 0!==m?m:"",productPrice:"product"===Ii&&ee&&!dn?Ui(te):null,slotIndex:re,storyDataExists:!!ln,title:pn&&0!==me?void 0:tn,type:Ii,videoDuration:Ei(te),viewType:_e,directSaveExpGroup:fn,isPromotedPin:Bi})]}),"image-only"!==ne&&(Be||Ke)&&(0,Y.jsxs)(s.xu,{children:[!Be&&Ke&&3475!==me&&43!==me&&(0,Y.jsx)(Li.Z,{dedupeVisualAnnotations:D,pinId:ai,mode:"inlineWithScrollArrows",graphqlRef:Q}),!dn&&(0,Y.jsxs)(s.xu,{position:"relative",children:[(0,Y.jsx)(K.MZ,{...yn,children:(0,Y.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,Y.jsx)(s.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:yn.accessibilityLabel,children:(0,Y.jsxs)(s.xu,{display:"flex",height:V?xn?104:72:void 0,marginEnd:$||1,marginStart:$||1,marginTop:fn.includes("enabled")?1:0,position:"relative",children:[(0,Y.jsx)(se,{pinGraphqlRef:Q,marginTop:$,hidePinMetadata:(null==Ue?void 0:Ue.display_data.hideDesc)||!1,credits:Hi(),hasAffiliatedProducts:!(null==ln||!ln.hasProductPins),isPromotedPin:Bi,isSponsoredPin:!!an,logCreditsClick:()=>{var e;return Ne({view_type:3,element:27,event_type:102,object_id_str:ai,component:te.storyPinDataId?230:void 0,clientTrackingParams:(0,U.Z)(ce,te.trackingParams),aux_data:{pin_id:ai,...null!==(e=te.sponsorship)&&void 0!==e&&e.creator&&te.sponsorship.sponsor?{creator_id:te.sponsorship.creator.entityId,sponsor_id:te.sponsorship.sponsor.entityId}:{}}})},pinDescription:_n,pinId:ai,pinnedToBoardId:null!==(y=null===(v=te.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==y?y:"",pinReactionCounts:null===(b=te.reactionCountsData)||void 0===b?void 0:b.reduce(((e,{reactionCount:i,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=i?i:0})),{}),recipeReview:"recipe"===Ii&&!pn&&!(null==en||null===(f=en.aggregateRating)||void 0===f||!f.reviewCount)&&(0,Y.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,Y.jsx)(_i,{maxRating:en.aggregateRating.bestRating||"",rating:en.aggregateRating.ratingValue||"",text:""}),!!en.displayCookTime&&(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(s.xu,{paddingX:1,children:(0,Y.jsx)(s.xv,{size:"100",children:"·"})}),(0,Y.jsx)(s.xv,{size:"100",children:(0,M.IS)({...(0,w.u)(en.displayCookTime),i18n:Fe})})]})]}),shouldShowReactions:!r&&(0,yi.J6)({boardIsCollaborative:null===(k=te.board)||void 0===k?void 0:k.isCollaborative,isDownstreamPromotion:te.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:li,isPromoted:te.isPromoted,storyPinDataId:te.storyPinDataId,videosId:null===(P=te.videos)||void 0===P?void 0:P.entityId})&&3475!==me&&606!==_e&&!(Ue&&Ue.display_data.hideReactions),showPriceIndicatorInPinCardDetails:xn,title:tn,type:Ii}),(0,Y.jsxs)(s.xu,{right:!0,display:"flex",children:[!Be||un||on||g?null:(0,Y.jsx)(s.xu,{marginStart:1,marginTop:$,children:(0,Y.jsx)(s.xu,{height:26,width:24,children:(0,Y.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,Y.jsx)(T.Z,{children:(0,Y.jsx)(Oi,{adMatchReason:te.adMatchReason,bestPinImgSrc:wi(),feedback:ie,feedbackType:Vi,getRecommendationDescription:Wi,graphqlRef:Q,hideSaveOption:null!==(S=te.promotedIsRemovable)&&void 0!==S&&S,imageSignature:null!=Qi?Qi:void 0,isAdsOnlyPin:null!==(I=te.promotedIsRemovable)&&void 0!==I&&I,pinCategory:Gi,pinDescription:_n,pinId:ai,pinTitle:nn,sourceType:Bi?"ad":0===me?"following":void 0,viewParameter:me,viewType:_e,trackingParams:ce})})})})}),kn?(0,Y.jsx)(s.xu,{right:!0,children:(0,Y.jsx)(s.xu,{children:(0,Y.jsx)(mi,{pinId:ai,pin:te,directSaveExpGroup:fn,clientTrackingParams:sn})})}):null]})]})})]})]}),dn&&(0,Y.jsx)(Ci,{dedupeVisualAnnotations:D,queryRef:Q,description:te.description,domain:null===(j=te.richSummary)||void 0===j?void 0:j.siteName,isSquarePin:V,gridTitle:null!==(C=te.gridTitle)&&void 0!==C?C:void 0,pinId:ai,priceSummary:vn&&{maxPrice:vn.maxPrice,minPrice:vn.minPrice,price:vn.price,standardPrice:vn.standardPrice},richMetadataTitle:null===(L=te.richMetadata)||void 0===L?void 0:L.title,richSummaryDisplayName:null===(F=te.richSummary)||void 0===F?void 0:F.displayName,storyPinDataId:te.storyPinDataId,storyPinDataMetadataPinTitle:null===(z=te.storyPinData)||void 0===z||null===(R=z.metadata)||void 0===R?void 0:R.pinTitle,title:te.title})]}),"reported"===Zi?(0,Y.jsx)(ui,{color:null!==(E=te.dominantColor)&&void 0!==E?E:"",getFeedbackText:()=>({title:Fe.bt("Жалоба отправлена", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:Fe.bt("Спасибо! Ваши отзывы помогают нам заботиться о безопасности сообщества Pinterest.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:ai,showing:!0}):(0,Y.jsx)(ui,{color:null!==(N=te.dominantColor)&&void 0!==N?N:"",getFeedbackText:e=>{const{promoter:i}=te;if(Mi(te)&&null!=i&&i.fullName)return{title:"",subTitle:(0,h.nk)(Fe.bt("Компания {{ promoter }} оплатила размещение этого пина там, где вы вероятнее всего его увидите.", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:i.fullName})};let n;switch(Vi){case"followed":const{board:i,pinner:a}=te;i&&a&&(n=(0,x.oK)({boardId:i.entityId,i18n:Fe,makeNavigateLink:e,display:a.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:a.fullName,username:a.username}}}));break;case"topic":const{sourceInterest:l}=te;l&&(n=(0,x.Iv)({i18n:Fe,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return n?{title:Fe.bt("Пин скрыт", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Wi(e),unfollow:n}:{title:Fe.bt("Пин скрыт", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:Fe.bt("Понятно! Мы постараемся в дальнейшем показывать вам меньше подобных пинов.", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}},onUnfollow:()=>Je({pinId:ai,pinFeedbackStatus:"unfollowed"}),pinId:ai,showing:!!Zi,unfollowed:"unfollowed"===Zi,viewParameter:me,viewType:_e}),!Ke&&(null==H?void 0:H.showSeoMetadata)&&!dn&&(0,Y.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,Y.jsx)(s.iP,{onTap:()=>{Oe({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,Y.jsx)(bi,{dedupeVisualAnnotations:D,description:te.description,gridTitle:null!==(O=te.gridTitle)&&void 0!==O?O:void 0,pinId:ai,richMetadataTitle:null===(Z=te.richMetadata)||void 0===Z?void 0:Z.title,richSummaryDisplayName:null===(B=te.richSummary)||void 0===B?void 0:B.displayName,storyPinDataId:te.storyPinDataId,storyPinDataMetadataPinTitle:null===(X=te.storyPinData)||void 0===X||null===(ae=X.metadata)||void 0===ae?void 0:ae.pinTitle,title:te.title,queryRef:Q})})}),n]})})}})}const Bi=e=>{var i,n,a,l,t,r,o,s,d,c,u,p,m;const g=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},_=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},h=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupAttribution:e.closeup_attribution&&{fullName:e.closeup_attribution.full_name,imageMediumUrl:e.closeup_attribution.image_medium_url,username:e.closeup_attribution.username},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:_(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:_(null===(n=e.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:_(null===(a=e.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:_(null===(l=e.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:_(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:_(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForAggregatedComments:e.is_eligible_for_aggregated_comments,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name,imageMediumUrl:e.origin_pinner.image_medium_url,imageSmallUrl:e.origin_pinner.image_small_url},nativeCreator:g(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:"",url:e.pinned_to_board.url},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,promoter:g(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:h&&Object.keys(h).map((e=>({reactionType:Number(e),reactionCount:h[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var i,n,a,l;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})),tutorial:(null===(d=e.rich_metadata)||void 0===d?void 0:d.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var i,n,a,l;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},section:e.section&&e.section.id?{entityId:e.section.id}:null,seoNoindexReason:e.seo_noindex_reason,seoTitle:e.seo_title,seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(c=e.source_interest.id)&&void 0!==c?c:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(p=e.sponsorship.sponsor.id)&&void 0!==p?p:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(m=e.videos.id)&&void 0!==m?m:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}};function qi({pinId:e,duploQueryRef:i,...n}){const a=(0,D.Qy)(),{data:l,childRef:t}=(0,g.Nd)(Fi,null!=i?i:e,Bi);return!!l&&(0,Y.jsx)(Zi,{...n,debugInfo:a&&l.debug&&(0,Y.jsx)(D.Wu,{data:l.debug}),pin:l,duploQueryRef:t})}},698303:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(883119),l=n(377234),t=n(536042),r=n(785893);function o({text:e,icon:i,largeIdentifier:n,largeMargin:o}){const s=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,r.jsx)(a.xu,{marginEnd:n?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:s.bt("идентификатор, который обозначает тип пина", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},190253:(e,i,n)=>{function a(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function l(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function t({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:n,storyPinDataId:a,videosId:l,isEligibleForStaticImageIdeaPin:t}){return!(n||i||!l&&!a||null!=e&&e||t)}n.d(i,{At:()=>a,J6:()=>t,Ud:()=>l})},141418:(e,i,n)=>{n.d(i,{Z:()=>T});var a=n(667294),l=n(702664),t=n(167912),r=n(883119),o=n(943072),s=n(536042),d=n(282802),c=n(819079),u=n(98736),p=n(618569),m=n(348672),g=n(549201),_=n(377234),h=n(88622),y=n(894121),v=n(785893);function x({showFullScreenInfo:e,isOpen:i,interstitialUpsellDismissed:n,children:a}){const l=(0,s.ZP)(),t=(0,g.HG)(),o=(0,g.Wb)();return o||t?(0,v.jsx)(h.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!o,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(r.xu,{color:(0,_.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,_.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:t?"100vw":"100%",zIndex:new r.Ry(1),children:(0,v.jsx)(r.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:a})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:l.bt("Закрыть", "Close", "Close modal window", undefined, true),isOpen:i,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:l.bt("Закрыть", "Close", "Close modal window", undefined, true),children:a})}var b,f=n(50169);const k=void 0!==b?b:b=n(599271);function P({dedupeVisualAnnotations:e,iconColor:i,size:n,isMainPin:t,isAuth:c,pinCreditPrefix:_,onClickTitleOrDomain:h,pinId:y,renderOnlyHiddenSEOContent:b=!1,graphqlRef:k}){const P=(0,s.ZP)(),S=(0,p.Z)(),{isBot:w}=(0,d.B)(),{unauthInterstitialDismissed:I}=(0,l.useSelector)((({session:e})=>e)),[T,j]=(0,a.useState)(!1),A=(0,g.HG)(),C=(0,g.Wb)(),D=(0,m.Z)(),L=!C&&!c,F=(0,v.jsxs)(r.xu,{padding:5,dangerouslySetInlineStyle:L?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(r.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(r.hU,{accessibilityLabel:P.bt("Отмена", "Cancel", "close modal icon", undefined, true),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),S({action:"click",item:"close-seo-vase-see-more-button"}),j(!1),t&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(r.xu,{marginBottom:L?0:8,children:(0,v.jsx)(r.xv,{align:L?"start":"center",weight:L?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:L?null:P.bt("Подробнее...", "More information", "more information label", undefined, true)})})}),(0,v.jsx)(f.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:_,onClickTitleOrDomain:h,pinId:y,queryRef:k})]});return b?(0,v.jsx)(r.xu,{display:"none",children:F}):(0,v.jsxs)(r.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(r.hU,{accessibilityLabel:P.bt("Еще", "See more", "more information icon", undefined, true),icon:"ellipsis",iconColor:null!=i?i:"gray",size:n||"md",onClick:({event:i})=>{i.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(t?"main_pin":"related_pins")),S({action:"click",item:"seo-vase-see-more-button"}),C||c?(j(!0),t&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):D({pinId:y||"",location:t?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(f.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:_,onClickTitleOrDomain:h,pinId:y,queryRef:k})})}}),w&&!A?(0,v.jsx)(r.xu,{display:T?"flex":"none",children:F}):(0,v.jsx)(x,{showFullScreenInfo:T,isOpen:T&&!C,interstitialUpsellDismissed:!!I,children:F}),C&&T&&(0,v.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:F})]})}function S(e){const i=(0,t.useFragment)(k,e.graphqlRef);return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:i})}function w(e){return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function I(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(w,{...e})}function T(e){return e.graphqlRef?(0,v.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(I,{...e}):(0,v.jsx)(w,{...e})}},510336:(e,i,n)=>{n.d(i,{Z:()=>c,j:()=>s});var a=n(883119),l=n(536042),t=n(630089),r=n(245410),o=n(785893);const s=[0,2,3],d="Ad • ";function c({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:c,textColor:u}){const p=(0,l.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let g;i?g=(0,t.nk)(p.bt("Рекламодатель: {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:n}):c||0===c?n&&!s.includes(c)?g=(0,t.nk)(p.bt("Платное партнерство с компанией {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:n}):2!==c&&(g=p.bt("Платное партнерство", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(g=p.bt("Содержит спонсорские товары", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true));const _=m&&!i&&d||"";return(0,o.jsxs)(a.xv,{color:u,size:"100",children:[_,(0,o.jsx)(t.r7,{text:g})]})}},197838:(e,i,n)=>{n.d(i,{Z:()=>P});var a,l=n(667294),t=n(167912),r=n(883119),o=n(536042),s=n(874261),d=n(465991),c=n(282802),u=n(618569),p=n(230910),m=n(525104),g=n(646081),_=n(785893);const h="\ndiv::-webkit-scrollbar {\n  display: none;\n}\n",y=void 0!==a?a:a=n(717988);function v({direction:e,handleClick:i,testId:n,isRTL:a}){const l=(0,o.ZP)(),t=(0,u.Z)(),s=a?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,_.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{t({action:"click",item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,_.jsx)(r.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow",children:(0,_.jsx)(r.JO,{accessibilityLabel:l.bt("Прокрутить", "Scroll", "annotations.scrollArrow", undefined, true),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function x({name:e,url:i}){const[n,a]=(0,l.useState)(!1),t=(0,u.Z)();return(0,_.jsx)(r.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,_.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,_.jsx)(r.rU,{display:"inlineBlock",tapStyle:"compress",href:i,rounding:8,onClick:()=>{t({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:n,showVaseTagsAsHashtagsGroup:a}){const t=(0,l.useRef)(null),[o,m]=(0,l.useState)(!1),[g,y]=(0,l.useState)(!1),b=(0,u.Z)(),{isRTL:f}=(0,c.B)(),k=a&&a.startsWith("enabled")&&"enabled_collapsible_heading"!==a&&a.split("_");let P="";k&&k.length>2&&(P=k[2]),(0,l.useEffect)((()=>{const e=t.current,i=()=>{if("inlineWithScrollArrows"===n&&t.current){const e=t.current,i=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),a=i>4,l=i+e.clientWidth<n-4,r=f?l:a;m(f?a:l),y(r)}else m(!1),y(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[n,f]);const S=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&b({action:"click",item:"board-pills-arrow-button-right"});const n=t.current;if(!n)return;const a=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(a,0)},{annotationsWithLinks:w}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});return w.map((e=>{const i=e.name||"";if(k){const n=(0,p.bb)(i,P);e.name=n}return e})),(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,_.jsxs)(r.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,_.jsx)(s.Z,{unsafeCSS:h}),g&&(0,_.jsx)(v,{direction:"left",handleClick:S("left"),testId:"left-scroll-arrow",isRTL:f}),(0,_.jsx)(r.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:t,children:w.map((({name:e,url:i})=>(0,_.jsx)(x,{name:e,url:i},i||e)))}),o&&(0,_.jsx)(r.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,_.jsx)(v,{direction:"right",handleClick:S("right"),testId:"right-scroll-arrow",isRTL:f})})]})})}function f({dedupeVisualAnnotations:e,graphqlRef:i,mode:n,pinId:a,showVaseTagsAsHashtagsGroup:l}){var r;const o=(0,t.useFragment)(y,i),s=(0,g.Z)(o);let d=(null==o||null===(r=o.pinJoin)||void 0===r?void 0:r.visualAnnotation)||[];return e&&(d=e({pinId:a,visualAnnotations:d})),d.length<1?null:(0,_.jsx)(b,{mode:n,showVaseTagsAsHashtagsGroup:l,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0})}function k(e){var i,n,a;const l=(0,m.S6)()(e.pinId);return((null==l||null===(i=l.pin_join)||void 0===i?void 0:i.visual_annotation)||[]).length<1?null:(0,_.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==l||null===(n=l.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==l||null===(a=l.pin_join)||void 0===a?void 0:a.annotations_with_links})}function P(e){return e.graphqlRef?(0,_.jsx)(f,{...e}):(0,_.jsx)(k,{...e})}},50169:(e,i,n)=>{n.d(i,{Z:()=>k});var a=n(667294),l=(n(167912),n(883119)),t=n(825389),r=n(536042),o=n(630089),s=n(898252),d=n(465991),c=n(282802),u=n(51536),p=n(98736),m=n(618569),g=n(549201),_=n(32762),h=n(785893);function y({boardUrl:e,boardName:i,boardPrivacy:n,pinnerFullName:a,pinnerImageSmallUrl:t,pinnerImageLargeUrl:r}){const o=(0,g.HG)(),s=(0,m.Z)();if(!e||!i)return null;const d=e.split("/")[1],c=a||d,u=t||r;return(0,h.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,h.jsx)(l.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,p.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,h.jsx)(l.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,h.jsx)(l.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,h.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(l.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,h.jsx)(l.iP,{onTap:()=>{(0,p.My)(`pcons.${o?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,h.jsx)(l.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,h.jsx)(l.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,h.jsx)(l.xv,{color:"default",inline:!0,size:"100",children:(0,h.jsx)(l.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}var v,x=n(197838);const b=void 0!==v?v:v=n(298262);function f({dedupeVisualAnnotations:e,pin:i,pinId:n,queryRef:t,onClickTitleOrDomain:v,pinCreditPrefix:b}){var f,k,P,S,w,I,T,j,A;const C=(0,r.ZP)(),D=(0,g.ml)(),L=(0,g.Wb)(),{isAuthenticated:F,isBot:z}=(0,c.B)(),M=(0,m.Z)(),K=!F&&!z&&D,R=v||null,[E,U]=(0,a.useState)(!1),N=(0,_.si)(),O=(0,_.Re)(),Z=(0,d.fs)({pinTitle:i.title,gridTitle:i.gridTitle,richSummaryDisplayName:null===(f=i.richSummary)||void 0===f?void 0:f.displayName,richMetadataTitle:null===(k=i.richMetadata)||void 0===k?void 0:k.title,storyPinDataId:i.storyPinDataId,storyPinDataMetadataPinTitle:null===(P=i.storyPinData)||void 0===P||null===(S=P.metadata)||void 0===S?void 0:S.pinTitle})||i.description,B=(Z||"").length>O,{description:q}=(0,d.eK)({richMetadataDescription:null===(w=i.richMetadata)||void 0===w?void 0:w.description,richSummaryDisplayName:null===(I=i.richSummary)||void 0===I?void 0:I.displayName,closeupUnifiedDescription:i.closeupUnifiedDescription}),H=q.length>N,[V,W]=(0,a.useState)(!H&&!B),G=(0,s._S)(i.domain)?i.domain:"";return(0,h.jsxs)(l.xu,{children:[(0,h.jsxs)(l.xu,{children:[(0,h.jsxs)(l.xu,{as:"figcaption",paddingX:L?11:0,children:[(0,h.jsx)(l.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:E||z?Z:(0,u.Z)(Z||"",O)}),!!Z&&(0,h.jsx)(l.xu,{height:q?8:0}),q&&(H||B)?(0,h.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,h.jsxs)(l.iP,{onTap:()=>{E||F||((0,p.NC)("click_open_description_in_sheet"),M({action:"click",item:"more-description-in-sheet"})),W(!V),U(!E)},fullWidth:!1,children:[(0,h.jsx)(l.xv,{color:"default",size:"200",inline:!0,children:E||z?q:(0,u.Z)(q,N)}),(0,h.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,h.jsx)(l.xv,{weight:"bold",size:"200",inline:!0,children:E||z?C.bt("Скрыть", "Less", "Toggle less description button", undefined, true):C.bt("Еще", "More", "Toggle more description button", undefined, true)})})]})}):(0,h.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,h.jsx)(l.xv,{color:"default",size:"200",inline:!0,children:q})})]}),K&&(V||z)&&!!G&&(0,h.jsx)(l.xu,{marginTop:2,children:(0,h.jsx)(l.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,o.nk)(C.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "tells the user where the pin is from in the form of Saved from website", undefined, true),{pinCreditPrefix:(0,h.jsx)(l.xu,{display:"inlineBlock",children:(0,h.jsx)(l.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,h.jsxs)(l.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[R&&(0,h.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),M({action:"click",item:"pin-domain-link"}),(0,p.My)("mweb_pin_page.pin_link.clickthrouh"),F||(0,p.NC)("click_pin_closeup_link_clickthrough"),R()},tapStyle:"compress",children:(0,h.jsx)(l.xv,{size:"200",lineClamp:1,children:(0,h.jsx)("span",{style:{textDecoration:"underline"},children:G})},"pinLinkDomain")}),i.link&&!R&&(0,h.jsx)(l.rU,{href:i.link,children:(0,h.jsx)(l.xv,{size:"200",underline:!0,children:G})})]},"pinCredits")})})})]}),!!i.board&&(V||z)&&(0,h.jsx)(l.xu,{marginTop:4,children:(0,h.jsx)(y,{boardUrl:i.board.url||void 0,boardName:i.board.name||void 0,boardPrivacy:i.board.privacy||void 0,pinnerFullName:(null===(T=i.pinner)||void 0===T?void 0:T.fullName)||void 0,pinnerImageSmallUrl:null===(j=i.pinner)||void 0===j?void 0:j.imageSmallUrl,pinnerImageLargeUrl:null===(A=i.pinner)||void 0===A?void 0:A.imageLargeUrl})}),(0,h.jsx)(l.xu,{marginTop:4,children:(0,h.jsx)(x.Z,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:t})})]})}function k({queryRef:e,pinId:i,...n}){const{data:a,childRef:l}=(0,t.Nd)(b,null!=e?e:i,(e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})));return a&&(0,h.jsx)(f,{...n,pinId:i,pin:a,queryRef:l})}},266769:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(667294),l=n(563962),t=n(98736);const r=({viewType:e,viewParameter:i,viewData:n,auxData:a,objectIdStr:l,component:r,clientTrackingParams:o,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:i,view_data:n,aux_data:a,object_id_str:l,component:r,clientTrackingParams:o,element:s},Object.keys(u).reduce(((e,i)=>(void 0===u[i]&&delete e[i],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,t.My)("mweb.logging.null_view_type"),d(c)};function o(e){const{auxData:i,clientTrackingParams:n,children:t,component:o,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,l.Z)(),g=JSON.stringify(i),_=JSON.stringify(c);return(0,a.useEffect)((()=>{r(e,m)}),[m,g,n,o,s,d,_,u,p]),a.Children.only(t)}},277192:(e,i,n)=>{n.d(i,{Z:()=>_});var a=n(883119),l=n(894121),t=n(536042),r=n(599551),o=n(282802),s=n(549201),d=n(700453),c=n(115771),u=n(536540),p=n(352865),m=n(785893);const g=({deepLinkUri:e,isOpen:i,onDismiss:n,onOpenInApp:c,to:g,within:_})=>{const h=(0,t.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:x,raw:b}}=(0,o.B)(),f=(0,p.Rp)({isBot:v,platform:x,userAgent:b}),k=(0,r.Z)({href:null!=g?g:""}),P=y?60:40;return(0,m.jsx)(l.default,{accessibilityModalLabel:"",isOpen:i,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new a.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(d.Z,{componentType:14157,within:_,children:({handleOpenApp:i})=>(0,m.jsxs)(a.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(a.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(a.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(a.hU,{accessibilityLabel:h.bt("фон значка закрытия", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{n({event:e}),k&&!e.defaultPrevented&&(i(),k({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(a.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(a.xu,{paddingY:2,justifyContent:"center",display:"flex",children:f?(0,m.jsx)(u.Z,{size:P}):(0,m.jsx)(a.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(a.xu,{paddingY:2,children:(0,m.jsx)(a.X6,{align:"center",size:"400",children:f?h.bt("Попробуйте Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):h.bt("В приложении Pinterest работать удобнее", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true)})}),(0,m.jsx)(a.xv,{align:"center",size:"300",children:f?h.bt("Находите новые идеи, не перегружая память устройства", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):h.bt("Перейдите в приложение, чтобы использовать все возможности платформы", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)}),(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{i({deepLinkUri:e}),c()},text:h.bt("Открыть приложение", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function _({clientTrackingParams:e,deepLinkUri:i,isOpen:n,onDismiss:a,onOpenInApp:l,shouldTrackDismiss:t,to:r,viewParameter:o,viewType:s,within:d}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:o,children:(0,m.jsx)(g,{deepLinkUri:i,isOpen:n,onDismiss:e=>{t&&(0,c.y)(),a(e)},onOpenInApp:()=>{(0,c.y)(),l()},to:r,within:d})})}},115771:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var a=n(667294),l=n(500797),t=n(611756),r=n(173085),o=n(567648),s=n(266769),d=n(785893);const c=()=>{(0,t.Nh)("appUpsell",Date.now()),(0,t.qn)("firstUpsellTime")||(0,t.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:t}){return(0,o.Z)()||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:t,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(a.Fragment,{children:e})})}},768865:(e,i,n)=>{n.d(i,{IS:()=>v,Ys:()=>y,ZP:()=>I,j$:()=>f});var a,l=n(667294),t=n(167912),r=n(883119),o=n(101789),s=n(44081),d=n(536042),c=n(630089),u=n(245410),p=n(895200),m=n(549201),g=n(525104),_=n(785893);const h=void 0!==a?a:a=n(24789),y=({m:e,h:i,rm:n,rh:a},l,t=!1)=>e&&(!i||a<=0)?t?(0,c.nk)(l.bt("{{mins}} мин", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:n.toString()}):(0,c.nk)(l.nbt(["{{mins}} минута", "{{mins}} минуты", "{{mins}} минут"], n, "number showing the minutes to complete a recipe", true),{mins:n.toString()}):i?t?(0,c.nk)(l.bt("{{hrs}} ч {{mins}} мин", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:i.toString(),mins:e.toString()}):(0,c.nk)(l.nbt(["{{hrs}} час", "{{hrs}} часа", "{{hrs}} часов"], a, "number showing the hours to complete a recipe", true),{hrs:a.toString()}):null,v=({m:e,h:i,rm:n,rh:a,i18n:l})=>e&&(!i||a<=0)?(0,c.nk)(l.bt("{{mins}} мин", "{{mins}}m", "number showing minutes to complete a recipe", undefined, true),{mins:n.toString()}):i?(0,c.nk)(l.bt("{{hrs}} ч {{mins}} мин", "{{hrs}}h {{mins}}m", "number showing hours to complete a recipe", undefined, true),{hrs:i.toString(),mins:e.toString()}):null,x=(e,i)=>{const n=e&&e.length>0&&e.join(", "),a=i&&i.summary;return n&&a?`${n} • ${a}`:n||a},b=e=>e?e.reduce(((e,i)=>{var n,a;return e+(null!==(n=null===(a=i.ingredients)||void 0===a?void 0:a.length)&&void 0!==n?n:0)}),0):0,f=({displayCookTime:e,i18n:i,isShortened:n})=>y((0,p.u)(e),i,n);function k({category:e,ingredients:i,textSize:n="300",isOnePinEnabled:a}){return(0,_.jsxs)(r.xu,{marginBottom:4,children:[e&&(0,_.jsx)(r.xu,{children:(0,_.jsx)(r.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,l;return(0,_.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,_.jsxs)(r.xv,{size:n,children:[a?"•":""," ",e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(l=e.name)&&void 0!==l?l:""}`)}))]})}const P=({categorizedIngredients:e,displayCookTime:i,image:n,ingredientCount:a,ingredientsDescription:t,name:c})=>{const p=(0,d.ZP)(),{checkExperiment:g}=(0,u.F)(),h=(0,m.ZP)(),y=g("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(i?f({displayCookTime:i,i18n:p,isShortened:y}):null)&&!a&&!t)return null;const v="desktop"===h,x=p.bt("Ингредиенты", "Ingredients", "Closeup.PinRecipe.ingredientsLabel", undefined, true);return(0,_.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!y||!v)&&(0,_.jsx)(r.xu,{marginBottom:4,children:(0,_.jsx)(r.xv,{weight:"bold",align:"desktop"===h?"start":"center",children:x})}),(0,_.jsx)("meta",{content:c,itemProp:"name"}),n&&(0,_.jsx)("meta",{content:n,itemProp:"image"}),y&&v&&(0,_.jsx)(r.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,_.jsx)(o.Z,{heading:x,children:(0,_.jsx)(s.Z,{children:e.map((({category:e,ingredients:i},n)=>{const a=`ingredient-${n}`;return(0,_.jsx)(l.Fragment,{children:(0,_.jsx)(r.xu,{marginBottom:4,children:(0,_.jsx)(k,{category:e,ingredients:i,textSize:"300",isOnePinEnabled:y})})},a)}))})})}),(!y||!v)&&Array.isArray(e)&&e.length>0&&(0,_.jsx)(r.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:i},n)=>(0,_.jsx)(r.xu,{marginBottom:2,children:(0,_.jsx)(k,{category:e,ingredients:i,textSize:"300",isOnePinEnabled:y})},n)))})]})},S=({graphqlRef:e,checkExperiment:i})=>{const n=(0,t.useFragment)(h,e),{imageSpec_474x:a,richMetadata:l}=n,r=null==l?void 0:l.recipe,o=null==r?void 0:r.categorizedIngredients,s=b(o),d=(null==r?void 0:r.categorizedIngredients)&&x(r.diets,r.servingsSummary);return(0,_.jsx)(P,{categorizedIngredients:o,displayCookTime:null==r?void 0:r.displayCookTime,image:null==a?void 0:a.url,ingredientCount:s,ingredientsDescription:d,name:null==r?void 0:r.name,checkExperiment:i})},w=({pinId:e,checkExperiment:i})=>{var n,a;const l=(0,g.S6)()(e),t=(null==l||null===(n=l.rich_metadata)||void 0===n?void 0:n.recipe)||{},{display_cook_time:r,name:o,categorized_ingredients:s,diets:d,servings_summary:c}=t,u=b(s),p=s&&x(d,c);return(0,_.jsx)(P,{categorizedIngredients:s,displayCookTime:r,image:(null===(a=((null==l?void 0:l.images)||{})["474x"])||void 0===a?void 0:a.url)||"",ingredientCount:u,ingredientsDescription:p,name:o,checkExperiment:i})};function I({graphqlRef:e,pinId:i}){const{checkExperiment:n}=(0,u.F)();return e?(0,_.jsx)(S,{graphqlRef:e,checkExperiment:n}):(0,_.jsx)(w,{pinId:i,checkExperiment:n})}},32762:(e,i,n)=>{n.d(i,{Ph:()=>l,Re:()=>r,si:()=>t});var a=n(549201);const l=(e,i)=>e&&!i?e:null,t=()=>"phone"!==(0,a.ZP)()?180:130,r=()=>"phone"!==(0,a.ZP)()?180:80},991361:(e,i,n)=>{n.d(i,{Z:()=>r});var a,l=n(167912);const t=void 0!==a?a:a=n(172803),r=e=>{const i=(0,l.useFragment)(t,e);if(!i)return null;return[["60x60",i.imageSpec_60x60],["136x136",i.imageSpec_136x136],["170x",i.imageSpec_170x],["236x",i.imageSpec_236x],["474x",i.imageSpec_474x],["564x",i.imageSpec_564x],["736x",i.imageSpec_736x],["600x315",i.imageSpec_600x315],["orig",i.imageSpec_orig]].reduce(((e,[i,n])=>n?{...e,[i]:n.url}:e),{})}},536540:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(785893);function l({size:e,noCircle:i}){return(0,a.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},480462:(e,i,n)=>{function a({isEligibleForPdp:e,isOosProduct:i,isStaleProduct:n,pinShoppingFlags:a}){if(a){const l=a,t={pin_is_shop_the_look:l.includes(2),pin_show_pdp:e||i||n,is_available:l.includes(1),is_product_pin_v2:l.includes(5),is_rich_product_pin:l.includes(6)};return JSON.stringify(t)}}n.d(i,{Z:()=>a})},261453:(e,i,n)=>{n.d(i,{CC:()=>o,H$:()=>d,Mt:()=>r,dp:()=>s,p9:()=>c});var a=n(611756),l=n(173085),t=n(509342);const r=(e,i,n,l,r,o,s=t.k7)=>{const d=(0,a.qn)(s)?JSON.parse((0,a.qn)(s)):[];if(!d[0]||d[0].path!==e){const t=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:i||"",first_pin_id:n||"",image_info:l||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,a.Nh)(s,JSON.stringify(t.concat(d)))}},o=({path:e,image:i,dominant_color:n,pin_description:a,pin_id:r})=>{const o=(()=>{const e=(0,l.qn)(t.KH);if(!e)return[];let i;try{i=JSON.parse(e)}catch(n){i=[]}return i})();if(!o[0]||o[0].path!==e){const s=[{path:e,image:i,pin_description:a||"",dominant_color:n||"",pin_id:r||""}];(0,l.Nh)(t.KH,JSON.stringify(s.concat(o)))}};function s(e,i,n,a,l,o){r(e,i,n,a,l,o,t.zR)}const d=(e,i,n,a,l)=>{r(e,i,n,a,null!=l?l:"","",t.dy)};function c(e,i,n,a,l){r(e,i,n,a,l,"",t.QR)}},411224:(e,i,n)=>{n.d(i,{Z:()=>d,x:()=>s});var a=n(667294),l=n(98736),t=n(785893);const r=(0,a.createContext)((()=>{})),o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[i,n]=(0,a.useState)(null);(0,a.useEffect)((()=>o),[]);const s=(0,a.useCallback)((e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),d=!!i;return(0,a.useEffect)((()=>{const e=()=>{n(null),o(),(0,l.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,t.jsx)(r.Provider,{value:s,children:(0,t.jsxs)(a.Fragment,{children:[e,i]})})},d=()=>(0,a.useContext)(r)},169492:(e,i,n)=>{n.d(i,{$:()=>s,Z:()=>d});var a=n(667294),l=n(611756);const t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(i){return null}},r=new Set;function o(e){const i=(0,a.useCallback)((i=>{const n=n=>{n===e&&i()};return r.add(n),()=>{r.delete(n)}}),[e]),n=(0,a.useSyncExternalStore)(i,(()=>(0,l.qn)(e)),(()=>null)),o=(0,a.useCallback)((i=>{null===i?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(i)),function(e){r.forEach((i=>i(e)))}(e)}),[e]);return(0,a.useMemo)((()=>[t(n),o]),[n,o])}const s=2,d=()=>{const[e,i]=o("unauthSavedPins"),n=null!==(l=null==(a=e)?void 0:a.pins)&&void 0!==l?l:[];var a,l;const t=e=>i((e=>e.length?{pins:e}:null)(e)),r=()=>n.length<s;return{pins:n,save:e=>{r()&&t(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>t(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>t([]),canSaveMore:r}}},624524:(e,i,n)=>{n.d(i,{Bb:()=>h,Bx:()=>s,F4:()=>o,OG:()=>t,Qj:()=>d,_6:()=>_,gv:()=>r,hg:()=>c,is:()=>m,jP:()=>g,lt:()=>l,oM:()=>u,wI:()=>p});var a=n(739425);const l=e=>e.bt("Войдите, чтобы продолжить", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),t=e=>e.pathname,r=({firstName:e,i18n:i})=>e?(i.bt("{{ name }} приглашает вас на доску", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):i.bt("Ваши друзья приглашают вас на доску", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),o=e=>{const i=(0,a.mB)(e.search).board_url;if(i){const e=(0,a.Jx)(i),n=(0,a.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e.bt("Войдите, чтобы сохранить пин", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return i},c=e=>e.bt("Войдите, чтобы отправить пин", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),u=e=>e.bt("Войдите, чтобы редактировать пин", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{const i=e.pathname;if(i.startsWith("/pin/")){const e=i.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return i},m=e=>e.bt("Войдите, чтобы создать пин или доску", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),g=e=>e.bt("Войдите, чтобы скрыть этот пин", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),_=e=>e.bt("Войдите, чтобы поделиться профилем", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),h=e=>e.bt("Войдите, чтобы создать доску", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},648575:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(690108),l=n(994405),t=n(266732),r=n(648609);function o({checkExperiment:e,isNativeAppInstalledContext:i,history:n,i18n:o,logContextEvent:s,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,trackingParams:m,disableRepinAnimation:g,showNewUserSavetoProfileAnimation:_,showRepinConfirmation:h,historyPush:y,savePinId:v}){return(x,b)=>{const{pins:f,session:k}=b(),{userId:P}=k,S=f[p],w={name:o.bt("Быстрое сохранение", "Quick Saves", "quickSave.boardName", undefined, true),layout:"quick_saves",protected:!1,return_existing:!0,user_id:P};return a.Z.create("BoardResource",w).callCreate().then((a=>{var b,f,P,w;const I=a.resource_response.data;(0,l.ib)({checkExperiment:e,isAuthMweb:k.isAuthenticated&&(k.isMobile||k.isTablet)});return new t.Z({boardId:I.id,checkExperiment:e,isNativeAppInstalledContext:i,dispatch:x,isQuickSave:!0,history:n,i18n:o,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,section:void 0,showNewUserSavetoProfileAnimation:_,showRepinToasts:e=>h?h(e,g):void 0,trackingParams:m,userId:k.userId,historyPush:y,savePinId:v,pinData:{trackingParams:S?S.tracking_params:void 0,viewParameter:S?(0,r.A)({hasRichMetadata:!!S.rich_metadata,hasRichMetadataProducts:!(null===(b=S.rich_metadata)||void 0===b||!b.products),hasRichMetadataArticle:!(null===(f=S.rich_metadata)||void 0===f||!f.article),hasRichMetadataRecipe:!(null===(P=S.rich_metadata)||void 0===P||!P.recipe)}):void 0,pinnedToBoardId:S?null===(w=S.pinned_to_board)||void 0===w?void 0:w.id:void 0}}).processRepin(s)}))}}},117918:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(883119),l=n(536042),t=n(265259),r=n(785893);function o({isPinRep:e}){const i=(0,l.ZP)(),n=e?"default":"inverse",o=(0,r.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(a.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(a.xu,{paddingY:4,children:(0,r.jsx)(a.JO,{accessibilityLabel:i.bt("Пин недоступен", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:n,icon:"alert",size:20})}),(0,r.jsx)(a.xv,{align:"center",color:n,weight:"bold",children:i.bt("Недоступен", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.xv,{align:"center",color:n,children:i.bt("Удалено автором", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?o:(0,r.jsx)(a.xu,{height:"100vh",children:(0,r.jsx)(t.Z,{children:o})})}},204722:(e,i,n)=>{n.d(i,{Z:()=>E});var a,l=n(667294),t=n(167912),r=n(616550),o=n(883119),s=n(388011),d=n(536042),c=n(630089),u=n(624417),p=n(740494),m=n(465991),g=n(245410),_=n(282802),h=n(649715),y=n(599226),v=n(98736),x=n(991361),b=n(443601),f=n(230910),k=n(411056),P=n(525104),S=n(785893);const w=250,I=({children:e,onTap:i,testId:n})=>{const[a,t]=(0,l.useState)(!1);return(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,S.jsx)(o.iP,{onTap:i,onBlur:()=>t(!1),onFocus:()=>t(!0),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:e})})},T=void 0!==a?a:a=n(823722),j=({i18n:e,pinId:i,showSignupModal:n,attributionLabelSource:a})=>(0,S.jsx)(I,{testId:"save",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:a}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i}}})},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt("Сохранить изображение", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),A=({i18n:e,pinTitle:i,pinDescription:n,pinId:a,bestPinImgSrc:l,attributionLabelSource:t,logContextEvent:r,pinCategory:s,checkExperiment:d,showSignupModal:c})=>(0,S.jsx)(I,{testId:"download",onTap:()=>{const{expName:e,expGroup:o,limitReached:u,oldCount:p,newCount:m}=(0,b.HM)(d,"dweb_download_in_context_menus_closeup");(0,v.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:t,expName:e,expGroup:o,limitReached:u,oldCount:p,newCount:m}),u?c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${t}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:a}}}):(0,b.ZP)({filename:i||n||a,imgSrc:l||"",category:s,pinId:a,isUnauth:!0,platform:"web",expName:e,expGroup:o},r)},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt("Скачать изображение", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem"),C=({pinId:e,pinLink:i,fromEllipsisButton:n,attributionLabelSource:a,showSignupModal:l,i18n:t})=>(0,S.jsx)(I,{testId:"new-tab",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:a}),window.open(n?i:`/pin/${e}/`),n||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:t.bt("Открыть ссылку на новой вкладке", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),D=({history:e,levelOneInterestUrl:i,searchUrl:n,levelOneInterestName:a,i18n:l,interestTag:t,attributionLabelSource:r})=>(0,S.jsx)(I,{testId:"interests",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),i?e.push(`${i}`):e.push(n)},children:a?(0,S.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l.bt("Просмотреть больше идей на тему «{{levelOneInterestName}}»", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:a})}):(0,S.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(l.bt("Просмотреть больше идей на тему «{{interestTag}}»", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:t})})},"MoreInterestsMenuItem"),L=({history:e,sourceUserUsername:i,sourceUserFullname:n,i18n:a,attributionLabelSource:l})=>(0,S.jsx)(I,{testId:"from-creator",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:l}),e.push(`/${i}/`)},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a.bt("Просмотреть больше идей от пользователя {{full_name}}", "See more from {{full_name}}", "dweb.unauth.context_menu.link.more_from_creator", undefined, true),{full_name:n})})},"MoreFromCreatorMenuItem"),F=({attributionLabelSource:e,showSignupModal:i,i18n:n})=>(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(I,{testId:"login-or-signup",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),i({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:n.bt("Войти или зарегистрироваться, чтобы увидеть больше", "Log in or sign up for more", "dweb.unauth.context_menu.link.login_signup", undefined, true)})})},"LoginSignupMenuItem"),z=({attributionLabelSource:e,reportLink:i,i18n:n})=>(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(I,{testId:"dsa",onTap:()=>{(0,v.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(i,"_blank")},children:(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:n.bt("Жалоба на пин за нарушение местного законодательства ЕС", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function M({desktopContextMenuState:e,isMainPinImage:i,source:n,imagesUrls:a,embedSrc:l,embedType:t,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:v,pinJoinSeoBreadcrumbUrl:x,pinId:f,pinLink:P,pinTitle:I,pinDescription:T,pinCategory:M,pinEligibleForDownload:K}){var R;const E=(0,d.ZP)(),U=(0,r.useHistory)(),{logContextEvent:N}=(0,s.v)(),{countryFromIp:O,isAuthenticated:Z,isBot:B,isSocialBot:q}=(0,_.B)(),{checkExperiment:H}=(0,g.F)(),V=Z?H("web_auth_exclude_original_images").anyEnabled:H("web_unauth_exclude_original_images").anyEnabled,W=(0,u.Z)({imagesUrls:a,embedSrc:l,embedType:t,excludeOriginals:!B&&!q&&V}),G=v,$=x,J=null!==(R=null==m?void 0:m[0])&&void 0!==R?R:void 0,Y=(0,h.Z)(J),Q=`/search/pins/?q=${encodeURIComponent(Y)}&rs=image_only_attribution`,X=(0,y.Z)(),ee="dweb.plp.ellipsis.button"===n,{COUNTRY_CODES:ie}=k.LAW_CONFIGURATION.dsa,ne=ie.includes(O);if(!W)return null;const ae=(0,u.Z)({imagesUrls:a,embedSrc:l,embedType:t,excludeOriginals:!B&&!q&&V});let le="related_pin_right_click";ee?le="action_bar_ellipsis":i&&(le="right_click");const te=[{component:()=>j({i18n:E,pinId:f,showSignupModal:X,attributionLabelSource:le})},{component:()=>K&&(0,b.SU)(H,"dweb_download_in_context_menus_closeup")&&A({i18n:E,pinTitle:I,pinDescription:T,pinId:f,bestPinImgSrc:ae,attributionLabelSource:le,logContextEvent:N,pinCategory:M,checkExperiment:H,showSignupModal:X})},{component:()=>!(i||ee&&!P)&&C({i18n:E,pinId:f,pinLink:P,fromEllipsisButton:ee,showSignupModal:X,attributionLabelSource:le})},{component:()=>!!(J||G&&$)&&D({history:U,levelOneInterestUrl:$,searchUrl:Q,levelOneInterestName:G,i18n:E,interestTag:J,attributionLabelSource:le})},{component:()=>!(!p||!c)&&L({history:U,sourceUserUsername:c,sourceUserFullname:p,i18n:E,attributionLabelSource:le})},{component:()=>!H("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&F({showSignupModal:X,i18n:E,attributionLabelSource:le})},{component:()=>ne&&z({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${f}`,i18n:E,attributionLabelSource:le})}].map((({component:e})=>e())).filter((e=>!!e));return(0,S.jsxs)(o.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new o.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:w,children:[(0,S.jsx)(o.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,S.jsx)(o.JO,{icon:"pinterest",accessibilityLabel:E.bt("Логотип Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary"})}),te]})}function K({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...a}){var l,r,o,s,d,c,u,g,_,h,y,v,b,f,k;const P=(0,t.useFragment)(T,e),w=!(null==P||!P.storyPinDataId),I=Boolean(null==P||null===(l=P.videos)||void 0===l?void 0:l.videoList),j=null==P?void 0:P.isUnsafe,A=!w&&!I&&!j,C=(0,x.Z)(P);let D;var L,F;(D=null!=P&&P.nativeCreator?P.nativeCreator:null!=P&&P.linkDomain?P.linkDomain.officialUser:(null==P?void 0:P.originPinner)||(null==P?void 0:P.pinner),D)||(D=null!==(L=null==P||null===(F=P.linkDomain)||void 0===F?void 0:F.officialUser)&&void 0!==L?L:null==P?void 0:P.pinner);const z=null==P?void 0:P.title,K=null==P?void 0:P.description,R=null==P?void 0:P.gridTitle,E=null!==(r=null==P||null===(o=P.richSummary)||void 0===o?void 0:o.displayName)&&void 0!==r?r:"",U=null!==(s=null==P||null===(d=P.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",N=null!==(c=null==P||null===(u=P.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",O=null==P?void 0:P.storyPinDataId,Z=null==P||null===(g=P.storyPinData)||void 0===g||null===(_=g.metadata)||void 0===_?void 0:_.pinTitle,B=(null==P||null===(h=P.pinJoin)||void 0===h?void 0:h.visualAnnotation)||void 0,q=null==P?void 0:P.closeupDescription,H=null==P?void 0:P.closeupUnifiedDescription,V=(null==P?void 0:P.category)||"",W=(0,m.Ly)({pinTitle:z,gridTitle:R,richSummaryDisplayName:E,richMetadataTitle:U,storyPinDataId:O,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:B}),G=(0,p.Z)({storyPinDataId:O,pinDescription:K,richMetadataDescription:N,richSummaryDisplayName:E,closeupDescription:q,closeupUnifiedDescription:H});return(0,S.jsx)(M,{...a,embedSrc:(null==P?void 0:P.embed)&&P.embed.src,embedType:(null==P?void 0:P.embed)&&P.embed.type,imagesUrls:C,sourceUserUsername:null===(y=D)||void 0===y?void 0:y.username,sourceUserFullname:null===(v=D)||void 0===v?void 0:v.fullName,pinJoinVisualAnnotation:null==P||null===(b=P.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinJoinSeoBreadcrumbName:(null==P||null===(f=P.pinJoin)||void 0===f?void 0:f.seoBreadcrumbs)&&(P.pinJoin.seoBreadcrumbs.length>0?P.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==P||null===(k=P.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(P.pinJoin.seoBreadcrumbs.length>0?P.pinJoin.seoBreadcrumbs[0].url:null),pinId:i,pinTitle:W,pinDescription:G,pinCategory:V,pinEligibleForDownload:A})}function R({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...a}){var l,t,r,o,s,d,c,u,g,_,h,y,v,x,b;const k=(0,P.S6)()(i),w=null==k?void 0:k.story_pin_data_id,I=null==k?void 0:k.videos,T=!!w,j=!(null==I||!I.video_list),A=null==k?void 0:k.title,C=null==k?void 0:k.description,D=null==k?void 0:k.grid_title,L=null!==(l=null==k||null===(t=k.rich_metadata)||void 0===t?void 0:t.title)&&void 0!==l?l:"",F=null==k?void 0:k.category,z=null==k?void 0:k.images,K=null!==(r=null==k||null===(o=k.rich_metadata)||void 0===o?void 0:o.description)&&void 0!==r?r:"",R=null!==(s=null==k||null===(d=k.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",E=null==k?void 0:k.closeup_description,U=null==k?void 0:k.closeup_unified_description,N=null==k||null===(c=k.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,O=null==k||null===(g=k.pin_join)||void 0===g?void 0:g.visual_annotation,Z=null==k?void 0:k.is_unsafe,B=!T&&!j&&!Z,{link_domain:q,native_creator:H,origin_pinner:V,pinner:W}=k||{};let G=(0,f.wS)(q,H,V,W);var $,J;G||(G=null!==($=null==k||null===(J=k.link_domain)||void 0===J?void 0:J.official_user)&&void 0!==$?$:null==k?void 0:k.pinner);const{full_name:Y,username:Q}=null!==(_=G)&&void 0!==_?_:{},X=(0,m.Ly)({pinTitle:A,gridTitle:D,richSummaryDisplayName:R,richMetadataTitle:L,storyPinDataId:w,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:O}),ee=(0,p.Z)({storyPinDataId:w,pinDescription:C,richMetadataDescription:K,richSummaryDisplayName:R,closeupDescription:E,closeupUnifiedDescription:U});return(0,S.jsx)(M,{...a,embedSrc:null==k||null===(h=k.embed)||void 0===h?void 0:h.src,embedType:null==k||null===(y=k.embed)||void 0===y?void 0:y.type,imagesUrls:z?Object.keys(z).reduce(((e,i)=>{var n;return i&&null!==(n=z[i])&&void 0!==n&&n.url?{...e,[i]:z[i].url}:e}),{}):void 0,sourceUserUsername:Q,sourceUserFullname:Y,pinJoinVisualAnnotation:null==k||null===(v=k.pin_join)||void 0===v?void 0:v.visual_annotation,pinJoinSeoBreadcrumbName:(null==k||null===(x=k.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(k.pin_join.seo_breadcrumbs.length>0?k.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==k||null===(b=k.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(k.pin_join.seo_breadcrumbs.length>0?k.pin_join.seo_breadcrumbs[0].url:null),pinId:i,pinTitle:X,pinDescription:ee,pinCategory:F,pinEligibleForDownload:B})}function E(e){return e.graphqlRef?(0,S.jsx)(K,{...e}):(0,S.jsx)(R,{...e})}},646081:(e,i,n)=>{n.d(i,{Z:()=>o});var a,l=n(667294),t=n(167912);const r=void 0!==a?a:a=n(782194),o=e=>{var i;const n=(0,t.useFragment)(r,e),a=null==n||null===(i=n.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray;return(0,l.useMemo)((()=>null==a?void 0:a.reduce(((e,{name:i,url:n})=>i?{...e,[i]:{name:i,url:n}}:e),{})),[a])}},333741:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(667294),l=n(883119),t=n(793085),r=n(785893);const o=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:o,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(l.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/93502.ru_RU-3fb0706d1ad45417.mjs.map