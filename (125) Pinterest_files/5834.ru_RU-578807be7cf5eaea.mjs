(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5834],{456778:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},944488:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},897614:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},293926:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(667294),o=i(883119),l=i(785893);function r({color:e="red",duration:t,finalProgress:i,shape:r="pill"}){const[s,a]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{a(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===r;return(0,l.jsx)(o.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${i}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},777610:(e,t,i)=>{i.d(t,{Q:()=>d,Z:()=>c});var n=i(667294),o=i(682492),l=i.n(o),r=i(563962),s=i(788241),a=i(282802);function d(e,t){const{setViewContextData:i}=(0,s.sV)(),{requestIdentifier:o}=(0,a.B)(),d=(0,r.Z)(),{viewData:c}=(0,s.SU)();(0,n.useEffect)((()=>{var t;e&&(i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?l()(c,e.view_data):l()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:o}))}),[t])}function c(e){const{children:t,log:i}=e;return d(i),t||null}},187815:(e,t,i)=>{i.d(t,{HI:()=>r,f8:()=>a,hm:()=>s,sH:()=>l});var n=i(883119),o=i(785893);const l=({children:e})=>(0,o.jsx)(n.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),r=({children:e})=>(0,o.jsx)(n.xu,{padding:2,children:e}),s=({children:e})=>(0,o.jsx)(n.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),a=({children:e})=>(0,o.jsx)(n.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},105095:(e,t,i)=>{i.d(t,{Ec:()=>d,IA:()=>x,LX:()=>c,Mf:()=>g,SF:()=>s,_e:()=>a,l0:()=>r,ml:()=>l,q4:()=>o,zn:()=>n});const n=e=>["feed_card_default","feed_card_video"].includes(e),o=2/3,l=2/3,r=1/3,s="36px",a="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},h={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},p={1:"italics",0:"normal"},m={1:"bold",0:"normal"},g=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:o},l)=>({color:e,fontStyle:p[null!=t?t:0],fontWeight:m[null!=i?i:1],horizontalAlignment:u[null!=n?n:0],fontSize:h[l][null!=o?o:0]+"px"}),x=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d},604541:(e,t,i)=>{i.d(t,{Z:()=>x});var n=i(667294),o=i(616550),l=i(883119),r=i(604094),s=i(365434);function a({flexible:e,gutterWidth:t,id:i,isRTL:n,itemWidth:o,maxColumns:l,minColumns:r}){const s=i.replace(/\:/g,"\\:"),a=o+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:l+1-r},((e,t)=>t+r)).map((i=>{const d=i===l?null:(i+1)*a-1;return`\n      @media (min-width: ${i===r?0:i*a}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${s} .static:nth-child(-n+${i}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${n?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${i}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${i*a}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${o}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var d=i(24286),c=i(874261),u=i(988014),h=i(245410),p=i(282802),m=i(549201),g=i(785893);function x({cacheKey:e,columnWidth:t,gutterWidth:i,id:x,renderItem:f,items:y,layout:_,loadItems:v,masonryRef:w,minCols:j,scrollContainerRef:b,serverRender:S,resetPositions:I,virtualize:T=!0}){var C;const{isRTL:k}=(0,p.B)(),P=(0,m.ZP)(),F=(0,o.useLocation)(),A="desktop"!==P,E=S?"serverRenderedFlexible":"flexible",D=(0,u.Q0)(F)&&"desktop"===P?d.OS:y.length||d.g5,z=(0,n.useCallback)((()=>(null==b?void 0:b.current)||window),[b]),L=(0,s.Y)(e),[Z,R]=(0,n.useState)(!1);(0,n.useEffect)((()=>{I&&!Z&&(null==L||L.reset(),R(!0))}),[L,I,Z]);const{checkExperiment:N}=(0,h.F)(),B=null!==(C={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[N("duplo_masonry_virtual_buffer_factor").group])&&void 0!==C?C:.7,W=N("web_masonry_batched_paints").anyEnabled;return(0,g.jsxs)("div",{id:x,className:"gridCentered","data-test-id":"masonry-container",children:[S&&x&&(0,g.jsx)(c.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:a({flexible:A,gutterWidth:i||0,id:x,isRTL:k,itemWidth:t||d.yF,maxColumns:D,minColumns:j||d.yc})}),(0,g.jsx)(l.Rk,{columnWidth:t,renderItem:e=>(0,g.jsx)(r.Z,{name:"MobileGridItem",children:f(e)}),gutterWidth:i||1,layout:A?E:null!=_?_:"basic",items:y,loadItems:v,measurementStore:(0,s.z)(e),minCols:j||d.yc,positionStore:L,ref:e=>{w&&(w.current=e)},scrollContainer:z,virtualize:T,virtualBufferFactor:B,_batchPaints:W})]})}},365434:(e,t,i)=>{i.d(t,{Y:()=>a,z:()=>d});i(883119);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={};function l(e){const t=o[e];return t&&t.screenWidth===window.innerWidth||(o[e]={screenWidth:window.innerWidth}),o[e]}const r=e=>{const t=e.__id||e.id;return"string"==typeof t&&t||null};class s{constructor(){n(this,"idMap",new Map),n(this,"objMap",new Map)}get(e){const t=r(e);return t?this.idMap.get(t):this.objMap.get(e)}has(e){const t=r(e);return t?this.idMap.has(t):this.objMap.has(e)}set(e,t){const i=r(e);i?this.idMap.set(i,t):this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new Map}}function a(e){if(null==e)return;const t=l(e);return t.positionCache||(t.positionCache=new s),t.positionCache}function d(e){if(null==e)return;const t=l(e);return t.measurementCache||(t.measurementCache=new s),t.measurementCache}},282442:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(574155),o=i(667294),l=i(39983),r=i(41162);var s=i(677263);function a({children:e,isAtEndOfFeed:t,pinData:i,itemCount:a,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var h;return(null===(h=(0,s.N5)())||void 0===h?void 0:h.isAuthenticated)||(u=!0),(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,r.E)(),i=(0,o.useRef)(null);(0,o.useEffect)((()=>{e!==i.current&&(i.current=e,t&&(0,l.ZP)(l.at))}),[!!t,e])}(a),e}},946579:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},477001:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(702664),o=i(883119),l=i(603801),r=i(388011),s=i(527386),a=i(105095),d=i(870243),c=i(83503),u=i(785893);function h({isFullWidth:e,actionType:t,buttonAction:i,buttonText:h,experience:p,hideCompleteButton:m,imageAlt:g,imageUrl:x,openNewTab:f,avatarImageDetails:y,examplePinImage:_,titleText:v,titleTextColor:w,titleTextCustomization:j,descriptionText:b,descriptionTextCustomization:S}){var I,T;const{logContextEvent:C}=(0,r.v)(),k=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),P=(0,n.useDispatch)(),{experience_id:F,placement_id:A}=p||{},E=(0,c.Z)({onVisibilityChanged:e=>{e&&p&&(p.status="viewed",C({event_type:13,view_type:612,view_parameter:k}),P((0,s.UT)(A,F,!1,!0)))}}),{width:D}=(0,l.Z)()||{width:8},z=D-8,L=(0,a.IA)(D),Z=z*L,R=L===a.LX||L===a.Ec,{url:N,full_name:B}=y||{},W=Z*a.l0,{url:O}=_||{},H=O?Z*a.l0:0,M=O?a.ml*H:0,{color:$,fontStyle:U,fontWeight:K,horizontalAlignment:q,fontSize:Y}=(0,a.Mf)(j||{},"mweb"),{color:G,fontStyle:X,fontWeight:V,horizontalAlignment:J,fontSize:Q}=(0,a.Mf)(S||{},"mweb");return(0,u.jsx)(o.xu,{position:"relative",padding:1,marginBottom:2,ref:E,children:(0,u.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&x&&N&&(0,u.jsx)(o.xu,{height:Z,width:z,children:(0,u.jsx)(o.Ee,{alt:g||v||"",color:"rgb(111, 91, 77)",naturalHeight:Z,naturalWidth:z,src:x,fit:"cover",children:(0,u.jsx)(o.xu,{paddingY:N?12:3,children:(0,u.jsxs)(o.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[B&&N&&(0,u.jsx)(o.xu,{height:W,width:W,children:(0,u.jsx)(d.qE,{name:B,src:N,size:"fit"})}),(0,u.jsx)(o.xv,{align:q,color:w,italic:"italics"===U,weight:K,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=$||w)&&void 0!==I?I:void 0,fontSize:R?a.SF:Y}},children:v})}),(0,u.jsx)(o.xv,{align:J,italic:"italics"===X,weight:V,children:(0,u.jsx)(o.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=G?G:void 0,fontSize:R?a._e:Q}},children:b})})]})})})}),(!e||e&&O)&&(0,u.jsxs)(o.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[_&&O&&(0,u.jsx)(o.xu,{paddingY:4,children:(0,u.jsx)(o.zd,{height:H,width:M,rounding:4,children:(0,u.jsx)(o.Ee,{alt:"Your first saved Pin",naturalHeight:H,naturalWidth:M,src:O,fit:"cover"})})}),(0,u.jsx)(o.xv,{align:q,color:w,italic:"italics"===U,weight:K,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(T=$||w)&&void 0!==T?T:void 0,fontSize:R&&e?a._e:Y}},children:v})}),b&&S&&(0,u.jsx)(o.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(o.xv,{align:J,italic:"italics"===X,weight:V,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:null!=G?G:void 0,fontSize:R&&e?a._e:Q}},children:b})})}),!m&&(0,u.jsx)(o.kC.Item,{alignSelf:"center",children:(0,u.jsx)(o.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(o.ZP,{accessibilityLabel:h,color:"white",text:h,size:"md",href:i,target:f?"blank":null,onClick:()=>{p&&(C({event_type:102,view_type:612,view_parameter:k}),P((0,s.CK)(A,F,!1,!0)))}})})})]})]})})}},805834:(e,t,i)=>{i.d(t,{Zt:()=>je,iK:()=>be,ZP:()=>Se,cV:()=>_e});var n=i(667294),o=i(702664),l=i(616550),r=i(883119),s=i(604541),a=i(24286),d=i(536042),c=i(282442),u=i(282802),h=i(819079),p=i(946579),m=i(549201),g=i(586058),x=i(293926),f=i(387977),y=i(798198),_=i(777610),v=i(874261),w=i(943795),j=i(260070),b=i(785893);function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const I="BizNuxHomefeedLoader",T=[140,220,265],C=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],k=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{}}),P=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}:{},F=[`${I}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${I}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class A extends n.PureComponent{constructor(...e){super(...e),S(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),S(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),S(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:i}=this.state;!t||e||i||(0,f.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},(()=>[]));for(let n=0;n<t.length;n+=1){const e=t[n].getBoundingClientRect();i[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){const n=this.numberOfColumns+1,o=(window&&window.innerWidth-16*n)/this.numberOfColumns;return{left:e*o+16*(e+1),top:i,width:o,height:T[(e+t)%T.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(w.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:n}=this,o=e.map(((e,o)=>{const l=o%this.numberOfColumns,s=Math.floor(o/this.numberOfColumns),a=C[o%C.length],d=i[l],c=this.computeGridCellLayout(l,s,d),u=(({color:e,startAnimation:t,originDimension:i,destinationDimension:n})=>{const o=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?o:{}}})({color:a,startAnimation:t,originDimension:c,destinationDimension:n&&n[l][s]});return i[l]+=16+c.height,(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:u},children:(0,b.jsx)(r.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:P(t)},children:(0,b.jsx)(r.X6,{color:"light",size:"500",children:e.name})})},o)}));return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${I}_SlideUp`}},children:o})}render(){const{startExitAnimation:e}=this.state;return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(v.Z,{unsafeCSS:(0,y.Ll)(F)}),(0,b.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:k(e)},children:(0,b.jsxs)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(x.Z,{duration:3700,finalProgress:100}),(0,b.jsx)(r.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${I}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${I}_FadeOut`}},children:(0,b.jsx)(r.X6,{children:this.props.i18n.bt("Персонализация вашей ленты...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function E(e){const t=(0,d.ZP)(),i=(0,o.useSelector)((({topics:e})=>e)),n=(0,o.useDispatch)();return(0,_.Q)({view_type:24,view_parameter:261}),(0,b.jsx)(A,{...e,dismissLoader:()=>n((0,j.MI)(!1)),i18n:t,selectedTopics:Object.keys(i).filter((e=>i[e].is_followed)).map((e=>i[e]))})}var D=i(233569),z=i(372836),L=i(367184),Z=i(220067),R=i(812889),N=i(593502),B=i(40660),W=i(448709),O=i(477001),H=i(532243),M=i(825199),$=i(20227),U=i(563962),K=i(245410),q=i(802071),Y=i(328939),G=i(525104);const X=16,V=2;function J({pin:e,width:t,height:i,showDivider:n}){var o,l,s,a,d,c,u;const h=null===(o=e.images)||void 0===o?void 0:o["236x"];return(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:`${V}px solid #fff`}:{}},children:(0,b.jsx)(r.GH,{contentAspectRatio:(null!==(l=null==h?void 0:h.width)&&void 0!==l?l:1)/(null!==(s=null==h?void 0:h.height)&&void 0!==s?s:1),height:i,width:t,children:(0,b.jsx)(r.Ee,{alt:null!==(a=e.description)&&void 0!==a?a:"",naturalWidth:null!==(d=null==h?void 0:h.width)&&void 0!==d?d:1,naturalHeight:null!==(c=null==h?void 0:h.height)&&void 0!==c?c:1,src:null!==(u=null==h?void 0:h.url)&&void 0!==u?u:""})})})}function Q({storyId:e,slotIndex:t}){const i=(0,l.useHistory)(),s=(0,l.useLocation)(),{isAuth:a}=(0,q.Z)(),{checkExperiment:d}=(0,K.F)(),[c,u]=(0,n.useState)(0),h=(0,n.useRef)(),p=(0,U.Z)(),m=(0,G.S6)();(0,n.useLayoutEffect)((()=>{const e=h.current;e&&u(e.offsetWidth)}),[]);const g=(0,o.useSelector)((({stories:t})=>t[e])),x=g.objects.map((e=>m(e.id))).filter(Boolean).slice(0,2),{story_type:f,action:y}=g,_=`${s.pathname}products/${s.search}`,v=()=>{p({component:200,event_type:102,view_parameter:3050,view_type:72}),i.push(_)};return d(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,b.jsx)(Y.qS,{auxData:{story_type:f,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>c?(0,b.jsx)(r.xu,{padding:2,ref:e,children:(0,b.jsx)(r.zd,{rounding:2,children:(0,b.jsxs)(r.iP,{onTap:v,children:[(0,b.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:x.map(((e,t)=>(0,b.jsx)(J,{pin:e,width:(c-X)/2-V/2,height:c-X,showDivider:!t},e.id)))}),(0,b.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,b.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,b.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,b.jsx)(r.xv,{weight:"bold",children:y.text})})})})]})})}):(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,b.jsx)(Y.Hs,{auxData:{story_type:f,content_ids:x.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:c?(0,b.jsx)(r.xu,{padding:2,children:(0,b.jsx)(r.zd,{rounding:2,children:(0,b.jsxs)(r.iP,{onTap:v,children:[(0,b.jsx)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:x.map(((e,t)=>(0,b.jsx)(J,{pin:e,width:(c-X)/2-V/2,height:c-X,showDivider:!t},e.id)))}),(0,b.jsx)(r.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,b.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,b.jsx)(r.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,b.jsx)(r.xv,{weight:"bold",children:y.text})})})})]})})}):(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}var ee=i(806530),te=i(739425),ie=i(377234);function ne({guide:e,guidedQuery:t,isSlot0Style:i=!1}){const{dominant_color:n,display:o}=e,l=(0,b.jsx)(r.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:n,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,b.jsx)(r.xv,{align:i?"start":"center",color:i?(0,ie.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:o})})});return i?l:(0,b.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:l})}const oe={REPLACE:-1,PREPEND:0,APPEND:1};function le({guides:e,isSlot0Style:t=!1,query:i}){const n=({position:e,term:t})=>e===oe.REPLACE?t:e===oe.PREPEND?`${t} ${i}`:`${i} ${t}`,o=()=>e.map((e=>(0,b.jsx)(ne,{guide:e,guidedQuery:n(e),isSlot0Style:t},e.display)));return t?(0,b.jsx)(r.xu,{padding:2,children:(0,b.jsx)(r.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:o()})}):(0,b.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,b.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:o()})})}const re=43,se=2,ae=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],de=e=>ae[e.charCodeAt(0)%ae.length];function ce({guides:e,storyId:t,slotIndex:i,titleFormat:o}){var s;const{isAuth:a}=(0,q.Z)(),{checkExperiment:d}=(0,K.F)(),c=null!==(s=(0,te.mB)((0,l.useLocation)().search).q)&&void 0!==s?s:"";return d(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,b.jsx)(Y.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:re,viewType:se,children:({impressionTrackerRef:t})=>(0,b.jsxs)(r.xu,{ref:t,children:[o&&(0,b.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,b.jsx)(r.xv,{align:"center",children:o})}),(0,b.jsx)(le,{guides:e.map((e=>({display:e.display,dominant_color:de(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})}):(0,b.jsx)(Y.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:re,viewType:se,children:(0,b.jsxs)(n.Fragment,{children:[o&&(0,b.jsx)(r.xu,{paddingY:1,marginTop:2,children:(0,b.jsx)(r.xv,{align:"center",children:o})}),(0,b.jsx)(le,{guides:e.map((e=>({display:e.display,dominant_color:de(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:c})]})})}var ue=i(819365);function he({slotIndex:e,storyId:t,viewParameter:i,viewType:o,storyData:l}){const{actionText:s,actionUrl:a,contextualSearchFromObjects:d,customProperties:c,descriptionFormat:u,displayOptions:h,experience:p,storyType:m,titleFormat:g}=l;switch((0,n.useEffect)((()=>{B.Z.increment("webapp.graphql.pinStory",.1,{viewType:o,storyType:m})}),[o,m]),m){case M.q:{var x,f,y;if(!c||!h)return null;const{numColumnsRequested:e,titleTextColor:t}=h;return 2===e?null:(0,b.jsx)(O.Z,{isFullWidth:!1,actionType:c.actionType,buttonAction:null!=a?a:"",buttonText:null!=s?s:"",experience:null!=p?p:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,avatarImageDetails:null!==(x=c.avatar_image_details)&&void 0!==x?x:{},examplePinImage:null!==(f=null===(y=c.example_pin_image_details)||void 0===y?void 0:y.originals)&&void 0!==f?f:{},titleText:null!=g?g:"",titleTextColor:$.e[t],titleTextCustomization:c.title_text_customization,descriptionText:null!=u?u:"",descriptionTextCustomization:c.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,b.jsx)($.Z,{buttonAction:null!=a?a:"",buttonCustomization:c.button_customization,buttonText:null!=s?s:"",experience:null!=p?p:void 0,hideCompleteButton:c.hide_complete_button,imageAlt:c.image_alt,imageUrl:c.image,openNewTab:c.open_new_tab,storyType:m,titleText:null!=g?g:"",titleTextColor:$.e[h.titleTextColor],titleTextCustomization:c.title_text_customization,videoPin:c.video_pin,videoPlaceholderImage:c.video_placeholder_image});case"general_shopping_upsell":return(0,b.jsx)($.Z,{buttonAction:null!=a?a:"",buttonText:null!=s?s:"",imageAlt:null==c?void 0:c.image_alt,imageUrl:null==c?void 0:c.image,storyType:m,titleText:null!=g?g:"",titleTextColor:$.e[h.titleTextColor]});case"BUBBLE_ONE_COL":return(0,b.jsx)(r.xu,{padding:2,children:(0,b.jsx)(H.Z,{slotIndex:e,storyGraphqlRef:null,storyId:t,viewType:o,viewParameter:i})});case"pinner_authority":case"pinner_authority_unified":return(0,b.jsx)(ee.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,b.jsx)(Q,{storyId:t,slotIndex:e});case"search_guides":return(0,b.jsx)(ce,{guides:null!=d?d:[],slotIndex:e,storyId:t,titleFormat:null!=g?g:""});default:return null}}const pe=(0,W.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,o.useSelector)((({stories:t})=>t[e]));if(!t)return null;const{action:i,container_type:n,custom_properties:l,display_options:r,experience:s,story_type:a,title:d,description:c,objects:u}=t;if(!a)return null;const h=u,p=null==h?void 0:h.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var t,i;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(i=e.term)&&void 0!==i?i:""}}));return{actionText:null==i?void 0:i.text,actionUrl:null==i?void 0:i.url,customProperties:l,displayOptions:r?{numColumnsRequested:r.num_columns_requested,titleTextColor:r.title_text_color}:null,experience:s,storyType:(0,ue.Z)({containerTypeIsItemGrid:56===n,storyType:a})?"BUBBLE_ONE_COL":a,titleFormat:null==d?void 0:d.format,descriptionFormat:null==c?void 0:c.format,contextualSearchFromObjects:p}}}),me=e=>(0,b.jsx)(pe,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,b.jsx)(he,{...e,storyData:t})});var ge=i(679420),xe=i(726091);function fe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ye={},_e=e=>{ye[e]&&ye[e].handlePullToRefresh()},ve=()=>{const{plpImageRenderData:e}=(0,Z.HW)(),[t]=e;return t?t.pin_id:null};class we extends n.PureComponent{constructor(...e){super(...e),fe(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ve(),feedItem:null}:null}),fe(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),fe(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),fe(this,"gridContainerRef",(0,n.createRef)()),fe(this,"renderFeedPin",((e,t)=>{const{feedItemProps:i,location:n,performanceOptimization:o,renderSquarePins:l,showSeoMetadata:r,squarePins:s,trafficSource:a}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:h,impressionData:p,objectIdStr:m,oneTapSave:g,onFeedItemClick:x,onPinLinkClick:f,shouldAllowProductPriceIndicator:y,showSeoMetadata:_,viewData:v,viewParameter:w,viewType:j}=i||{},S=(n.search||"").includes("force_seo"),I=!(null==o||!o.lazyLoadBelowFoldIndex)&&t>o.lazyLoadBelowFoldIndex,T=!(null==o||!o.priorityFetchAboveFoldIndex)&&t<=o.priorityFetchAboveFoldIndex;return(0,b.jsx)(N.default,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:x,onPinLinkClick:f,showSeoMetadata:r||S||_},duploIsSquarePin:l||s,duploLazyLoadImage:I,duploOneTapSave:g,duploPriorityFetchImage:T,duploQueryRef:null,duploShouldAllowProductPriceIndicator:y,feedback:u,imageOnlyOption:h?"image-only":"default",impressionData:p,objectIdStr:m,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:a,viewData:v,viewParameter:w,viewType:j||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,ye[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ye[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:o}=this.props,l=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(l&&this.setState({refreshing:!1}),o&&i){const t=o({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:l,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:i,feedItems:o,feedItemsAdjustment:l,feedKey:d,gridConfig:u,pagination:h,pullToRefresh:m,renderFeedItem:x,serverRender:f,showBizNuxHomefeedLoader:y,trafficSource:_,visuallyCompleteProfilerOptions:v,i18n:w,pageSize:j}=this.props,{unauthLandingPinStateForAuthHomefeed:S}=this.state,I=null!=S&&S.feedItem&&o.length?[S.feedItem,...o]:o,{viewParameter:T,viewType:C}=i||{},{key:k}=u||{},P=d+(k?`|${k}`:""),F="user_search"===_,A=F?window.innerWidth-16:200,D="board"===_?4:void 0,Z={columnWidth:"desktop"===e?a.yF:A,renderItem:({data:e,itemIdx:t})=>{if(x){const i=x(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,b.jsx)(z.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,b.jsx)(xe.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:F,viewParameter:T,viewType:C});case"board":return(0,b.jsx)(g.Z,{boardId:e.id,type:"grid",viewParameter:T,viewType:C});case"topic":return(0,b.jsx)(ge.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:T,viewType:C});case"story":return"number"==typeof T?(0,b.jsx)(me,{slotIndex:t,storyId:e.id,viewParameter:T,viewType:C||1}):null;case"FEED_BREAK_IN":return l&&"breakIn"===l.type&&l.value.content;default:return null}},gutterWidth:"desktop"===e?4*a.jC:D,loadItems:h.loadNext,minCols:F?1:2,...u},N=!y&&h.isLoadingNext&&0===I.length&&!this.state.refreshing,B=j&&parseInt(j,10)<25,[W,O,H]="fullWidthBreakIn"===(null==l?void 0:l.type)?[I.slice(0,l.value.index),l.value.content,I.slice(l.value.index)]:[I,null,[]],M="desktop"===e&&"flashlight"===_,$=M?0:a.qG;return(0,b.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,b.jsx)(L.Z,{enabled:!!m,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,b.jsxs)(r.xu,{marginStart:$,marginEnd:$,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,b.jsxs)(c.Z,{includeBackgroundImages:null==v?void 0:v.includeBackgroundImages,includeVideos:null==v?void 0:v.includeVideos,isAtEndOfFeed:!h.hasNext,itemCount:I.length,pinData:null==v?void 0:v.pins,children:[I.length?(0,b.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,z.kk)({isDesktop:"desktop"===e}),children:(0,b.jsx)(p.Z.Consumer,{children:e=>(0,b.jsx)(n.Fragment,{children:(0,b.jsxs)(z.c$,{children:[(0,b.jsx)(s.Z,{cacheKey:P,id:f?d:void 0,items:W,scrollContainerRef:e,serverRender:f,...Z}),O,H.length>0&&(0,b.jsx)(s.Z,{cacheKey:`${P}_afterBreak`,items:H,scrollContainerRef:e,...Z})]})})})}):h.isLoadingNext?(0,b.jsx)(z.gG,{}):null!=t?t:null,h.isLoadingNext&&"board"===_&&B&&(0,b.jsx)(r.$j,{accessibilityLabel:w.bt("Загрузка", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),N&&(0,b.jsx)(r.xu,{column:12,paddingY:2,children:(0,b.jsx)(R.Z,{partialViewportWidth:M})}),y&&(0,b.jsx)(E,{homefeedLoading:h.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function je({feedItems:e,pagination:t,...i}){const{feedItemsAdjustment:n}=i,r=(0,l.useLocation)(),s=(0,m.ZP)(),a=(0,d.ZP)(),{isAuthenticated:c,isBot:h}=(0,u.B)(),{isBizNuxHomefeedLoadShown:p}=(0,o.useSelector)((({session:e})=>e));let g=e;return"breakIn"===(null==n?void 0:n.type)?g=(0,D.N)({items:e,breakIn:n.value}):"offset"===(null==n?void 0:n.type)&&(g=e.slice(n.value)),(0,b.jsx)(we,{...i,deviceType:s,feedItems:g,isAuthenticated:c,pagination:t,location:r,i18n:a,showBizNuxHomefeedLoader:!!p,showSeoMetadata:h||!c})}function be({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...l}){const r=(0,o.useSelector)((({feeds:e})=>{var t;return null!==(t=e[l.feedKey])&&void 0!==t?t:[]}));return(0,b.jsx)(je,{...l,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>n()}})}function Se({resourceConfig:e,...t}){const i=(0,h.Z)(e);return(0,b.jsx)(be,{...t,resource:i})}},367184:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),o=i(245410),l=i(616550),r=i(883119),s=i(388011),a=i(536042),d=i(785893);const c=24;function u({text:e,isSelected:t,icon:i,animationType:n,position:o,hasStartPulling:l,isExecuted:s}){return(0,d.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:l?4:0,dangerouslySetInlineStyle:t&&s?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===n?40:0}},children:(0,d.jsx)(r.JO,{size:100*o<c?100*o:c,icon:i,accessibilityLabel:e,color:t?"light":"dark"})}),(0,d.jsx)(r.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}const h=.5,p=250;function m({enabled:e,onSelect:t,refreshing:i}){const o=(0,n.useRef)(null),[l,r]=(0,n.useState)(0),[s,a]=(0,n.useState)(!1),d=i?0:l/p,c=d>0,u=()=>{a(!1),r(0)};(0,n.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!i&&(o.current=e.touches[0].clientY)},n=e=>{if(o.current){const t=(e.touches[0].clientY-o.current)*h;t>0&&(r(t),e.preventDefault())}},s=()=>{o.current&&(a(!0),t({pullDistance:l,position:d,resetState:u}),o.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,l,i,d]);const m=o.current;return{pullDistance:l,hasStartPulling:c,position:d,startYRefCurrent:m,PULL_MENU_DISTANCE:p,isExecuted:s}}const g=500;function x({enabled:e,onPull:t,refreshing:i}){const n=(0,a.ZP)(),o=(0,l.useHistory)(),{logContextEvent:c}=(0,s.v)(),h=e=>e>=.6,p=e=>e>.4&&e<.6,{position:x,hasStartPulling:f,PULL_MENU_DISTANCE:y,isExecuted:_}=m({enabled:e,onSelect:e=>{const{position:i,resetState:n}=e;p(i)?setTimeout((()=>{c({view_type:1,event_type:158,view_parameter:92}),t(),n()}),g):h(i)?setTimeout((()=>{c({view_type:1,event_type:10144,view_parameter:92}),o.push("edit/"),n()}),g):n()},refreshing:i}),v=n.bt("Обновить", "Refresh", "pullMenu.refresh", undefined, true),w=n.bt("Редактировать ленту", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"column",height:x*y,justifyContent:"center",marginBottom:f?4:0,children:[(0,d.jsx)(u,{text:w,isSelected:h(x),icon:"edit",animationType:"move",position:x,hasStartPulling:f,isExecuted:_}),(0,d.jsx)(u,{text:v,isSelected:p(x),icon:"refresh",position:x,hasStartPulling:f,isExecuted:_})]})})}const f=120;function y({enabled:e,onPull:t,refreshing:i}){const n=(0,a.ZP)(),{logContextEvent:o}=(0,s.v)(),{position:l,startYRefCurrent:c,pullDistance:u}=m({enabled:e,onSelect:e=>{const{pullDistance:i,resetState:n}=e;i>=f&&(o({view_type:1,event_type:158,view_parameter:92}),t()),n()},refreshing:i}),h=Math.min(l,1),p=n.bt("Потяните вниз, чтобы обновить", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsx)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:l*f,dangerouslySetInlineStyle:{__style:{opacity:h,transition:null===c?"all .3s ease-out":void 0}},children:(0,d.jsx)(r.JO,{size:40,icon:c&&u<f?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:p})})})}function _({enabled:e,onPull:t,refreshing:i}){const{checkExperiment:l}=(0,o.F)(),{anyEnabled:r}=l("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(n.Fragment,{children:r?(0,d.jsx)(x,{enabled:e,onPull:t,refreshing:i}):(0,d.jsx)(y,{enabled:e,onPull:t,refreshing:i})})}},233569:(e,t,i)=>{i.d(t,{N:()=>r});const n=e=>`BREAK_IN_${e}`,o=new Map,l=e=>{const t=o.get(e);if(t)return t;const i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:n(e)});return o.set(e,i),i},r=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),l(e),...t.slice(e)]},372836:(e,t,i)=>{i.d(t,{G9:()=>u,c$:()=>p,cn:()=>m,gG:()=>h,kk:()=>c});var n=i(883119),o=i(549201),l=i(802071),r=i(460914),s=i(411224),a=i(593502),d=i(785893);const c=({isDesktop:e})=>{const t=(0,a.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,h=()=>{const e=(0,o.HG)(),t=(0,a.pinRepPaddingInBoint)({isDesktop:e}),i=t?-t:0;return(0,d.jsx)(n.xu,{marginTop:i,marginBottom:i,paddingY:t})},p=({children:e})=>{const t=(0,o.HG)();return!(0,l.Z)().isAuth&&t?(0,d.jsx)(s.x,{children:e}):e},m=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},220067:(e,t,i)=>{i.d(t,{DZ:()=>c,Dv:()=>u,Es:()=>d,HW:()=>a});var n=i(245410),o=i(611756),l=i(509342);const r=e=>e>=Date.now()-72e5,s=(e,t)=>{const i=[];if(e)for(const n of e)t&&!n.is_shared||r(n.ts)&&i.push(n);return i},a=()=>{const e=(0,o.qn)(l.zR),t=e?JSON.parse(e):[],i=s(t,!1),n=s(t,!0),a=i.map((e=>e.first_pin_image_signature)),d=n.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const i of e)i.is_shared&&r(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t})(t),u=(0,o.qn)(l.dy),h=u?JSON.parse(u):[];return{extraPlpImages:a,plpImageRenderData:i,extraBlpImages:s(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){if(e[i].id!==t[i].id)return!1}return!0},c=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,n.F)(),{anyEnabled:t,group:i}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(i.slice(-1)):NaN}}},812889:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),o=i(883119),l=i(24286),r=i(874261),s=i(549201),a=i(756876),d=i(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",h=({size:e})=>(0,d.jsx)(o.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),p=({children:e})=>(0,d.jsx)(o.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,s.ZP)(),i=t?l.yF:l.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,a.Z)({name:e,width:i,height:t}))).join("")}),(0,d.jsx)(o.xu,{marginStart:l.qG,marginEnd:l.qG,children:t?(0,d.jsxs)(o.kC,{direction:"row",gap:{row:l.jC,column:0},children:[(0,d.jsx)(p,{children:(0,d.jsx)(h,{size:"tall"})}),(0,d.jsx)(p,{children:(0,d.jsx)(h,{size:"short"})}),(0,d.jsx)(p,{children:(0,d.jsx)(h,{size:"tall"})}),!e&&(0,d.jsx)(p,{children:(0,d.jsx)(h,{size:"short"})})]}):(0,d.jsxs)(o.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(p,{children:[(0,d.jsx)(h,{size:"tall"}),(0,d.jsx)(h,{size:"short"}),(0,d.jsx)(h,{size:"tall"})]}),(0,d.jsxs)(p,{children:[(0,d.jsx)(h,{size:"short"}),(0,d.jsx)(h,{size:"tall"}),(0,d.jsx)(h,{size:"short"}),(0,d.jsx)(h,{size:"tall"})]})]})})]})}},731107:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),o=i(377234),l=i(785893);const r=48;function s({color:e,image:t,isSelected:i,title:s}){var a,d,c;return(0,l.jsxs)(n.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,o.Yc)()?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,l.jsx)(n.zd,{height:r,rounding:"circle",width:r,children:(0,l.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,naturalWidth:null!==(d=t.width)&&void 0!==d?d:1,src:null!==(c=t.url)&&void 0!==c?c:""})}),(0,l.jsx)(n.xu,{marginStart:2,marginEnd:3,children:(0,l.jsx)(n.xv,{color:i?"inverse":(0,o.Yc)()?"light":"dark",weight:"bold",children:s})})]})}},383462:(e,t,i)=>{i.d(t,{ZN:()=>r,bJ:()=>a,fv:()=>s,hr:()=>l,lD:()=>d});var n=i(690108);function o(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const l=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t)=>i=>{o(e,t).callCreate().catch((()=>i(l(e,!1)))),i(l(e,!0))},s=(e,t)=>i=>{o(e,t).callDelete().catch((()=>i(l(e,!0)))),i(l(e,!1))},a=e=>t=>{const i=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return n.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:i}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:i})=>{t(l(e,!i))}))}))},d=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const n=e[t];i(l(t,n))}))}))},20227:(e,t,i)=>{i.d(t,{Z:()=>g,e:()=>h});var n=i(702664),o=i(240684),l=i(883119),r=i(527386),s=i(187815),a=i(105095),d=i(83503),c=i(785893);const u=(0,o.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(19596)]).then(i.bind(i,982043)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve(){return 982043}}),h=Object.freeze({white:"inverse",black:"default"}),p={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),aspectRatio:a.q4,controls:!1,poster:i||t.metadata.thumbnail,src:t.url})}function g({buttonAction:e,buttonCustomization:t,buttonText:i,experience:o,hideCompleteButton:u,imageAlt:h,imageUrl:g,openNewTab:x,storyType:f,titleText:y,titleTextColor:_,titleTextCustomization:v,videoPin:w,videoPlaceholderImage:j}){var b;const S=(0,n.useDispatch)(),{experience_id:I,placement_id:T}=o||{},C=(0,d.Z)({onVisibilityChanged:e=>{e&&o&&"viewed"!==o.status&&(o.status="viewed",S((0,r.UT)(T,I,!1,!0)))}}),k=(0,a.zn)(f),P=k?s.f8:s.hm,F=k?s.sH:s.HI,A=!k,{color:E,fontStyle:D,fontWeight:z,horizontalAlignment:L,fontSize:Z}=(0,a.Mf)(v||{},"mweb"),{button_background_color:R,button_text_color:N}=t||{};return(0,c.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:C,children:(0,c.jsxs)(l.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),o&&S((0,r.CK)(T,I,!1,!0))},target:x?"blank":null,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===f&&w?(0,c.jsx)(m,{titleText:y,videoPin:w,videoPlaceholderImage:j}):g&&(0,c.jsx)(l.Ee,{alt:h||y||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:g,fit:"cover"})}),A&&(0,c.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:p.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(P,{children:(0,c.jsx)(l.xv,{align:L,color:_,italic:"italics"===D,weight:z,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(b=E||_)&&void 0!==b?b:void 0,fontSize:Z}},children:y})})})]})}),!u&&(0,c.jsx)(F,{children:(0,c.jsx)(l.xu,{display:"flex",rounding:"pill",color:k?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:R}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:i})})})})]})})}},806530:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(667294),o=i(702664),l=i(883119),r=i(245410),s=i(802071),a=i(328939),d=i(525104),c=i(726091),u=i(785893);const h=43,p=2;function m({slotIndex:e,storyId:t,exactMatch:i=!1}){const{isAuth:m}=(0,s.Z)(),{checkExperiment:g}=(0,r.F)(),x=(0,d.S6)(),{action:f,aux_fields:y,objects:_,story_type:v,title:w}=(0,o.useSelector)((({stories:e})=>e[t])),j=_[0].id,b=_.slice(1,3).map((({id:e})=>x(e)));return!i&&b.length<2?null:g(m?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(a.qS,{auxData:{content_ids:b.map((e=>null==e?void 0:e.id)),story_id:t,story_type:v,...y},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:h,viewType:p,children:({impressionTrackerRef:e})=>(0,u.jsxs)(l.xu,{ref:e,children:[w&&(0,u.jsx)(l.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(l.xv,{align:"center",children:w.format})}),(0,u.jsx)(c.Z,{action:f,auxData:y,isPinnerAuthorityHero:i,userId:j,userPinsImages236x:i?void 0:b.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})),userSearchRepStyle:i,viewParameter:h,viewType:p})]})}):(0,u.jsx)(a.Hs,{auxData:{content_ids:b.map((e=>null==e?void 0:e.id)),story_id:t,story_type:v,...y},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:h,viewType:p,children:(0,u.jsxs)(n.Fragment,{children:[w&&(0,u.jsx)(l.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(l.xv,{align:"center",children:w.format})}),(0,u.jsx)(c.Z,{action:f,auxData:y,isPinnerAuthorityHero:i,userId:j,userPinsImages236x:i?void 0:b.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})),userSearchRepStyle:i,viewParameter:h,viewType:p})]})})}},532243:(e,t,i)=>{i.d(t,{Z:()=>f});var n,o=i(667294),l=i(702664),r=(i(167912),i(883119)),s=i(563962),a=i(825389),d=i(637362),c=i(28630),u=i(328939),h=i(697),p=i(785893);const m=void 0!==n?n:n=i(456778);function g({auxData:e,pattern:t,slotIndex:i,storyId:n,viewType:l,viewParameter:a,storyData:{storyType:m,referringSource:g,hasTitle:x,titleFormat:f,identifierIconName:y,actionUrl:_,actionText:v,bubblesData:w},storyGraphqlRef:j}){const b=(0,s.Z)(),S={story_type:m,story_id:n,content_ids:w.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,p.jsx)(u.Hs,{loggingId:n,objectIdStr:n,viewParameter:a,viewType:l,slotIndex:i,component:200,auxData:S,children:(0,p.jsxs)(o.Fragment,{children:[x&&(0,p.jsxs)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof y&&y!==d.J&&(0,p.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(y),size:14})}),(0,p.jsx)(r.xv,{weight:"bold",children:f})]}),(0,p.jsx)(h.Z,{pattern:t,referringSource:g,storyId:n,viewParameter:a,viewType:l,storyGraphqlRef:j}),_&&v&&(0,p.jsx)(r.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(r.ZP,{accessibilityLabel:v,color:"gray",onClick:()=>{b({view_type:l,view_parameter:a,aux_data:S,event_type:102})},text:v,href:_,rel:(0,c.Z)(_)?"nofollow":void 0,target:(0,c.Z)(_)?"blank":void 0,size:"md"})})]})})}const x=(0,a._3)(m,{type:"story",useGraphQLAdapter:({storyType:e,storyTitle:t,referringSource:i,displayOptions:n,action:o,objects:l})=>({storyType:e,referringSource:i,hasTitle:!!t,titleFormat:null==t?void 0:t.format,identifierIconName:null==n?void 0:n.identifierIconName,actionUrl:null==o?void 0:o.url,actionText:(null==o?void 0:o.text)||void 0,bubblesData:(null==l?void 0:l.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}),useLegacyAdapter:e=>{var t,i,n,o;const r=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],s=(0,l.useSelector)((({articles:e})=>r.map((t=>{const i=e[t];return{type:i.type,id:i.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(t=e.title)||void 0===t?void 0:t.format,identifierIconName:null===(i=e.display_options)||void 0===i?void 0:i.identifier_icon_name,actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,actionText:null===(o=e.action)||void 0===o?void 0:o.text,bubblesData:s}:null}});function f({storyGraphqlRef:e,storyId:t,...i}){const[n,o]=x(null!=e?e:t);return n&&(0,p.jsx)(g,{...i,storyId:t,storyData:n,storyGraphqlRef:o})}},825199:(e,t,i)=>{i.d(t,{q:()=>o,z:()=>n});const n=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],o="checklist_education_feed_card"},819365:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(951503);const o=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,n.Z)({storyType:t})},951503:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(825199);const o=({storyType:e})=>n.z.includes(e)},679420:(e,t,i)=>{i.d(t,{Z:()=>b});var n,o=i(702664),l=i(167912),r=i(883119),s=i(282802),a=i(41669),d=i(383462),c=i(536042),u=i(734417),h=i(731107),p=i(785893);const m=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:o,locale:l,nameTextSize:s,renderAsPill:a,showFollowerCount:d,topicName:m,followerCount:g,image:x})=>{var f;const y=(0,c.ZP)(),_=(0,u.Z)(),v=(0,p.jsx)(r.JO,{accessibilityLabel:y.bt("Выбрано", "Selected", " - ", undefined, true),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return a?(0,p.jsx)(h.Z,{color:e||"#767676",image:x,isSelected:null!=o&&o,title:m}):(0,p.jsxs)(r.xu,{position:"relative","aria-selected":o,children:[(0,p.jsx)(r.zd,{rounding:n||i?4:2,children:(0,p.jsxs)(r.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(r.xu,{bottom:!0,left:!0,padding:n&&o?1:0,position:"absolute",right:!0,rounding:n&&o?4:0,top:!0,children:(0,p.jsx)(r.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(f=x.url)&&void 0!==f?f:""})}),(0,p.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:o?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&o?"4px solid #767676":"none"}},rounding:n?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),n&&o&&(0,p.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,p.jsx)(r.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(r.xv,{align:"center",color:"light",size:s,weight:"bold",children:m})}):(0,p.jsxs)(r.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(r.xv,{color:"inverse",size:s,weight:"bold",children:m}),d&&g>=0&&(0,p.jsx)(r.xu,{paddingY:1,children:(0,p.jsxs)(r.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(r.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:_(l,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),y.bt("подп.", "followers", " - ", undefined, true)]})})]}),o&&(0,p.jsx)(r.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,p.jsx)(r.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:v}):v})]})},g=void 0!==n?n:n=i(944488),x=({topicRef:e,...t})=>{var i,n,o,r,s,a;const d=(0,l.useFragment)(g,e),c=d.images?{url:null!==(i=d.images.url)&&void 0!==i?i:"",width:null!==(n=d.images.width)&&void 0!==n?n:0,height:null!==(o=d.images.height)&&void 0!==o?o:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(m,{backgroundColor:null!==(r=d.background_color)&&void 0!==r?r:"",topicName:null!==(s=d.name)&&void 0!==s?s:"",followerCount:null!==(a=d.follower_count)&&void 0!==a?a:0,image:c,...t})},f=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{const o=i||e||t||{},l=o.images["236x"]||o.images["400x"]||o.images["474x"]||o.images.orig||{height:1,url:"",width:1},r=o.follower_count||-1;return(0,p.jsx)(m,{backgroundColor:o.background_color,topicName:o.name,followerCount:r,image:l,...n})};var y;const _=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:l="lg",onTouch:c,padding:u=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:y=!1,topic:_,viewParameter:v,viewType:w})=>{const j=(0,o.useDispatch)(),{locale:b}=(0,s.B)(),S=(0,p.jsxs)(r.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==_.type?(0,p.jsx)(f,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:b,nameTextSize:l,renderAsPill:h,showFollowerCount:g,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp}):(0,p.jsx)(x,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:b,nameTextSize:l,renderAsPill:h,showFollowerCount:g,topicRef:_.topicRef}),!!_&&m&&(0,p.jsx)(r.xu,{paddingY:2,children:(0,p.jsx)(a.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:_.id,invertColors:t,inline:t,isFollowed:_.is_followed,onFollow:e=>j((0,d.ZN)(e)),onUnfollow:e=>j((0,d.fv)(e)),size:"md",unfollowEventType:602,viewParameter:v||void 0,viewType:w||void 0})})]});let I="/";return _&&(I=`/topics/${_.id}`),y&&_.slug?(0,p.jsx)(r.iP,{role:"link",onTap:({event:e})=>{null==c||c(e)},tapStyle:"compress",rounding:2,href:I,children:(0,p.jsx)(r.xu,{padding:u,children:S})}):S},v=void 0!==y?y:y=i(897614),w=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:o=!1,nameTextSize:r="lg",onTouch:s,padding:a=2,renderAsPill:d,showFollowButton:c=!1,showFollowerCount:u=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:g})=>{var x,f;const y=(0,l.useFragment)(v,e);return(0,p.jsx)(_,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:o,nameTextSize:r,onTouch:s,padding:a,renderAsPill:d,showFollowButton:c,showFollowerCount:u,shouldClickthrough:h,viewParameter:m,viewType:g,topic:{id:null!==(x=y.entityId)&&void 0!==x?x:"",type:"graphql",is_followed:null!==(f=y.is_followed)&&void 0!==f&&f,topicRef:y}})},j=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:l=!1,isHomefeedTuner:r,isLego:s,isSelected:a=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:x=!1,viewParameter:f,viewType:y})=>{const v=(0,o.useSelector)((({topics:t})=>t[e])),w=null!=t?t:v;return(0,p.jsx)(_,{decreaseNamePadding:l,isHomefeedTuner:r,isLego:s,isSelected:a,nameTextSize:d,onTouch:c,padding:u,renderAsPill:h,showFollowButton:m,showFollowerCount:g,shouldClickthrough:x,viewParameter:f,viewType:y,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:i,topicInfoForContextualExp:n,type:"resource"}})},b=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:o="lg",onTouch:l,padding:r=2,renderAsPill:s,showFollowButton:a=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:h,...m})=>m.topicRef?(0,p.jsx)(w,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:o,onTouch:l,padding:r,renderAsPill:s,showFollowButton:a,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:h,topicRef:m.topicRef}):(0,p.jsx)(j,{id:m.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:o,onTouch:l,padding:r,renderAsPill:s,showFollowButton:a,showFollowerCount:d,shouldClickthrough:c,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:u,viewType:h})},726091:(e,t,i)=>{i.d(t,{Z:()=>S});var n=i(667294),o=i(702664),l=i(883119),r=i(563962),s=i(870243),a=i(536042),d=i(734417),c=i(630089),u=i(282802),h=i(28630),p=i(843843),m=i(41669),g=i(328939),x=i(427778),f=i(712968),y=i(785893);const _={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},v=({height:e,image:t,width:i})=>{var n,o,r;const s=(0,a.ZP)();return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,y.jsxs)(l.xu,{position:"relative",children:[(0,y.jsx)(l.GH,{width:i,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,y.jsx)(l.Ee,{alt:s.bt("изображение пина", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,naturalHeight:null!==(o=t.height)&&void 0!==o?o:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:_,height:e,width:i,position:"absolute",top:!0,left:!0})]}):(0,y.jsx)(l.xu,{color:"secondary",width:i,height:e})})};var w=i(333741);const j=60,b=117;function S({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:_=!1,onFollowUser:S,onUnfollowUser:I,userId:T,userPinsImages236x:C,viewParameter:k,viewType:P,truncateName:F=!1}){const A=(0,a.ZP)(),E=(0,d.Z)(),D=(0,o.useDispatch)(),{locale:z}=(0,u.B)(),L=(0,r.Z)(),[Z,R]=(0,n.useState)(_?window.innerWidth-16:null),N=(0,f.mN)()(T);if(!N)return null;const{contextual_pin_image_urls:B,explicitly_followed_by_me:W,follower_count:O=0,full_name:H,image_medium_url:M,is_verified_merchant:$,recent_pin_images:U,username:K,verified_identity:q}=N,Y=e=>Z?(Z-(e-1))/e:0,G=_?1.6*Y(4):b,X=C||[],V=(null==U?void 0:U["222x"])||(null==U?void 0:U["192x"])||[];let J=(null==B?void 0:B["222x"])||(null==B?void 0:B["192x"])||[];i&&0===J.length&&(J=V);const Q=_&&J.length<=0;let ee=_?J.concat(V).slice(0,4):X.concat(V).slice(0,2);0===ee.length&&(ee=[void 0,void 0]);const te=!Q&&(Z?(0,y.jsx)(l.zd,{rounding:4,children:(0,y.jsx)(l.kC,{children:ee.map(((e,t)=>(0,y.jsx)(v,{height:G,image:e,width:Y(ee.length)},`pinImage-${t}`)))})}):(0,y.jsx)(l.xu,{height:G,ref:e=>{e&&R(e.offsetWidth)},width:"100%"})),ie=e=>(0,y.jsx)(l.kC,{justifyContent:"center",children:(0,y.jsx)(l.xu,{marginTop:e,height:j,width:j,children:(0,y.jsx)(s.qE,{outline:!0,name:null!=H?H:"",src:null!=M?M:""})})}),ne=e=>(0,y.jsxs)(l.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,y.jsx)(l.kC,{alignItems:"stretch",maxWidth:(_?(Z||0)/2:Z)||void 0,children:(0,y.jsx)(l.xv,{align:e,weight:"bold",lineClamp:F?1:void 0,children:$||null!=q&&q.verified?(0,y.jsx)(w.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=H?H:"",verifiedType:$?"verifiedMerchant":"verifiedIdentity",truncate:F}):H})}),(0,y.jsx)(l.xv,{inline:!0,size:"100",align:e,children:(0,c.nk)(A.nbt(["{{followers}} подписчик", "{{followers}} подписчика", "{{followers}} подписчиков"], O, "PinnerAuthority.followersCount", true),{followers:E(z,O,{shortform:!0})})})]}),oe=(0,y.jsx)(l.kC,{justifyContent:"center",children:e&&e.url?(0,y.jsx)(l.ZP,{accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{L({event_type:9029,object_id_str:T,view_type:P,view_parameter:k,aux_data:t})},rel:(0,h.Z)({url:e.url})?"nofollow":void 0,target:(0,h.Z)({url:e.url})?"blank":void 0}):(0,y.jsx)(m.Z,{id:T,isSecondaryButton:!0,isFollowed:W,onFollow:e=>{S&&S(),D((0,x.ZN)(e))},onUnfollow:e=>{I&&I(),D((0,x.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:k,viewType:P})});return(0,y.jsx)(g.Cy,{loggingId:T,objectIdStr:T,slotIndex:0,viewParameter:k,viewType:P,children:({impressionTrackerRef:e})=>(0,y.jsx)(l.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,y.jsx)(p.MZ,{to:`/${K}/`,onTouch:()=>{L({event_type:43,object_id_str:T,view_parameter:k,view_type:P})},children:(0,y.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[te,_?(0,y.jsx)(l.xu,{width:"100%",children:(0,y.jsxs)(l.kC,{justifyContent:"between",alignItems:"center",children:[(0,y.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},children:[ie(),ne("start")]}),oe]})}):(0,y.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},children:[ie(-10),ne("center"),oe]})]})})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/5834.ru_RU-578807be7cf5eaea.mjs.map